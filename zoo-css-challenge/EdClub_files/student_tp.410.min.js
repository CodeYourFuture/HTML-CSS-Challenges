var student_tp;(self.webpackChunkstudent_tp=self.webpackChunkstudent_tp||[]).push([[839],{38679:e=>{"use strict";e.exports=JSON.parse('{"sentryDSN":"https://395fecf8768243eead8a6a93295f3b11@sentry.io/50133","sentryDSN_NOADS":"https://a069cd499c504c3084b7c8853b98e752@sentry.io/1275414","sentryDSN_teacher":"https://489f01b2ff4e4c1ab69e319802dcfd89@sentry.io/1763178"}')},98482:e=>{"use strict";e.exports=JSON.parse('{"definitions":{"classicTyping":{"type":"object","properties":{"use_hand":{"anyOf":[{"type":"null"},{"enum":["left","right"],"type":"string"}]},"is_partial":{"type":"integer"},"per_chr":{"items":{"type":"object","properties":{"index":{"type":"integer"},"word_index":{"type":"integer"},"chr":{"type":"string"},"valid":{"type":"boolean"},"dirty":{"type":"boolean"},"dur":{"type":"integer"},"real_valid":{"type":"boolean"}}},"type":"array"},"lesson_text":{"anyOf":[{"type":"string"},{"type":"array","description":"xxx logographic extension"}]},"on_error":{"enum":["continue","block"],"type":"string"},"lesson_id":{"type":"integer"},"history":{"items":{"anyOf":[{"items":[{"anyOf":[{"minLength":1,"type":"string","maxLength":1},{"type":"string","enum":["<-",""],"description":"xxx empty string appears to be a bug"}]},{"type":"integer"}],"additionalItems":false,"type":"array"},{"type":"object","properties":{"action":{"type":"string","enum":["focus"]},"i":{"type":"integer"}},"required":["action","i"],"description":"xxx should action item even be part of history?"}]},"type":"array"},"profile_block_on_errors":{"anyOf":[{"type":"boolean"},{"type":"null"},{"type":"integer","description":"xxx wtf?"}]},"id":{"type":"integer"},"deletable":{"type":"boolean"}}}},"$ref":"#/definitions/classicTyping"}')},97694:e=>{"use strict";e.exports=JSON.parse('{"type":"object","properties":{"duration":{"type":"integer"},"watch_time":{"type":"integer"},"watch_log":{"items":{"items":[{"type":"integer"},{"type":"integer"},{"type":"integer"}],"additionalItems":false,"type":"array"},"type":"array"},"lesson_id":{"type":"integer"},"reached_end":{"type":"boolean"}},"required":["duration","watch_time","watch_log","lesson_id"]}')},31349:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(82526),n(41817),n(32165),n(69826),n(91038),n(66992),n(47042),n(68309),n(43371),n(41539),n(88674),n(74916),n(39714),n(78783),n(64765),n(23123),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(35666);var o=p(n(67294)),a=p(n(89357)),i=p(n(9479)),s=p(n(30381));n(15461);p(n(84463));var c=p(n(48583)),u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=l();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(98912));function l(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return l=function(){return e},e}function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){f(a,r,o,i,s,"next",e)}function s(e){f(a,r,o,i,s,"throw",e)}i(void 0)}))}}function m(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=Object.freeze({Accepted:202,BadRequest:400,Unauthorized:401,NotFound:404,InternalServerError:500,ServiceUnavailable:503,Offline:0}),g="1.1";function v(e,t,r){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;switch(e.status){case h.Unauthorized:return(0,c.default)(s&&s!==window),u.getFreshSession().then((function(e){e?e.is_student?i.default.ajax(s):u.takeMeHome(e):approuter.login_page({next_app:approuter.current_app})})),!0;case h.InternalServerError:try{b(JSON.parse(e.responseText).traceback),console.error(JSON.parse(e.responseText).traceback)}catch(e){}break;case h.ServiceUnavailable:approuter.show_modal(o.default.createElement(a.default,{id:"err503",width:450,show_x:!1,close_outside:!1,esc_close:!1},o.default.createElement("h3",null,"Service Temporarily Unavailable"),o.default.createElement("hr",null),o.default.createElement("p",null,"TypingClub is currently unavailable. Please try again in a few seconds, or try refreshing the page. We apologize for the inconvenience.")));break;case h.NotFound:return approuter.not_found(),!0;case h.Offline:if(n.g.cordova)return approuter.not_found(),!0}}function b(e){var t=(0,i.default)("<div />").css({margin:20,border:"1px solid #bbb",borderRadius:10});(0,i.default)("body").append(t);var n,r=m(e.split("\n\n"));try{for(r.s();!(n=r.n()).done;){var o=n.value,a=(0,i.default)("<pre />").html(o).css({borderRadius:0});a.css({border:0,margin:0}),o.search(/\/tpclub\//)>-1&&a.css({background:"#ddd",color:"darkred"}),t.append(a)}}catch(e){r.e(e)}finally{r.f()}t.find("pre").last().css({background:"darkred",color:"white"})}function _(e,t,n){return new Promise((function(r,o){i.default.ajax({beforeSend:function(e,t){return e.setRequestHeader("Authorization","Token "+u.getToken()),!0},url:""+e,dataType:"json",cache:!1,success:function(e){t&&t(e),r(e)},error:function(e,t,r){n?n(e,t,r):v(e,t,r,this)||o(e)}})}))}function w(e,t,n,r){return new Promise((function(o,a){i.default.ajax({beforeSend:function(e,t){return e.setRequestHeader("Authorization","Token "+u.getToken()),!0},type:"POST",contentType:"application/json",url:""+e,data:JSON.stringify(t),dataType:"json",success:function(e){n?n(e):o(e)},error:function(e,t,n){v(e,t,n,this)||(r?r(e,t,n):a(e))}})}))}function k(){return(k=d(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,approuter.materialize_profile();case 2:return e.next=4,w("/api/v1.1/lessonfeedback/",t);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(){return(x=d(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",approuter.update_profile((function(){return w("/api/v1.1/student/join_program/",{mprogram_id:t})})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=d(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",approuter.update_profile((function(){return w("/api/v1.1/student/join_team/",{team_id:t.id})})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(){return(S=d(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",approuter.update_profile({password:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=d(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,approuter.update_profile((function(){return w("/api/v1.1/student/reset_progress/",{program_id:t})}),{is_full_refresh:!0});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return(E=d(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,approuter.update_profile((function(){return w("/api/v1.1/student/remove_from_dashboard/",{program_id:t})}),{is_full_refresh:!0});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P={StatusCode:h,get:_,patch:function(e,t,n,r){return new Promise((function(o,a){i.default.ajax({beforeSend:function(e,t){return e.setRequestHeader("Authorization","Token "+u.getToken()),e.setRequestHeader("X-HTTP-Method-Override","PATCH"),!0},type:"POST",contentType:"application/json",url:""+e,data:JSON.stringify(t),dataType:"json",success:function(e){n?n(e):o(e)},error:function(e,t,i){if(e.status==h.Accepted){var s=e.responseText;n?n(s):o(s)}else r?r(e,t,i):v(e,t,i,this)||a(e)}})}))},post:w,postLessonFeedback:function(e){return k.apply(this,arguments)},getTypingResultsStats:function(e,t){var n=e+"stats/";n&&_(n,t)},changePassword:function(e){return S.apply(this,arguments)},forgotPassword:function(e,t,n,r){w("/auth/forgot_password/",{domain:e,email:t},n,r)},checkClassCode:function(e,t,n,r){i.default.get("https://s.typingclub.com/auth/check_class_code/?domain="+e+"&code="+t,n,r)},signup2Class:function(e,t,n){e.is_authenticated?w("/api/v1.1/student/signup2class/",e,t,n):w("/auth/signup2class/",e,t,n)},deleteAccount:function(e){var t,n,r,o;t="/api/v1.1/student/",n={password:e},r=function(e){try{localStorage.setItem("homepage-message",JSON.stringify({type:"success",text:"Your account was succesfully deleted. We are sorry to see you go."}))}catch(e){}u.signUserOut().then(u.redirectAfterLogout)},o=function(e){try{localStorage.setItem("homepage-message",JSON.stringify({type:"warning",text:"Your request could not be completed at this time. For security reasons you have been logged out of your account."}))}catch(e){}u.signUserOut().then(u.redirectAfterLogout)},new Promise((function(e,a){i.default.ajax({beforeSend:function(e,t){return e.setRequestHeader("Authorization","Token "+u.getToken()),!0},type:"DELETE",contentType:"application/json",url:""+t,data:JSON.stringify(n),dataType:"json",success:function(t){r?r(t):e(t)},error:function(e,t,n){o?o(e,t,n):v(e,t,n,this)||a(e)}})}))},getSubjectStats:function(e,t,n){t||(t=approuter.profile);var r=t.resource_uri+"stats/subject_stats/";n&&(r+="?subject_id="+n),_(r,e)},getStudentBadges:function(e,t){t||(t=approuter.profile),_(t.resource_uri+"badges/",e)},joinProgram:function(e){return x.apply(this,arguments)},joinTeam:function(e){return j.apply(this,arguments)},version:g,getRecentActivity:function(e,t){t||(t=approuter.profile),_(t.resource_uri+"recent_activity/",e)},getStudentKPIComparison:function(e,t,n,r,o){var a={team_id:e?e.team_id:null,program_id:e?e.program_id:null,grade:o.grade,school_id:o.school_id,subject:t,period:n,timezone:o.timezone};w(o.resource_uri+"stats/typing_student_kpi_comparison/",a,r)},getStudentOverallStats:function(e,t,n,r,o){var a={team_id:e?e.team_id:null,program_id:e?e.program_id:null,grade:o.grade,subject:t};n>0&&(a.begin_time=(0,s.default)().locale("en").subtract(n,"days").format("YYYY-MM-DD"),a.end_time=(0,s.default)().locale("en").format("YYYY-MM-DD")),w(o.resource_uri+"stats/typing_student_kpi_comparison/",a,r)},getTeamprogramOverallStats:function(e,t,n){var r={team_id:e.team_id,grade:e.grade};e.program_id&&(r.program_id=e.program_id),t>0&&(r.begin_time=(0,s.default)().locale("en").subtract(t,"days").format("YYYY-MM-DD"),r.end_time=(0,s.default)().locale("en").format("YYYY-MM-DD")),w("/api/v1.1/team/"+e.team_id+"/stats/typing_kpi_comparison/",r,n)},getSchoolOverallStats:function(e,t,n,r){var o={subject_id:t};n>0&&(o.begin_time=(0,s.default)().locale("en").subtract(n,"days").format("YYYY-MM-DD"),o.end_time=(0,s.default)().locale("en").format("YYYY-MM-DD")),w("/api/v1.1/school/"+e+"/stats/typing_kpi_comparison/",o,r)},getStudentProgressStats:function(e,t,n,r,o){var a={period:e,subject:o};r&&(a.begin_time=(0,s.default)().locale("en").subtract(r-1,"days").format("YYYY-MM-DD")),w(n.resource_uri+"stats/typing_student_overview/",a,t)},getTeamprogramProgressStats:function(e,t,n,r){var o={period:e,limit:r||0};n.program_id&&(o.program_id=n.program_id),w("/api/v1.1/team/"+n.team_id+"/stats/typing_overview/",o,t)},getSchoolProgressStats:function(e,t,n,r,o){w("/api/v1.1/school/"+n+"/stats/typing_overview/",{period:e,limit:o||0,subject_id:r},t)},getStudentProgressInClasStats:function(e,t,n,r){var o={period:t,team_id:e.team_id,program_id:e.program_id};w(r.resource_uri+"stats/typing_student_progress/",o,n)},getTeamprogramProgressInClassStats:function(e,t,n){var r={period:t,program_id:e.program_id};w("/api/v1.1/team/"+e.team_id+"/stats/typing_progress/",r,n)},getStudentClassHistogramStats:function(e,t,n,r){var o={metric:t,team_id:e.team_id,program_id:e.program_id};w(r.resource_uri+"stats/typing_student_histogram/",o,n)},getTeamprogramHistogramStats:function(e,t,n){var r={metric:t,program_id:e.program_id};w("/api/v1.1/team/"+e.team_id+"/stats/typing_histogram/",r,n)},getSchoolHistogramStats:function(e,t,n,r){w("/api/v1.1/school/"+e+"/stats/typing_histogram/",{metric:n,subject_id:t},r)},getStudentPunchCardStats:function(e,t,n){var r={};e.length&&(r.begin_time=(0,s.default)().locale("en").subtract(e,"months").format("YYYY-MM-DD"),r.end_time=(0,s.default)().locale("en").format("YYYY-MM-DD")),w(n.resource_uri+"stats/typing_student_weekday_practice/",r,t)},getTeamPunchCardStats:function(e,t,n){var r={};e.length&&(r.begin_time=(0,s.default)().locale("en").subtract(e,"months").format("YYYY-MM-DD"),r.end_time=(0,s.default)().locale("en").format("YYYY-MM-DD")),n.program_id&&(r.program_id=n.program_id),w("/api/v1.1/team/"+n.team_id+"/stats/typing_weekday_practice/",r,t)},getSchoolPunchCardStats:function(e,t,n,r){var o={subject_id:r};e.length&&(o.begin_time=(0,s.default)().locale("en").subtract(e,"months").format("YYYY-MM-DD"),o.end_time=(0,s.default)().locale("en").format("YYYY-MM-DD")),w("/api/v1.1/school/"+n+"/stats/typing_weekday_practice/",o,t)},getStudentGradeLevelStats:function(e,t,n){var r={team_id:e.team_id,program_id:e.program_id,weeks:4};w(n.resource_uri+"stats/typing_student_weekly_kpi/",r,t)},getStudentCurrentStats:function(e,t,n){w(t.resource_uri+"stats/typing_student_current_stats/",{timezone:t.timezone,weekday_start:n},e)},getStudentQuickStats:function(e,t,n,r){w(t.resource_uri+"stats/typing_student_quick_stats/",{subject_id:n,weekday_start:r,timezone:t.timezone},e)},reactivateUserSubscription:function(e,t){w("/api/v1.1/usersubscription/reactivate/",e,t)},updatePaymentUserSubscription:function(e,t){w("/api/v1.1/usersubscription/update-payment/",e,t)},createUserSubscription:function(e,t,n){w("/api/v1.1/usersubscription/subscribe_plan/",e,t,(function(e){400==e.status&&alert(e.responseJSON.error),n&&n(e)}))},cancelUserSubscription:function(e,t){w("/api/v1.1/usersubscription/cancel_subscription/",e,t)},getUserSubscription:function(e){_("/api/v1.1/usersubscription/",(function(t){0!=t.objects.length?e(t.objects[0]):e(null)}))},resolveOAauthToken:function(e,t,n,r,o){w("/auth/resolve_oauth_token/",{issuer:e,domain:t,code:n},r,o)},getSchoolAccount:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a="/auth/get_account/";w(a,{domain:e,forSchoolAccount:r,forClassImport:o},(function(e){~document.location.host.search("localhost")&&u.setDomain(e.domain),t(e)}),n)},getUserToken:function(e,t,n,r,o){w("/auth/get_token/",{domain:e,username:t,password:n},r,o)},getLessonPlanManifest:function(e){_("/lessonplans.json",e)},resetLessonPlan:function(e){return O.apply(this,arguments)},removeFromDashboard:function(e){return E.apply(this,arguments)},createCardLicenseSubscription:function(e,t,n){w("/api/v1.1/usersubscription/activate_license_card/",e,t,n)},getJoinableTeams:function(){return _("/api/v1.1/team/?joinable=true&limit=1000")},getTpPlans:function(){return _("/api/v1.1/subscriptionplan/")},getVideo:function(e){return _("/api/v1.1/video/"+e+"/")}};t.default=P},34834:(e,t,n)=>{n(82526),n(41817),n(32165),n(92222),n(69826),n(89554),n(91038),n(66992),n(85827),n(65069),n(47042),n(68309),n(9653),n(9494),n(19601),n(38880),n(30489),n(47941),n(41539),n(88674),n(12419),n(74916),n(39714),n(78783),n(64765),n(54747),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(35666);l(n(31349));var r=n(90164),o=n(52055),a=l(n(48583)),i=l(n(23560)),s=l(n(14779)),c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(92119));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return b(this,n)}}function b(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t,n,r,o){var a={};return Object.keys(r).forEach((function(e){a[e]=r[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),a),o&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}var j=function(e){var t,n,u;return t=(0,o.log_catch_promise)("goto_app"),n=(0,o.log_catch_promise)("goto_window_url"),x((u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(b,e);var t,n,u,l,p,d=v(b);function b(){var e;y(this,b);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return k(_(e=d.call.apply(d,[this].concat(n))),"root",void 0),k(_(e),"current_app",void 0),k(_(e),"current_app_index",1),k(_(e),"is_lesson_to_plan_transition",!1),e}return t=b,(n=[{key:"redirect",value:function(e){document.location=e}},{key:"refresh",value:function(){return this.apply_env(this.current_app)}},{key:"unload_current_app",value:function(){this.setState({component:null}),c.flush_timeouts(),this.events.fire_event("unload"),this.events.flush("unload"),$(window).unbind("resize"),this.keymanager.flush(),this._attempt=null}},{key:"apply_env",value:(l=regeneratorRuntime.mark((function e(t){var n,c,u,l,p,d,m,y,h,g,v,b,_,w,k=this,x=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(e){return"blank"!==e.type&&!e.is_instructor},n=x.length>1&&void 0!==x[1]&&x[1],this.modals=[],(0,o.addBreadcrumb)({category:"log",level:"info",message:"apply_env: "+t.app}),Sentry.configureScope((function(e){e.setExtra("lesson",this.lesson),e.setExtra("env",t)})),n||this.unload_current_app(),this.current_app_index++,e.next=9,this.refresh_badges();case 9:return e.next=11,this.refresh_profile();case 11:return c=t.app,(0,a.default)(c,"missing app name"),l=u,e.next=16,this.resolveAppRoute(c);case 16:if((p=e.sent)&&p.authorization&&(l=p.authorization),l(this.profile,u)){e.next=21;break}return this.login_page({next_app:t}),e.abrupt("return");case 21:this.is_lesson_to_plan_transition=!1,d=document.location.search,e.t0=t.app,e.next="lesson"===e.t0?26:"student.testplan"===e.t0||"student.lessonplan"===e.t0||"student.placementtest_app"===e.t0?44:"student.dashboard_app"===e.t0?49:"student.scoreboard"===e.t0?56:57;break;case 26:return e.next=28,this.refresh_lesson(t.id,t.program_id);case 28:if(e.prev=28,c=this.lesson.activity.app,this.lesson.activity.instruction?c="typing.instruction":"typing.classic_typing_app"==c&&"boxed"==this.lesson.activity.render_engine&&(c="typing.boxed_typing"),!(m=this.lesson.activity)||!m.is_dynamic||m.dynamic_text_generated){e.next=35;break}return e.next=35,new Promise((function(e){(0,r.generate_dynamic_lesson)(k.lesson,k.program,e)}));case 35:e.next=41;break;case 37:throw e.prev=37,e.t1=e.catch(28),(0,o.captureException)(e.t1,{extra:{same_app_lesson:this.lesson.id==this.current_app.id,lesson:JSON.stringify(this.lesson)}}),e.t1;case 41:return!this.is_rigged&&this.lesson.is_unassigned&&(c="student.lesson_locked"),e.abrupt("break",57);case 44:return this.lesson=null,e.next=47,this.refresh_program(t.id);case 47:return this.current_app&&"lesson"===this.current_app.app&&(this.is_lesson_to_plan_transition=!0),e.abrupt("break",57);case 49:if(!this.is_dirty_profile){e.next=54;break}return this.profile=null,e.next=53,this.refresh_profile();case 53:this.is_dirty_profile=!1;case 54:return d="",e.abrupt("break",57);case 56:this.teamprogram_id=t.id;case 57:h=f(this.url_routes),e.prev=58,h.s();case 60:if((g=h.n()).done){e.next=67;break}if(v=g.value,t.app!=v.app){e.next=65;break}return y=s.default.compile(v.path)(t),e.abrupt("break",67);case 65:e.next=60;break;case 67:e.next=72;break;case 69:e.prev=69,e.t2=e.catch(58),h.e(e.t2);case 72:return e.prev=72,h.f(),e.finish(72);case 75:return!window.cordova&&y&&(this.current_app?document.location.pathname+document.location.search!=y+d&&(history.pushState(t,t.title,y+d),window.ga&&ga("send","pageview",y),(b=window._hsq=window._hsq||[]).push(["setPath",y]),b.push(["trackPageView"])):history.replaceState(t,t.title,y+d)),e.next=78,this.resolveAppRoute(c);case 78:return _=e.sent,(0,a.default)(_,"can't resolve ".concat(c)),(0,a.default)((0,i.default)(_),"not a function ".concat(c)),e.next=83,_(t,this.profile);case 83:if(w=e.sent){e.next=86;break}return e.abrupt("return");case 86:return this.current_app=t,e.abrupt("return",new Promise((function(e){k.root.hasClass("with-ads")&&(k.root.attr("class",""),k.root.find("#adslot_1").remove(),k.root.find("#adslot_2").remove()),k.setState({component:w},(function(){"lesson"!=t.app&&$('[tabindex="1"]').focus(),e(w)}))})));case 88:case"end":return e.stop()}}),e,this,[[28,37],[58,69,72,75]])})),p=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=l.apply(e,t);function a(e){m(o,n,r,a,i,"next",e)}function i(e){m(o,n,r,a,i,"throw",e)}a(void 0)}))},function(e){return p.apply(this,arguments)})},{key:"goto_app",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.assign(t,{app:e}),this.apply_env(t)}},{key:"goto_window_url",value:function(e){var t,n={name:"404",path:e=e||window.document.location.pathname,app:"shared.not_found_app"},r={},o=f(this.url_routes);try{for(o.s();!(t=o.n()).done;){var a=t.value,i=a.compiled.exec(e);if(i){n=a,i.shift();for(var s=0;s<i.length;s++){var c=n.keys[s].name,u=n.keys[s].pattern,l=i[s];r[c]="\\d+"===u?Number.parseInt(l,10):l}break}}}catch(e){o.e(e)}finally{o.f()}return this.goto_app(n.app,r)}},{key:"set_resolveAppRoute",value:function(e){this.resolveAppRoute=e}},{key:"set_url_routes",value:function(e){var t,n=f(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.keys=[],r.compiled=(0,s.default)(r.path,r.keys)}}catch(e){n.e(e)}finally{n.f()}this.url_routes=e}}])&&h(t.prototype,n),u&&h(t,u),b}(e)).prototype,"goto_app",[t],Object.getOwnPropertyDescriptor(u.prototype,"goto_app"),u.prototype),x(u.prototype,"goto_window_url",[n],Object.getOwnPropertyDescriptor(u.prototype,"goto_window_url"),u.prototype),u};t.default=j},76343:(e,t,n)=>{n(82526),n(41817),n(32165),n(66992),n(30489),n(41539),n(88674),n(12419),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.start=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;function i(e){window.approuter=e,e.set_resolveAppRoute(t),e.set_url_routes(n),r&&r(e),window.dispatchEvent(new CustomEvent("edload",{}))}return new Promise((function(t){a.default.render(o.default.createElement(C,{root:e,onMount:i}),e,t)}))},t.AppRouter=void 0;var r=w(n(9479)),o=w(n(67294)),a=w(n(73935)),i=w(n(40220)),s=n(38538),c=w(n(21041)),u=w(n(45995)),l=(w(n(31349)),n(56077)),p=w(n(43712)),f=w(n(27434)),d=w(n(93516)),m=w(n(34834)),y=w(n(39838)),h=w(n(16188)),g=w(n(77018)),v=w(n(15738)),b=w(n(86137)),_=w(n(13306));function w(e){return e&&e.__esModule?e:{default:e}}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var o=R(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==k(t)&&"function"!=typeof t?P(e):t}function P(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function R(e){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}(f,e);var t,n,a,p=O(f);function f(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x(this,f),N(P(e=p.call(this,t)),"events",new i.default(["unload","show_modal","hide_modal","logout","play_started"])),N(P(e),"audio_player",void 0),(0,l.bindAll)(P(e)),e.root=(0,r.default)(e.props.root),e.state={},e}return t=f,(n=[{key:"componentDidMount",value:function(){this.register(),this.props.onMount(this)}},{key:"render",value:function(){return this.state.component?this.state.component:o.default.createElement("div",{className:"boxLoading boxLoading-dark"})}},{key:"register",value:function(){var e=this;this.audio_player=new c.default,this.keymanager.register((function(t){if(t.keyCode===u.default.escape&&approuter.modals.length){var n=approuter.modals[approuter.modals.length-1];return n.props.esc_close&&e.hide_modal(n.props.id),!0}}),-1),(0,s.registerApprouterEventBus)(this.events),window.addEventListener("popstate",(function(t){var n=t.state;if(n&&n.app)return e.apply_env(n)})),this.registerTryLesson()}}])&&j(t.prototype,n),a&&j(t,a),f}((0,l.compose)(p.default,f.default,d.default,m.default,y.default,h.default,b.default,_.default,g.default,v.default)(o.default.Component));t.AppRouter=C},16188:(e,t,n)=>{n(82526),n(41817),n(32165),n(92222),n(66992),n(30489),n(41539),n(12419),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(69360))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){return function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,e);var t=c(n);function n(){var e;i(this,n);for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];return f(l(e=t.call.apply(t,[this].concat(a))),"keymanager",new o.default({sys:0,low:50,normal:100,high:500,max:1e3},100)),e}return n}(e)};t.default=d},27434:(e,t,n)=>{n(82526),n(41817),n(32165),n(92222),n(66992),n(30489),n(41539),n(12419),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(82729))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){return function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,n,r,a=u(l);function l(){var e;i(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=a.call.apply(a,[this].concat(n))),"modals",[]),e}return t=l,(n=[{key:"show_modal",value:function(e){this.modals.push(e),this.events.fire_event("show_modal",e)}},{key:"hide_modal",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,o.default)(this.modals,(function(t){return t.props.id==e}))[0];!t&&n&&n.props.onClose&&n.props.onClose(),this.events.fire_event("hide_modal",e)}}])&&s(t.prototype,n),r&&s(t,r),l}(e)};t.default=m},77018:(e,t,n)=>{n(82526),n(41817),n(32165),n(92222),n(69826),n(89554),n(66992),n(30489),n(41539),n(88674),n(12419),n(39714),n(78783),n(54747),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(35666);var r=s(n(31349)),o=n(88618),a=s(n(14138)),i=s(n(50348));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){u(a,r,o,i,s,"next",e)}function s(e){u(a,r,o,i,s,"throw",e)}i(void 0)}))}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var b=function(e){return function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(_,e);var t,n,s,c,u,y,g,b=m(_);function _(){var e;p(this,_);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(h(e=b.call.apply(b,[this].concat(n))),"profile",void 0),v(h(e),"program",void 0),v(h(e),"lesson",void 0),v(h(e),"last_lesson",void 0),v(h(e),"game",void 0),v(h(e),"_badges",void 0),e}return t=_,(n=[{key:"refresh_program",value:(g=l(regeneratorRuntime.mark((function e(t){var n,s,c,u,l,p,f,d,m=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=m.length>1&&void 0!==m[1]&&m[1],s=!n,this.program&&t===this.program.id){e.next=26;break}if(u=this.profile.programs.find((function(e){return e.id==t}))){e.next=6;break}return e.abrupt("return",this.not_found());case 6:if(!u.is_edclub){e.next=18;break}return l="".concat("//static.typingclub.com/m/","build/lessonplans/").concat(t,".json"),e.next=10,fetch(l);case 10:if((p=e.sent).ok){e.next=13;break}throw"".concat(p.statusText," ").concat(l);case 13:return e.next=15,p.json();case 15:c=e.sent,e.next=21;break;case 18:return e.next=20,r.default.get("/api/v".concat(r.default.version,"/program2/").concat(t,"/"));case 20:c=e.sent;case 21:for(f=this.program=(0,o.wrap)(c,a.default.prototype),d=0;d<f.lessons.length;d++)f.lessons[d]=(0,o.wrap)(f.lessons[d],i.default.prototype);this.lesson=null,s=!0,f.is_basic=!u.is_adfree&&u.is_basic;case 26:if(n&&"test"===this.program.program_type&&(s=!0),!s){e.next=31;break}return this.guessTeam(),e.next=31,this.refresh_game();case 31:case"end":return e.stop()}}),e,this)}))),function(e){return g.apply(this,arguments)})},{key:"refresh_game",value:(y=l(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.default.get("/api/v".concat(r.default.version,"/program2/").concat(this.program.id,"/game/"));case 2:this.game=e.sent,this.program.merge_progress(this.game,this.team_program,this.team);case 4:case"end":return e.stop()}}),e,this)}))),function(){return y.apply(this,arguments)})},{key:"refresh_lesson",value:(u=l(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.lesson&&t===this.lesson.id){e.next=7;break}return e.next=3,this.refresh_program(n,!0);case 3:if(this.lesson=this.program.lessons.find((function(e){return e.id===t})),this.lesson){e.next=6;break}return e.abrupt("return",this.not_found());case 6:this.last_lesson=this.lesson;case 7:this.guessTeam();case 8:case"end":return e.stop()}}),e,this)}))),function(e,t){return u.apply(this,arguments)})},{key:"refresh_badges",value:(c=l(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._badges){e.next=7;break}return e.next=3,r.default.get("/api/v".concat(r.default.version,"/badge/"));case 3:t=e.sent,n={},t.objects.forEach((function(e){n[e.resource_uri]=e})),this._badges=n;case 7:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})}])&&f(t.prototype,n),s&&f(t,s),_}(e)};t.default=b},39838:(e,t,n)=>{n(82526),n(41817),n(32165),n(66992),n(30489),n(41539),n(12419),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;i(n(31349)),a(n(92119)),a(n(98912)),i(n(48583));var r=n(88618);function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=r?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){return function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(i,e);var t,n,o,a=p(i);function i(){return c(this,i),a.apply(this,arguments)}return t=i,(n=[{key:"next_lesson",value:function(){if(this.lesson){var e=this.lesson.nextLessonId();if(!e)return this.exit_lesson();this.goto_app("lesson",{id:e,program_id:this.program.id})}}},{key:"redo_lesson",value:function(){this.apply_env(this.current_app)}},{key:"exit_lesson",value:function(){if(!this.program)return this.dashboard();this.lesson_plan()}},{key:"close_instruction",value:function(){var e=(0,r.wrapCopy)(this.lesson);delete e.activity.instruction,this.lesson=e,this.redo_lesson()}},{key:"goto",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&t.target&&(t={}),this.goto_app(e,t)}},{key:"edit_profile",value:function(e){this.goto("student.profile.profiledetails_app",e)}},{key:"license_key_app",value:function(e){this.goto("student.profile.license_app",e)}},{key:"edit_password",value:function(e){this.goto("student.profile.changepassword_app",e)}},{key:"student_plans",value:function(e){this.goto("student.profile.plans_app",e)}},{key:"student_billing",value:function(e){this.goto("student.profile.billing_app",e)}},{key:"delete_account",value:function(e){this.goto("student.profile.deleteaccount_app",e)}},{key:"badges_page",value:function(e){this.goto("student.badge_app",e)}},{key:"stats_page",value:function(e){this.goto("student.stats_app",e)}},{key:"catalog_page",value:function(e){this.goto("student.catalog_app",e)}},{key:"more_tests",value:function(e){this.goto("student.more_tests",e)}},{key:"login_page",value:function(e){this.goto("shared.login_app",e)}},{key:"signup_page",value:function(e){this.goto("shared.signup_app",e)}},{key:"dashboard",value:function(){this.goto_app("student.dashboard_app")}},{key:"not_found",value:function(){this.goto_app("shared.not_found_app")}},{key:"lesson_plan",value:function(e){var t="student.lessonplan";!e&&this.program&&(e=this.program.id,"test"==this.program.program_type&&(t="student.testplan")),e&&this.goto_app(t,{id:e})}},{key:"has_scoreboard",value:function(){return!this.profile.block_share_grades&&(this.program&&this.team_program&&this.team_program.scoreboard||"student.scoreboard"==this.current_app.app)}},{key:"is_leaderboard",value:function(){return"student.scoreboard"==this.current_app.app?"top"==this.current_app.share_grades:this.program&&"top"==this.team_program.share_grades}},{key:"scoreboard",value:function(){"student.scoreboard"==this.current_app.app?this.refresh():this.program&&this.goto_app("student.scoreboard",{id:this.team_program.id})}}])&&u(t.prototype,n),o&&u(t,o),i}(e)};t.default=m},13306:(e,t,n)=>{n(82526),n(41817),n(32165),n(66992),n(30489),n(41539),n(12419),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(82329);function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){return function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(l,e);var t,n,o,u=c(l);function l(){return a(this,l),u.apply(this,arguments)}return t=l,(n=[{key:"paid_feature",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(0,r.LaunchStudentPlansModal)(e,t,n)}}])&&i(t.prototype,n),o&&i(t,o),l}(e)};t.default=p},15738:(e,t,n)=>{n(82526),n(41817),n(32165),n(92222),n(82772),n(66992),n(21249),n(68309),n(30489),n(41539),n(88674),n(12419),n(74916),n(39714),n(78783),n(64765),n(23123),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(35666);var r=m(n(51690)),o=m(n(48583)),a=d(n(98912)),i=m(n(31349)),s=m(n(55586)),c=d(n(92119)),u=n(88618),l=n(52055),p=m(n(5319));function f(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return f=function(){return e},e}function d(e){if(e&&e.__esModule)return e;if(null===e||"object"!==y(e)&&"function"!=typeof e)return{default:e};var t=f();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function m(e){return e&&e.__esModule?e:{default:e}}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){h(a,r,o,i,s,"next",e)}function s(e){h(a,r,o,i,s,"throw",e)}i(void 0)}))}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j(e);if(t){var o=j(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return k(this,n)}}function k(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=["he_IL","ar_SA","fa_IR"];function E(e){if(c.validateEmail(e.email)){var t=e.email.split("@")[1].split(".")[0].toLowerCase();if(-1!==" bluewin outlook charter hdsb yandex xtra protonmail bigpond web bellsouth t-online shaw mcpsmd optonline msn live gmx comcast rocketmail orange mail gmail optusnet qq hotmail verizon btinternet aol yahoo mac posteo icloud ocesd 163 me earthlink rogers cox googlemail att sbcglobal naver ymail 126 ".search(" "+t+" "))(window._hsq=window._hsq||[]).push(["identify",{email:e.email,id:e.id,firstname:e.fname,lastname:e.lname,hs_language:e.language,is_paid:!e.is_basic,userof:"tp",dbcreated:e.created}])}}var P=function(e){return function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(k,e);var t,n,c,f,d,m,h=w(k);function k(){var e;v(this,k);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S(x(e=h.call.apply(h,[this].concat(n))),"profile",void 0),e}return t=k,(n=[{key:"refresh_profile",value:(m=g(regeneratorRuntime.mark((function e(t){var n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.profile||t){e.next=2;break}return e.abrupt("return");case 2:if(a.isLoggedIn()){e.next=5;break}return this.profile=new r.default,e.abrupt("return");case 5:return e.next=7,i.default.get("/api/v"+i.default.version+"/student/me/");case 7:return n=e.sent,(o=(0,u.wrap)(n,r.default.prototype)).teams=o.teams.map((function(e){return(0,u.wrap)(e,p.default.prototype).init()})),o.init(),this.profile=o,this.program=void 0,document.body.classList.contains("authoring-view")||(O.indexOf(o.language)>-1?document.body.classList.add("rtl-body"):document.body.classList.remove("rtl-body")),E(o),(0,l.profile_changed)(o),e.abrupt("return",o);case 16:case"end":return e.stop()}}),e,this)}))),function(e){return m.apply(this,arguments)})},{key:"update_profile",value:(d=g(regeneratorRuntime.mark((function e(){var t,n,r,a,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:null,n=s.length>1&&void 0!==s[1]?s[1]:{},r=n.is_full_refresh||!1,e.next=5,this.materialize_profile();case 5:if(!t){e.next=19;break}if("object"!==y(t)){e.next=12;break}return e.next=9,i.default.patch("/api/v".concat(i.default.version,"/student/").concat(this.profile.id,"/"),t);case 9:a=e.sent,e.next=19;break;case 12:if("function"!=typeof t){e.next=18;break}return e.next=15,t();case 15:a=e.sent,e.next=19;break;case 18:(0,o.default)(!1,"don't know what to do with ".concat(t));case 19:return e.next=21,this.refresh_profile(!0);case 21:if(!r){e.next=24;break}return e.next=24,this.refresh();case 24:return e.abrupt("return",a);case 25:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"materialize_profile",value:(f=g(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.profile.is_template){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,i.default.post("/api/v".concat(i.default.version,"/student/materialize_template_user/"),{timezone:s.default.determine().name()});case 4:return t=e.sent,e.next=7,a.signUserIn(t.login_token);case 7:return e.next=9,this.refresh_profile();case 9:return n=e.sent,(r=document.createElement("img")).src="https://s.typingclub.com/marketing/convert?env=tp&user_id="+this.profile.id,r.width=0,r.height=0,document.body.appendChild(r),e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this)}))),function(){return f.apply(this,arguments)})}])&&b(t.prototype,n),c&&b(t,c),k}(e)};t.default=P},86137:(e,t,n)=>{n(82526),n(41817),n(32165),n(92222),n(66992),n(30489),n(41539),n(88674),n(12419),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(35666);var r=l(n(31349)),o=n(52055),a=n(94871),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(98912)),s=n(88618),c=l(n(20306));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){f(a,r,o,i,s,"next",e)}function s(e){f(a,r,o,i,s,"throw",e)}i(void 0)}))}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){return new Promise((function(t){return setTimeout(t,e)}))}var x=function(e){return function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(f,e);var t,n,u,l,p=g(f);function f(){var e;m(this,f);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(b(e=p.call.apply(p,[this].concat(n))),"is_dirty_profile",void 0),e}return t=f,(n=[{key:"finish_activity",value:(l=d(regeneratorRuntime.mark((function e(t,n){var u,l,p,f,m,y,h=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.is_rigged){e.next=2;break}return e.abrupt("return");case 2:u=this.program,l=this.lesson,p=l.activity,f=p.app,m=t.is_partial,e.prev=8,(0,a.validStatsSchema)(f,t),e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(8),(0,o.withScope)((function(n){n.setExtra("stats",t),(0,o.captureException)(e.t0)})),e.abrupt("return");case 16:return e.next=18,this.materialize_profile();case 18:t.team_id=this.team.id,t.lesson_id=this.lesson.id,y=function(){var e=d(regeneratorRuntime.mark((function e(o){var a,i,u,l,p,f,d,y=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=y.length>1&&void 0!==y[1]?y[1]:null,i=r.default.version,u=r.default.post,l="/api/v".concat(i,"/attempt/").concat(o,"/"),f=0;case 4:if(!(f<5)){e.next=22;break}return e.prev=5,e.next=8,u(l,t);case 8:return p=e.sent,e.abrupt("break",22);case 12:if(e.prev=12,e.t0=e.catch(5),400!==e.t0.status||"team_deleted"!==e.t0.responseJSON.code){e.next=17;break}return h.dashboard(),e.abrupt("return");case 17:return e.next=19,k(2500);case 19:f++,e.next=4;break;case 22:if(p){e.next=25;break}return m||h.redo_lesson(),e.abrupt("return");case 25:if(!p.error||!h._attempt){e.next=27;break}return e.abrupt("return");case 27:h.is_dirty_profile=!0,d=(0,s.wrap)(p,c.default.prototype).init(),h._attempt=d,(a||n)(d);case 31:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t){return e.apply(this,arguments)}}(),e.t1=f,e.next="typing.classic_typing_app"===e.t1||"typing.videotyping_app"===e.t1||"typing.boxed_typing"===e.t1||"typing.games.BalloonValley"===e.t1||"typing.games.MonsterAttack"===e.t1||"typing.games.TempleBash"===e.t1||"typing.games.FloatingBubbles"===e.t1||"typing.games.AppleThieves"===e.t1||"student.placementtest_app"===e.t1?24:"student.videoplayer"===e.t1?32:"decisionmaking"===e.t1?35:"spelling.cards"===e.t1||"spelling.spellit"===e.t1?38:"spelling.crossword"===e.t1||"spelling.fillblank"===e.t1||"spelling.multichoice"===e.t1?41:"spelling.shuffle"===e.t1||"spelling.dictation"===e.t1?44:"spelling.dropquiz"===e.t1?47:"spelling.story"===e.t1?50:"reading"===e.t1?53:"spelling.proofreading"===e.t1?56:"spelling.quiz"===e.t1?59:62;break;case 24:if(!m||this.profile.save_partial_attempts){e.next=26;break}return e.abrupt("return");case 26:return t.sessions=i.getSessions(),t.sessions2=i.getSessions(),t.access_token=i.getToken(),e.next=31,y("postTypingResults",(function(e){!u.is_junior||l.is_game?n(e):h.apply_env({app:"junior.result_page"})}));case 31:return e.abrupt("break",63);case 32:return e.next=34,y("postVideoResults",approuter.next_lesson);case 34:return e.abrupt("break",63);case 35:return e.next=37,y("postDecisionMakingResults");case 37:return e.abrupt("break",63);case 38:return e.next=40,y("postSpellingCardsResults");case 40:return e.abrupt("break",63);case 41:return e.next=43,y("postSpellingCrosswordResults");case 43:return e.abrupt("break",63);case 44:return e.next=46,y("postSpellingDictationResults");case 46:return e.abrupt("break",63);case 47:return e.next=49,y("postSpellingDropquizResults");case 49:return e.abrupt("break",63);case 50:return e.next=52,y("postSpellingCardsResults");case 52:return e.abrupt("break",63);case 53:return e.next=55,y("postReadingResults");case 55:return e.abrupt("break",63);case 56:return e.next=58,y("postProofReadingResults");case 58:return e.abrupt("break",63);case 59:return e.next=61,y("postSpellingQuizResults");case 61:return e.abrupt("break",63);case 62:console.log("finish_activity","unknown app",f);case 63:case"end":return e.stop()}}),e,this,[[8,12]])}))),function(e,t){return l.apply(this,arguments)})}])&&y(t.prototype,n),u&&y(t,u),f}(e)};t.default=x},93516:(e,t,n)=>{n(82526),n(41817),n(32165),n(92222),n(57327),n(69826),n(26699),n(66992),n(69600),n(21249),n(85827),n(2707),n(68309),n(30489),n(41539),n(12419),n(74916),n(39714),n(32023),n(78783),n(23123),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=s(n(67294)),o=s(n(89357)),a=n(38538),i=n(52055);function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){(0,i.addBreadcrumb)({category:"log",level:"info",message:e})}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"team assert fail";e||(0,i.withScope)((function(e){throw approuter.program&&e.setExtra("program_id",approuter.program.id),approuter.team&&e.setExtra("team_id",approuter.team.id),e.setExtra("teamprograms",approuter.profile.teamprograms.map((function(e){return{id:e.id,team:e.team_id,program:e.program_id}}))),t}))}var b=function(e){return function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(c,e);var t,n,i,s=f(c);function c(){var e;u(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(m(e=s.call.apply(s,[this].concat(n))),"team",void 0),h(m(e),"team_program",void 0),h(m(e),"team_for_program",new a.Persistence("team_for_program")),e}return t=c,(n=[{key:"_resetTeam",value:function(){this._clearTeam(),this.team_for_program.invalidate()}},{key:"_setTeam",value:function(e){var t=this;v(e,"setTeam: empty team"),g("setting team ".concat(e.id)),this.team=e,this.team_program=this.profile.teamprograms.find((function(e){return e.team_id==t.team.id&&e.program_id==t.program.id})),v(this.team_program,"setTeam: no team_program for ".concat(this.team.id,", ").concat(this.program.id)),this.team_for_program.set(this.program.id,this.team.id)}},{key:"_clearTeam",value:function(){this.team=null,this.team_program=null}},{key:"teamsForCurrentProgram",value:function(){return this.teamsForProgram(this.program)}},{key:"teamsForProgram",value:function(e){var t=this.profile,n=t.teamprograms.filter((function(t){return e.id==t.program_id})).map((function(e){return e.team_id})),r=t.teams.filter((function(e){return n.includes(e.id)}));return v(r.length>0,"teamsForProgram: no teams for ".concat(e.id)),r}},{key:"guessTeam",value:function(){var e=this;if(!this.is_rigged){var t=this.team_for_program.get(this.program.id);if(t){var n=this.profile.teams.find((function(e){return e.id==t}));n&&(g("team ".concat(n.id," from persistence ").concat(t)),this._setTeam(n))}var r=this.teamsForCurrentProgram();this.team&&(g("has team ".concat(this.team.id)),r.find((function(t){return t.id==e.team.id}))?this.team_program.program_id!==this.program.id&&this._setTeam(this.team):(g("team is not in profile"),this._clearTeam())),this.team||(g("has no team"),r.length>0?(g("setting team ".concat(r[0].id)),this._setTeam(r[0]),r.length>1&&(g("team selection ".concat(r.length)),this._selectTeamFrom(r))):g("teams for current program is empty"))}}},{key:"selectTeam",value:function(){this._selectTeamFrom(this.teamsForCurrentProgram())}},{key:"_selectTeamFrom",value:function(e){var t=this;!function(e,t){e=e.sort((function(e,t){return e.name<t.name?-1:1}));var n=window.i18next_translate;approuter.show_modal(r.default.createElement(o.default,{id:"select-team-modal",width:400,show_x:!1,close_outside:!1,esc_close:!1,padding:0},r.default.createElement("h3",{style:{margin:20}},n("Select your class")),r.default.createElement("hr",{style:{marginBottom:0}}),e.map((function(e){return r.default.createElement("a",{className:"list-item-select",key:"team-selec-".concat(e.id),onClick:function(){g("selecting team ".concat(e.id)),t(e),approuter.hide_modal("select-team-modal")}},r.default.createElement("b",{style:{backgroundColor:(n=e.name,o=["#AD1457","#F4511E","#E4C441","#0B8043","#3F51B5","#8E24AA","#D81B60","#EF6C00","#C0CA33","#009688","#7986CB","#795548","#D50000","#F09300","#7CB342","#039BE5","#B39DDB","#616161","#E67C73","#F6BF26","#33B679","#4285F4","#9E69AF","#A79B8E","#1c3aa9"],o[n.split("").map((function(e){return e.charCodeAt()})).reduce((function(e,t){return e+t}),0)%o.length])}},e.name[0].toUpperCase()),e.name,r.default.createElement("br",null),r.default.createElement("small",null,e.instructors.join(", ")));var n,o}))))}(e,(function(e){v(e,"select_team: trying to set empty team");var n=!t.team||e.id!=t.team.id;t._setTeam(e),n&&t.refresh()}))}}])&&l(t.prototype,n),i&&l(t,i),c}(e)};t.default=b},43712:(e,t,n)=>{n(82526),n(41817),n(32165),n(92222),n(66992),n(30489),n(41539),n(88674),n(12419),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(35666);var r=n(88618),o=i(n(51690)),a=i(n(50348));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){return function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(g,e);var t,n,i,s,d,y=f(g);function g(){var e;u(this,g);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return h(m(e=y.call.apply(y,[this].concat(n))),"is_rigged",!1),e}return t=g,(n=[{key:"receiveMessage",value:(s=regeneratorRuntime.mark((function e(t){var n,i,s,c,u,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.data&&1==t.data.type){e.next=2;break}return e.abrupt("return",!1);case 2:if(this.resolveAppRoute){e.next=5;break}return setTimeout(this.receiveMessage,1e3,t),e.abrupt("return");case 5:if(n=t.data,i=n.env,s=n.profile,c=n.team,u=n.program,l=n.lesson,this.lesson=(0,r.wrap)(l,a.default.prototype),!s){e.next=11;break}return e.next=10,(0,r.wrap)(s,o.default.prototype).init();case 10:this.profile=e.sent;case 11:c&&(this.team=c),u&&(this.program=u),this.is_rigged=!0,this.apply_env(i,!1);case 15:case"end":return e.stop()}}),e,this)})),d=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=s.apply(e,t);function a(e){c(o,n,r,a,i,"next",e)}function i(e){c(o,n,r,a,i,"throw",e)}a(void 0)}))},function(e){return d.apply(this,arguments)})},{key:"apply_env_message",value:function(e,t,n){e.postMessage({type:1,team:{settings:{}},profile:n.profile,program:n.program,env:t},"*")}},{key:"registerTryLesson",value:function(){window.addEventListener("message",this.receiveMessage)}}])&&l(t.prototype,n),i&&l(t,i),g}(e)};t.default=g},56077:(e,t,n)=>{function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n(82526),n(41817),n(32165),n(91038),n(66992),n(85827),n(47042),n(68309),n(36210),n(30489),n(41539),n(39714),n(70189),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.bindAll=function(e){var t,n=new Set,o=r(function(e){var t=[];for(;e=Object.getPrototypeOf(e);)t.push(e);return t}(e));try{for(o.s();!(t=o.n()).done;){var a,i=t.value,s=r(Object.getOwnPropertyNames(i));try{for(s.s();!(a=s.n()).done;){var c=a.value;n.add(c)}}catch(e){s.e(e)}finally{s.f()}}}catch(e){o.e(e)}finally{o.f()}var u,l=r(n);try{for(l.s();!(u=l.n()).done;){var p=u.value;"constructor"!==p&&(e[p]instanceof Function&&(e[p]=e[p].bind(e)))}}catch(e){l.e(e)}finally{l.f()}},t.compose=void 0;t.compose=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}},21041:(e,t,n)=>{function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(82526),n(41817),n(32165),n(92222),n(91038),n(26699),n(66992),n(47042),n(68309),n(41539),n(88674),n(74916),n(39714),n(32023),n(78783),n(15306),n(64765),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(35666);var c=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=window.AudioContext||window.webkitAudioContext;r&&(this.context=new r,this.keys={},t&&this.load(t).then((function(){return n.play(t)})))}var t,n,o,c,u;return t=e,(n=[{key:"load",value:(c=regeneratorRuntime.mark((function e(t,n){var o,i,s,c,u,l,p,f=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p=function(e){return new Promise((function(t,n){l.decodeAudioData(e,t,(function(){return n("decode error")}))}))},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.timeout||1e4;return new Promise((function(t,r){var o=new XMLHttpRequest;o.ontimeout=function(){r("timeout")},o.onload=function(){4===o.readyState&&(200===o.status?t(o.response):r(o.statusText))},o.open("GET",e,!0),o.responseType="arraybuffer",o.timeout=n,o.send(null)}))},this.context){e.next=4;break}return e.abrupt("return");case 4:if(!this.keys[t]){e.next=6;break}return e.abrupt("return");case 6:if("object"!=a(t)){e.next=10;break}o=r(t);try{for(o.s();!(i=o.n()).done;)s=i.value,this.load(s)}catch(e){o.e(e)}finally{o.f()}return e.abrupt("return");case 10:return n||(c="mp3",~t.search(/.m4a$/)&&(t=t.replace(/.m4a$/,""),c="m4a"),n=t.includes("/")?t:"/m/audio/".concat(t,".").concat(c)),l=this.context,e.abrupt("return",u(n).then(p).then((function(e){return f.keys[t]={buffer:e,is_playing:!1}})));case 13:case"end":return e.stop()}}),e,this)})),u=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=c.apply(e,t);function a(e){i(o,n,r,a,s,"next",e)}function s(e){i(o,n,r,a,s,"throw",e)}a(void 0)}))},function(e,t){return u.apply(this,arguments)})},{key:"play",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.context){"suspended"===this.context.state&&this.context.resume();var n=this.keys[e];if(n&&(t||!n.is_playing)){var r=this.context.createBufferSource();n.source=r,r.buffer=n.buffer,r.connect(this.context.destination),r.start(0),t||(n.is_playing=!0,r.onended=function(){return n.is_playing=!1})}}}},{key:"stop",value:function(){if(this.context)for(var e in this.keys){var t=this.keys[e];t.source&&(t.source.stop(),t.source=null)}}}])&&s(t.prototype,n),o&&s(t,o),e}();t.default=c},98912:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(92222),n(69826),n(69600),n(47042),n(41539),n(88674),n(74916),n(4723),n(15306),n(64765),n(23123),n(23157),Object.defineProperty(t,"__esModule",{value:!0}),t.getSessions=_,t.getSession=w,t.getToken=function(){var e=w();return e?e.token:null},t.signUserIn=function(e){return x.apply(this,arguments)},t.signUserOut=function(){return j.apply(this,arguments)},t.setSessionPref=function(e,t){var n=JSON.parse(localStorage.getItem("session_prefs"))||{};n[e]=t,localStorage.setItem("session_prefs",JSON.stringify(n))},t.getSessionPref=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(JSON.parse(localStorage.getItem("session_prefs"))||{})[e]||t},t.getFreshSession=t.getSessionAsync=t.getSessionsAsync=t.redirectAfterLogout=t.takeMeHome=t.takeMeHomeOrNext=t.constructPath=t.signOutEverywhere=t.isLoggedIn=t.registerStudentLoginHandler=t.registerSignOutHandler=t.registerOnLogin=t.getDomain=t.setDomain=t.takeMeToAbsolutePath=t.takeMeToLogin=t.takeMeTo=t.events=t.urls=void 0,n(35666);var o,a=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(68336)),i=(o=n(40220))&&o.__esModule?o:{default:o};function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,s,"next",e)}function s(e){c(a,r,o,i,s,"throw",e)}i(void 0)}))}}var l={student:"/sportal/",teacher:"/portal/",login:"/"};t.urls=l;var p=new i.default(["change"]);t.events=p;var f=function(e){return document.location=e};t.takeMeTo=f;t.takeMeToLogin=function(e){return f(l.login+(e?"?next=".concat(e):""))};t.takeMeToAbsolutePath=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g();return f(b(e,t))};var d,m=window.cordova?localStorage.getItem("domain-key"):"www",y=function(){var e=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){return f(l.student)};t.setDomain=function(e){return m=e};var g=function(){return m};t.getDomain=g;t.registerOnLogin=function(e){return y=e};t.registerSignOutHandler=function(e){return d=e};t.registerStudentLoginHandler=function(e){return h=e};t.isLoggedIn=function(){return!!w()};var v=function(){var e=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.flushSessions();case 2:p.fire_event("change",_());case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.signOutEverywhere=v;var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g(),n=document.location.host.match(/(([a-z\-]+)(?:\.com))/),r=null===n?"edlocal.com":n[0],o="".concat(r,":").concat(document.location.port).replace(/:$/,"");return"".concat(document.location.protocol,"//").concat(t,".").concat(o).concat(e)};function _(){var e=a.getSessions();return e.find((function(e){return"www"===e.domain}))||e.push({domain:"www",token:"default",is_student:!0,is_tp:!0}),e}function w(){return _().find((function(e){return e.domain===g()}))||null}t.constructPath=b;t.takeMeHomeOrNext=function(e){var t={};if(window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(e,n,r){return t[n]=r})),t.next){var n=document.location.host.split(".").slice(1,3).join(".");return f("".concat(document.location.protocol,"//").concat(e.domain,".").concat(n).concat(unescape(t.next)))}k(e)};var k=function(e){if(m===e.domain)e.is_student?h(e):f(l.teacher);else{0;var t=document.location.host.split(".").slice(1,3).join("."),n=e.is_student?l.student:l.teacher;f("".concat(document.location.protocol,"//").concat(e.domain,".").concat(t).concat(n))}};function x(){return(x=u(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a.registerLoginSession(t).then((function(e){return p.fire_event("change",_()),e})).then(y));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=u(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.getSessions(),n=t.find((function(e){return e.domain===g()})),!d){e.next=5;break}return e.next=5,d(n);case 5:return e.next=7,a.removeSession(g());case 7:return p.fire_event("change",_()),localStorage.removeItem("session_prefs"),e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.takeMeHome=k;var S,O;t.redirectAfterLogout=function(e){f(e?"/post_logout_redirect/?domain=".concat(e.domain,"&login_method=").concat(e.login_method):"/")};var E=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Date-S;return(!O||e&&t>1e3)&&(S=new Date,O=a.fetchSessions(g())),O};t.getSessionsAsync=E;var P=function(){var e=u(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],e.next=3,E(t);case 3:return e.abrupt("return",w());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.getSessionAsync=P;var R=function(){var e=u(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",P(!0));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.getFreshSession=R},60905:(e,t,n)=>{n(82772),n(94986),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=function(){var e,t,n,r=navigator.appVersion,o=navigator.userAgent,a=navigator.appName,i=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10);-1!=(t=o.indexOf("Opera"))&&(a="Opera",i=o.substring(t+6),-1!=(t=o.indexOf("Version"))&&(i=o.substring(t+8)));-1!=(t=o.indexOf("OPR"))?(a="Opera",i=o.substring(t+4)):-1!=(t=o.indexOf("Edge"))?(a="Edge",i=o.substring(t+5)):-1!=(t=o.indexOf("MSIE"))?(a="IE",i=o.substring(t+5)):-1!=(t=o.indexOf("Chrome"))?(a="Chrome",i=o.substring(t+7)):-1!=(t=o.indexOf("Safari"))?(a="Safari",i=o.substring(t+7),-1!=(t=o.indexOf("Version"))&&(i=o.substring(t+8))):-1!=(t=o.indexOf("Firefox"))?(a="Firefox",i=o.substring(t+8)):-1!=o.indexOf("Trident/")?(a="IE",i=o.substring(o.indexOf("rv:")+3)):(e=o.lastIndexOf(" ")+1)<(t=o.lastIndexOf("/"))&&(a=o.substring(e,t),i=o.substring(t+1),a.toLowerCase()==a.toUpperCase()&&(a=navigator.appName));-1!=(n=i.indexOf(";"))&&(i=i.substring(0,n));-1!=(n=i.indexOf(" "))&&(i=i.substring(0,n));-1!=(n=i.indexOf(")"))&&(i=i.substring(0,n));s=parseInt(""+i,10),isNaN(s)&&(i=""+parseFloat(navigator.appVersion),s=parseInt(navigator.appVersion,10));var c=/Mobile|mini|Fennec|Android|iP(ad|od|hone)/.test(r);return{browser:a,browserVersion:i,majorVersion:s,mobile:c}}();if(e.binfo=t,"IE"==t.browser&&t.majorVersion<10||"Safari"==t.browser&&t.majorVersion<7||"Firefox"==t.browser&&t.majorVersion<25||"Chrome"==t.browser&&t.majorVersion<30)return function(){function e(){document.body.innerHTML=""}function t(){document.body.innerHTML="<div style='border:1px solid #bbb;width:600px;margin:auto;margin-top:100px;' class='well'>    <h3>Please upgrade your browser</h3>    <p style='font-size:1.3em;'>TypingClub no longer supports your browser. For the best experience we recommend       upgrading your browser to <a href='https://www.google.com/chrome/browser/desktop/' target='_blank'>Google Chrome</a>       or the latest version of the browser of your choice.</p>       -- EdClub Team</div>"}setInterval((function(){e(),t()}),500)}(),!1;return!0}},78575:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(82526),n(41817),n(32165),n(89554),n(82772),n(66992),n(69600),n(21249),n(47042),n(41539),n(24603),n(74916),n(39714),n(78783),n(15306),n(64765),n(23123),n(54747),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.is_route_pattern=function(e){return"{"==e[0]||e.search("/{")>0},t.compile=function(e){var t=function(e){return e.split("/").map((function(e){return"{"==e[0]&&"}"==e[e.length-1]?Symbol.for(e.slice(1,e.length-1)):e}))}(e),n=[],o=[],a=[];function i(){if(n.length>0){var e=n.join("/");o.push((e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")),n=[]}}t.forEach((function(e){"symbol"==r(e)?(a.push(e),i(),o.push("([^/?]+)")):n.push(e)})),i();var s=new RegExp("^"+o.join("/")+"($|\\?.*)");return function(e){var t=s.exec(e),n={};if(t){var r=t[a.length+1].slice(1);return r&&function(e){var t=[];return e.split("&").forEach((function(e){if(e){var n=(e=e.split("+").join(" ")).indexOf("="),r=n>-1?e.substr(0,n):e,o=n>-1?decodeURIComponent(e.substr(n+1)):"";t.push([decodeURIComponent(r),o])}})),t}(r).forEach((function(e){n[Symbol.for(e[0])]=e[1]})),a.forEach((function(e,r){n[e]=t[r+1]})),n}return null}}},40220:(e,t,n)=>{n(82526),n(41817),n(32165),n(91038),n(66992),n(47042),n(68309),n(41539),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(48583))&&r.__esModule?r:{default:r};function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}var l=function(){function e(t){s(this,e),this.event_manager=t,this.events={}}return u(e,[{key:"on",value:function(e,t){try{return this.event_manager.on(e,t)}finally{this.events[e]||(this.events[e]=[]),this.events[e].push(t)}}},{key:"unbindAll",value:function(){for(var e in this.events){var t,n=a(this.events[e]);try{for(n.s();!(t=n.n()).done;){var r=t.value;this.event_manager.unbind(e,r)}}catch(e){n.e(e)}finally{n.f()}}}}]),e}(),p=function(){function e(t){s(this,e),this.events={};var n,r=a(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.events[o]=[]}}catch(e){r.e(e)}finally{r.f()}this.fire_event_hook=null}return u(e,[{key:"on",value:function(e,t){(0,o.default)(this.events[e],"event does not exist: ".concat(e)),this.events[e].push(t)}},{key:"unbind",value:function(e,t){(0,o.default)(this.events[e],"event does not exist: ".concat(e));var n,r=[],i=a(this.events[e]);try{for(i.s();!(n=i.n()).done;){var s=n.value;s!==t&&r.push(s)}}catch(e){i.e(e)}finally{i.f()}this.events[e]=r}},{key:"flush",value:function(e){this.events[e]=[]}},{key:"fire_event",value:function(e,t){var n,r,o=a(this.events[e]);try{for(o.s();!(r=o.n()).done;){var i=(0,r.value)(t);void 0!==i&&void 0===n&&(n=i)}}catch(e){o.e(e)}finally{o.f()}return this.fire_event_hook?this.fire_event_hook(e,t,n):n}},{key:"group",value:function(){return new l(this)}}]),e}();t.default=p},72207:(e,t,n)=>{n(92222),n(74916),n(15306),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n(17583)),o=i(n(22346)),a=n(53896);function i(e){return e&&e.__esModule?e:{default:e}}var s=(0,i(n(88306)).default)((function(e){return r.default.use(o.default).use(a.initReactI18next).init({fallbackLng:"en",lng:e,lowerCaseLng:!1,ns:["common"],defaultNS:"common",load:"currentOnly",preload:!1,debug:!1,nsSeparator:!1,keySeparator:!1,backend:{loadPath:function(e,t){return"".concat("//static.typingclub.com/m/","locales/").concat(e[0].replace("-","_"),"/").concat(t[0],".json")},crossDomain:!0},react:{nsMode:"fallback"}}).then((function(e){window.i18next_translate=e}))}));s("en");var c=s;t.default=c},52055:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(41539),n(88674),n(74916),n(23123),Object.defineProperty(t,"__esModule",{value:!0}),t.log_catch_promise=function(e){return function(t,n,r){var o=r.value;r.value=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=o.apply(this,n);return a instanceof Promise?a.catch((function(t){0!=t.status||t.statusText,console.error("failed ".concat(e," promise"),t,"args",n)})):a}}},t.profile_changed=function(e){o.configureScope((function(t){t.setUser(e),t.setTags({account:e.account_id,is_basic:e.is_basic})})),e.is_basic?o.close():c(!0)},t.withScope=t.addBreadcrumb=t.captureMessage=t.captureException=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(46512)),a=n(60306),i=n(38679);function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(){var e,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e=t?i.sentryDSN_NOADS:i.sentryDSN,o.init({dsn:e,debug:!1,environment:"production",release:a.version,whitelistUrls:[/typingclub\.com/,/tpclub\.com/],ignoreErrors:[/^event is not defined$/,/^Unexpected token <$/,/^Unexpected identifier$/,/\.data\.indexOf is not a function$/,/^Blocked a frame with origin/,/ResizeObserver loop limit exceeded/,/The play\(\) request was interrupted by a call to pause\(\)/,/^undefined$/,/player\.es/,/user agent or the platform in/,/embed code from Vimeo/,/because the user denied permission/,/Failed to fetch/,/<unknown>/,/InvalidAccessError: InvalidAccessError/],beforeBreadcrumb:function(e){return"xhr"===e.category&&/^(https?:)?\/\//.test(e.data.url)?null:e},normalizeDepth:5});var n="www"==document.location.host.split(".")[0]?"tp":"tpc";o.configureScope((function(e){e.setTags({server_name:n})})),top&&self!=top&&o.addBreadcrumb({category:"log",level:"info",message:"in iframe: "+(document.referrer||"no referrer")})}window.Sentry=o,window.Sentry_init=c,c();var u=o.captureException;t.captureException=u;var l=o.captureMessage;t.captureMessage=l;var p=o.addBreadcrumb;t.addBreadcrumb=p;var f=o.withScope;t.withScope=f},69360:(e,t,n)=>{function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n(82526),n(41817),n(32165),n(57327),n(91038),n(66992),n(47042),n(2707),n(68309),n(43371),n(41539),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"listeners",[]),i(this,"countId",0),document.addEventListener("keydown",this.onKeyDown.bind(this)),this.Priority=Object.freeze(t),this.defaultPriority=n}var t,n,o;return t=e,(n=[{key:"onKeyDown",value:function(e){var t,n=r(this.listeners);try{for(n.s();!(t=n.n()).done;)if(t.value.handler(e))return}catch(e){n.e(e)}finally{n.f()}}},{key:"register",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultPriority,n=this.countId++;return this.listeners.push({handler:e,priority:t,id:n}),this.listeners.sort((function(e,t){return t.priority-e.priority})),n}},{key:"unregister",value:function(e){this.listeners=this.listeners.filter((function(t){return t.id!=e}))}},{key:"flush",value:function(){this.listeners=[],this.countId=0}}])&&a(t.prototype,n),o&&a(t,o),e}();t.default=s},45995:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={escape:27,enter:13,space:32,backspace:8,tab:9,left_arrow:37,up_arrow:38,right_arrow:39,down_arrow:40,p:80,r:82,f5:116};t.default=n},20306:(e,t,n)=>{n(82526),n(41817),n(32165),n(91038),n(66992),n(47042),n(68309),n(41539),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r;(r=n(48583))&&r.__esModule;function o(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"init",value:function(){approuter.lesson&&approuter.lesson.id==this.lesson_id&&(this.lesson=approuter.lesson),this.speed=2.2;var e=[];if(this.badges){var t,n=o(this.badges);try{for(n.s();!(t=n.n()).done;){var r=t.value,a=approuter._badges[r];a?e.push(a):console.warn("missing mapping for badge id ".concat(r))}}catch(e){n.e(e)}finally{n.f()}}return this.badges=e,this}},{key:"has_performance_goals",get:function(){return!(this.score>0&&0==this.stars)}},{key:"next_lesson_url",get:function(){if(this.has_performance_goals){var e;if(!approuter.lesson.nextLessonId())return!1;if(0===this.score)return!1;try{e=approuter.team.settings.min_stars}catch(t){e=1}return!(this.stars<e)}return!0}}])&&i(t.prototype,n),r&&i(t,r),e}();t.default=s},88618:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(30489),Object.defineProperty(t,"__esModule",{value:!0}),t.wrap=a,t.copy=i,t.wrapCopy=function(e,t){return t=t||Object.getPrototypeOf(e),a(i(e),t)};!function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=o();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,t&&t.set(e,n)}(n(78575));function o(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return o=function(){return e},e}function a(e,t){return Object.setPrototypeOf(e,t)}function i(e){return JSON.parse(JSON.stringify(e))}},50348:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(34553),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(92119));function a(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"getText",value:function(){return this.activity.text2||this.activity.text3||this.activity.text4?o.choose_random_field(this.activity,["text1","text2","text3","text4"],!0):this.activity.text1}},{key:"nextLessonId",value:function(){var e=this,t=approuter.program.lessons,n=t.findIndex((function(t){return t.id==e.id}));if(n!=t.length-1)for(var r=n+1;r<t.length;r++){var o=t[r];if(!o.is_hidden&&"header"!=o.lesson_type)return o.id}}}])&&i(t.prototype,n),r&&i(t,r),e}();t.default=s},51690:(e,t,n)=>{n(82526),n(41817),n(32165),n(57327),n(69826),n(91038),n(66992),n(47042),n(68309),n(49337),n(30489),n(41539),n(74916),n(39714),n(78783),n(23123),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(72207)),o=a(n(30381));n(15461);a(n(48583));function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.language="en",this.type="blank",this.init()}var t,n,a;return t=e,(n=[{key:"init",value:function(){var e=this.language.split("_")[0];return"zh"==e&&(e="zh-cn"),o.default.locale(e),this.i18n=(0,r.default)(this.language),window.profile=this,window.is_basic=this.is_basic,this}},{key:"getSubjects",value:function(){var e,t={},n=i(this.programs);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r.subject.id]=r.subject.name}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"clone",value:function(){return Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this))}},{key:"getDerivedProfile",value:function(){var e=this.clone(),t=approuter.team;e.disable_backspace=t.disable_backspace;var n=t.settings;n.lock_keyboard_guide&&(e.show_keyboard=n.keyboard_guide),n.lock_hands_guide&&(e.show_hand=n.hands_guide),n.lock_keyboard&&(e.keyboard=n.keyboard),n.lock_use_hand&&(e.use_hand=n.use_hand),n.lock_keyboard_sfx&&(e.keyboard_sfx=n.keyboard_sfx),n.lock_voicefx&&(e.voicefx=n.voicefx),n.lock_block_on_errors&&(e.block_on_errors=n.block_on_errors),n.keyboard_lowercase&&(e.keyboard_lowercase=n.keyboard_lowercase);var r={font_face:"Primary Penmanship",font_size:"med",keyboard:"en,us",keyboard_layout:e.keyboard_lowercase?12:11,typing_theme:"bees",show_hand:!0,show_keyboard:!0,use_hand:null};if(approuter.program&&approuter.program.is_junior)for(var o in r)e[o]=r[o];return e}},{key:"lessonplans",value:function(){return this.programs.filter(function(e){if("test"==e.program_type)return!1;var t=this.teamprograms.find((function(t){return t.program_id==e.id}));if(!t.requires_id)return!0;var n=this.teamprograms.find((function(e){return e.id==t.requires_id}));return this.programs.find((function(e){return e.id==n.program_id})).is_complete}.bind(this))}}])&&c(t.prototype,n),a&&c(t,a),e}();t.default=u},14138:(e,t,n)=>{function r(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(82526),n(41817),n(32165),n(91038),n(66992),n(47042),n(68309),n(41539),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.merge_lessons_and_progress=s,t.default=void 0;var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"merge_progress",value:function(e,t,n){s(e.lesson_games,this,t,n)}}])&&a(t.prototype,n),r&&a(t,r),e}();function s(e,t,n,o){var a,i,s=t.lessons,c={},u=r(e);try{for(u.s();!(i=u.n()).done;){var l=i.value;c[l.lesson_id]=l}}catch(e){u.e(e)}finally{u.f()}a=1;var p,f=0,d=0,m=-1,y=o.settings.min_stars||1,h=r(s);try{for(h.s();!(p=h.n()).done;){var g=p.value,v=c[g.id];v?g.progress=v:delete g.progress,g.is_locked=!1,g.is_blocked=!1,g.is_unassigned=!1,g.has_range=!1,delete g.is_tutorial,"header"!=g.lesson_type?(g.is_hidden&&a--,g.index=a,g.lesson_index=g.index,g.progress&&g.progress.score>0&&(g.objective_completion||g.progress.stars>=y)&&(f=g.index,d++),g.is_test&&(m=g.index),a++):(g.index=null,g.lesson_index=null)}}catch(e){h.e(e)}finally{h.f()}if(0==f){var b,_=r(s);try{for(_.s();!(b=_.n()).done;){var w=b.value;if("header"!=w.lesson_type){w.is_tutorial=!0;break}}}catch(e){_.e(e)}finally{_.f()}}var k,x=n.start_lock_index,j=n.lock_index||0,S=o.can_jump,O=r(s);try{for(O.s();!(k=O.n()).done;){var E=k.value;if("header"!=E.lesson_type){E.has_range=!(null==x||-1==j||0==j);var P=!1;E.has_range?(E.index<x||E.index>j||f>=x&&f<=j&&E.index>f+1||f<x&&E.index!=x)&&(P=!0):E.index>f+1&&(P=!0),!S&&P&&(E.is_locked=!0,E.is_blocked=!0),E.has_range&&(E.index<x||E.index>j)&&(E.is_unassigned=!0),P&&(E.is_locked=!0)}}}catch(e){O.e(e)}finally{O.f()}t.last_with_progress=f,t.lessons_with_progress=d,t.last_finished=f,t.lesson_count=a-1,t.has_placement_test=n.has_placement_test&&m>f}t.default=i},5319:(e,t)=>{function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,o;return t=e,(r=[{key:"init",value:function(){return this.settings||(this.settings={}),this}}])&&n(t.prototype,r),o&&n(t,o),e}();t.default=r},42212:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(82772),n(69600),n(21249),n(19601),n(47941),n(41539),n(88674),n(74916),n(15306),n(23123),Object.defineProperty(t,"__esModule",{value:!0}),t.oauthWithPopup=function(e,t,n,r,o){var i=n[e];return localStorage.setItem("login_method",e),r&&r(!0),new Promise((function(s,c){var u=Object.assign({response_type:"code",redirect_uri:n.BASE_DOMAIN+n.OAUTH_CALLBACK},i.PARAMS),p=window.cordova?localStorage.getItem("domain-key"):window.location.host.split(".")[0];p="www";var f,d=i.AUTHORIZE_URL+"?"+(f=u,Object.keys(f).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(f[e])})).join("&")),m=!1;function y(n){function i(){r&&r(!1),c.apply(void 0,arguments)}if(-1!==(n=decodeURIComponent(n)).indexOf("error")){var u=n.split("error=")[1].split("&")[0],f=decodeURIComponent(n.split("error_description=")[1].split("&")[0].replace(/\+/g,"%20"));return console.warn("got oauth error",n),void i({responseJSON:"OAuth callback error: "+u+" ("+f+")"})}if(-1===n.indexOf("code="))return console.warn("no code found in oauth callback url",n),void i({responseJSON:"no code found in url: "+n});var d=n.split("code=")[1].split("&")[0];o?s(d):a.default.resolveOAauthToken(e,p,d,(function(e){return function(e,t,n,r){return l.apply(this,arguments)}(e,t,s,i)}),i)}if(window.cordova)window.handleOpenURL=function(e){window.handleOpenURL=null,SafariViewController.hide(),y(e)},SafariViewController.show({url:d});else{window.addEventListener("message",(function e(t){"string"==typeof t.data&&(m=!0,~t.origin.split("?")[0].indexOf(n.BASE_DOMAIN)&&(window.removeEventListener("message",e),y(t.data)))}));var h=window.open(d,"_blank","location=no,toolbar=yes");if(!h)return console.warn("Could not open window for oauth");var g=setInterval((function(){h.closed&&!m&&(clearInterval(g),r&&r(!1))}),1e3)}}))},n(35666);var o,a=(o=n(31349))&&o.__esModule?o:{default:o},i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=s();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(98912));function s(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return s=function(){return e},e}function c(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){c(a,r,o,i,s,"next",e)}function s(e){c(a,r,o,i,s,"throw",e)}i(void 0)}))}}function l(){return(l=u(regeneratorRuntime.mark((function e(t,n,r,o){var a,s,c,u,l,p,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.user,s=t.tpc_users,e.next=4;break;case 4:if(a||1!==s.length){e.next=8;break}return e.next=7,i.signUserIn(s[0].login_token).then(i.takeMeHomeOrNext);case 7:return e.abrupt("return");case 8:if(!s.length){e.next=12;break}r(t),e.next=39;break;case 12:if(!a){e.next=16;break}i.signUserIn(a.login_token).then(i.takeMeHomeOrNext),e.next=39;break;case 16:if(!n){e.next=38;break}return e.next=19,approuter.materialize_profile();case 19:if(!(c=e.sent)||c.is_anonymous){e.next=23;break}return r(),e.abrupt("return");case 23:for(u=t.auth_user,l={},p=0,f=["email","fname","lname","sis_id"];p<f.length;p++)u[d=f[p]]&&(l[d]=u[d]);return e.prev=26,e.next=29,approuter.update_profile(l);case 29:e.next=35;break;case 31:return e.prev=31,e.t0=e.catch(26),o(e.t0),e.abrupt("return");case 35:r(),e.next=39;break;case 38:o();case 39:case"end":return e.stop()}}),e,null,[[26,31]])})))).apply(this,arguments)}},68215:(e,t,n)=>{n(82526),n(41817),n(32165),n(91038),n(66992),n(21249),n(47042),n(68309),n(30489),n(41539),n(12419),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!=typeof e)return{default:e};var t=c();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(67294)),a=(r=n(11418))&&r.__esModule?r:{default:r};n(72207);var i=n(53896),s=n(72120);function c(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return c=function(){return e},e}function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=function(e){y(n,e);var t=g(n);function n(e){var r;return f(this,n),w(b(r=t.call(this,e)),"_events",null),w(b(r),"updateModals",(function(){r.setState({modals:approuter.modals})})),r.state={modals:[]},approuter.modals&&(r.state.modals=approuter.modals),r}return m(n,[{key:"componentDidMount",value:function(){var e=approuter.events.group();this._events=e,e.on("show_modal",this.updateModals),e.on("hide_modal",this.updateModals)}},{key:"componentWillUnmount",value:function(){this._events.unbindAll()}},{key:"render",value:function(){var e=this.state.modals;return o.default.createElement("div",{style:{position:"fixed",zIndex:1100}},o.default.createElement(s.TransitionGroup,null,e.map((function(e,t){return o.default.createElement(s.CSSTransition,{key:t,classNames:"edmodal",timeout:{enter:600,exit:0}},o.default.createElement("div",{key:e.props.id},e))}))))}}]),n}(o.Component),x=function(e){y(n,e);var t=g(n);function n(e){var r,o,a,i;return f(this,n),w(b(r=t.call(this,e)),"onResize",(function(){r.props.hasSize&&r.setState({size:{width:window.innerWidth,height:window.innerHeight}})})),w(b(r),"onTouchMove",(function(e){r.props.noTouch&&e.preventDefault()})),r.onResize=(o=r.onResize.bind(b(r)),a=500,i=0,function(){var e=(new Date).getTime();if(!(e-i<a))return i=e,o.apply(void 0,arguments)}),r.root=approuter.root,r.root.jquery&&(r.root=r.root.get(0)),r.state={size:null},r.props.hasSize&&(r.state.size={width:window.innerWidth,height:window.innerHeight}),r}return m(n,[{key:"render",value:function(){var e=this;return o.default.createElement(o.Suspense,{fallback:o.default.createElement("div",null,"Loading...")},o.default.createElement(i.I18nextProvider,null,o.default.createElement("div",{id:"root"},o.default.createElement(k,null),this.props.header?o.default.createElement(a.default,null):null,this.props.hasSize?o.default.Children.map(this.props.children,(function(t){return o.default.cloneElement(t,{window_width:e.state.size.width,window_height:e.state.size.height})})):this.props.children)))}},{key:"updateEnvironment",value:function(e,t){if(t){if(t.styles){var n,r=u(t.styles);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.root.classList.contains(o)&&this.root.classList.remove(o)}}catch(e){r.e(e)}finally{r.f()}}else t.style&&this.root.classList.remove(t.style);t.rootId&&this.root.classList.remove("id"),0==t.scroll&&document.body.classList.remove("noscroll-body"),t.darkBody&&document.body.classList.remove("dark-body"),t.darkerBody&&document.body.classList.remove("darker-body"),t.cloudBody&&document.body.classList.remove("tpc-cloud-body"),t.skyBody&&document.body.classList.remove("sky-body"),t.title&&(document.title="EdClub")}if(e){if(e.styles){var a,i=u(e.styles);try{for(i.s();!(a=i.n()).done;){var s=a.value;s&&this.root.classList.add(s)}}catch(e){i.e(e)}finally{i.f()}}else e.style&&this.root.classList.add(e.style);e.rootId&&(this.root.id=e.rootId),0==e.scroll&&document.body.classList.add("noscroll-body"),e.darkBody&&document.body.classList.add("dark-body"),e.darkerBody&&document.body.classList.add("darker-body"),e.cloudBody&&document.body.classList.add("tpc-cloud-body"),e.skyBody&&document.body.classList.add("sky-body"),e.title?document.title=e.title+" - EdClub":approuter.current_app&&approuter.current_app.name&&(document.title=approuter.current_app.name+" - EdClub")}}},{key:"componentWillMount",value:function(){this.updateEnvironment(this.props)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize),window.addEventListener("touchmove",this.onTouchMove),this.props.onMount&&this.props.onMount()}},{key:"componentWillUpdate",value:function(e,t){this.updateEnvironment(e,this.props)}},{key:"componentWillUnmount",value:function(){this.updateEnvironment(null,this.props),window.removeEventListener("resize",this.onResize),window.removeEventListener("touchmove",this.onTouchMove)}}]),n}(o.default.Component);t.default=x,x.defaultProps={header:!0,scroll:!0,darkBody:!1,darkerBody:!1,onMount:null,hasSize:!1,noTouch:!1,style:null,title:null}},38538:(e,t,n)=>{function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n(66992),n(21249),n(41539),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.set_in_permanent_storage=s,t.get_from_permanent_storage=c,t.delete_from_permanent_storage=u,t.registerApprouterEventBus=function(e){e.on("logout",p)},t.Persistence=void 0;var a=(0,n(43393).List)(),i="storage_";function s(e,t){if(!n.g.localStorage)return!1;e=i+e;var r=JSON.stringify(t);return n.g.localStorage.setItem(e,r),!0}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!n.g.localStorage)return t;e=i+e;var r,o=n.g.localStorage.getItem(e);if(!o)return t;try{r=JSON.parse(o)}catch(e){return t}return r}function u(e){n.g.localStorage&&(e=i+e,n.g.localStorage.removeItem(e))}var l=function(){function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r(this,e),this.values={},this.storageKey=t,n&&(a=a.push(this))}var t,n,i;return t=e,(n=[{key:"get",value:function(e){return c(this.storageKey,this.values)[e]}},{key:"set",value:function(e,t){var n=c(this.storageKey,this.values);n[e]=t,s(this.storageKey,n)}},{key:"invalidate",value:function(){u(this.storageKey)}}])&&o(t.prototype,n),i&&o(t,i),e}();function p(){a.map((function(e){e.invalidate()}))}t.Persistence=l},11440:(e,t,n)=>{n(92222),n(68309),n(41539),n(88674),Object.defineProperty(t,"__esModule",{value:!0}),t.resolveAppRoute=function(e){return Q.apply(this,arguments)},t.url_routes=void 0,n(35666);var r=i(n(55382)),o=n(93951),a=i(n(56435));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,c,"next",e)}function c(e){s(a,r,o,i,c,"throw",e)}i(void 0)}))}}var u,l,p,f,d,m,y,h,g,v,b,_,w,k,x,j,S,O,E,P,R,N,C,M,T,A,z,I,L,D,U,q,Y,B,H,F,K,W,J=function(){var e=c(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(736),n.e(594),n.e(249),n.e(259),n.e(435),n.e(486)]).then(n.bind(n,25141));case 2:return r=e.sent,e.abrupt("return",r.default[t]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),G=function(){var e=c(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(736),n.e(594),n.e(249),n.e(259),n.e(126),n.e(435),n.e(742)]).then(n.bind(n,71773));case 2:return r=e.sent,e.abrupt("return",r.default[t]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=c(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(736),n.e(594),n.e(249),n.e(209),n.e(900)]).then(n.bind(n,8204));case 2:return r=e.sent,e.abrupt("return",r.default[t]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=c(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(736),n.e(594),n.e(209),n.e(602)]).then(n.bind(n,41991));case 2:return r=e.sent,e.abrupt("return",r.default[t]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=c(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(736),n.e(426),n.e(594),n.e(249),n.e(259),n.e(126),n.e(903)]).then(n.bind(n,16710));case 2:return r=e.sent,e.abrupt("return",r.default[t]);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z={"typing.classic_typing_app":(W=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("classic_typing_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return W.apply(this,arguments)}),"typing.videotyping_app":(K=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("videotyping_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return K.apply(this,arguments)}),"typing.instruction":(F=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("instruction");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return F.apply(this,arguments)}),"typing.boxed_typing":(H=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("boxed_typing");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return H.apply(this,arguments)}),"typing.games.BalloonValley":(B=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("BalloonValley");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return B.apply(this,arguments)}),"typing.games.MonsterAttack":(Y=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("MonsterAttack");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return Y.apply(this,arguments)}),"typing.games.TempleBash":(q=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("TempleBash");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return q.apply(this,arguments)}),"typing.games.FloatingBubbles":(U=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("FloatingBubbles");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return U.apply(this,arguments)}),"typing.games.AppleThieves":(D=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X("AppleThieves");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return D.apply(this,arguments)}),"spelling.cards":(L=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("spelling_cards_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return L.apply(this,arguments)}),"spelling.dictation":(I=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("spelling_dictation_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return I.apply(this,arguments)}),"spelling.story":(z=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("spelling_story_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return z.apply(this,arguments)}),"spelling.dropquiz":(A=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("spelling_dropquiz_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return A.apply(this,arguments)}),"spelling.shuffle":(T=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("spelling_shuffle_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return T.apply(this,arguments)}),"spelling.crossword":(M=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("spelling_crossword_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return M.apply(this,arguments)}),"spelling.fillblank":(C=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("spelling_fillblank_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return C.apply(this,arguments)}),"spelling.spellit":(N=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("spelling_spellit_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return N.apply(this,arguments)}),reading:(R=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V("reading_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return R.apply(this,arguments)}),"spelling.quiz":(P=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("quiz_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return P.apply(this,arguments)}),"spelling.proofreading":(E=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$("proofreading_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return E.apply(this,arguments)}),"junior.result_page":(O=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G("junior_result_page");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return O.apply(this,arguments)}),"shared.login_app":{app:o.login_app},"shared.signup_app":{app:o.signup_app},"shared.school_login_app":{app:o.school_login_app},"shared.school_signup_app":{app:o.school_signup_app},"shared.not_found_app":{app:a.default},"shared.test_video_loop":{app:G("test_video_loop")},"student.dashboard_app":(S=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("dashboard_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return S.apply(this,arguments)}),"student.more_tests":(j=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("more_tests");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return j.apply(this,arguments)}),"student.lessonplan":(x=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("lessonplan_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return x.apply(this,arguments)}),"student.testplan":(k=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("testplan_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return k.apply(this,arguments)}),"student.videoplayer":(w=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("video_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return w.apply(this,arguments)}),decisionmaking:(_=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("decisionmaking_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return _.apply(this,arguments)}),"student.profile.changepassword_app":(b=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("changepassword_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return b.apply(this,arguments)}),"student.profile.profiledetails_app":(v=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("profiledetails_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return v.apply(this,arguments)}),"student.profile.billing_app":(g=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("billing_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return g.apply(this,arguments)}),"student.profile.license_app":(h=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("license_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return h.apply(this,arguments)}),"student.profile.plans_app":(y=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("plans_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return y.apply(this,arguments)}),"student.profile.deleteaccount_app":(m=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("deleteaccount_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return m.apply(this,arguments)}),"student.scoreboard":(d=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("scoreboard_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return d.apply(this,arguments)}),"student.stats_app":(f=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("stats_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return f.apply(this,arguments)}),"student.badge_app":(p=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("badge_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return p.apply(this,arguments)}),"student.catalog_app":(l=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("catalog_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)}),"student.placementtest_app":(u=c(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J("placementtest_app");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)}),"student.lesson_locked":{app:function(e){var t=e.is_test?"This test is no longer available to you.":"Your teacher has not assigned this lesson to you yet. Consider practicing your previous lessons a bit more.";return(0,r.default)(e.name,"Lesson Locked",t,"Go Back",approuter.exit_lesson)}}};function Q(){return(Q=c(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Z[t]){e.next=3;break}return e.abrupt("return");case 3:if("function"!=typeof n){e.next=9;break}return e.next=6,n();case 6:e.t0=e.sent,e.next=10;break;case 9:e.t0=n.app;case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ee=[{name:"dashboard",path:"/sportal/",app:"student.dashboard_app"},{name:"edit_password",path:"/sportal/change_password.html",app:"student.profile.changepassword_app"},{name:"profile",path:"/sportal/profile.html",app:"student.profile.profiledetails_app"},{name:"delete_account",path:"/sportal/delete_account.html",app:"student.profile.deleteaccount_app"},{name:"license",path:"/sportal/license/",app:"student.profile.license_app"},{name:"badges_page",path:"/sportal/badges.html",app:"student.badge_app"},{name:"stats_page",path:"/sportal/stats.html",app:"student.stats_app"},{name:"catalog_page",path:"/sportal/catalog.html",app:"student.catalog_app"},{name:"more_tests",path:"/sportal/more_tests.html",app:"student.more_tests"},{name:"test",path:"/sportal/test-:id(\\d+).play",app:"student.testplan"},{name:"lesson",path:"/sportal/program-:program_id(\\d+)/:id(\\d+).play",app:"lesson"},{name:"lessonplan",path:"/sportal/program-:id(\\d+).game",app:"student.lessonplan"},{name:"placement",path:"/sportal/program-:id.placement",app:"student.placementtest_app"},{name:"scoreboard",path:"/sportal/teamprogram-:id.scoreboard",app:"student.scoreboard"}];t.url_routes=ee,t.url_routes=ee=ee.concat([{name:"student_plans",path:"/sportal/plans.html",app:"student.profile.plans_app"},{name:"student_billing",path:"/sportal/billing.html",app:"student.profile.billing_app"},{name:"login_page",path:"/login.html",app:"shared.login_app"},{name:"signup_page",path:"/signup.html",app:"shared.signup_app"}])},68336:(e,t,n)=>{function r(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function s(e){r(i,o,a,s,c,"next",e)}function c(e){r(i,o,a,s,c,"throw",e)}s(void 0)}))}}var a;n(41539),n(88674),Object.defineProperty(t,"__esModule",{value:!0}),t.registerLoginSession=function(e){return p.apply(this,arguments)},t.getSessions=t.removeSession=t.flushSessions=t.fetchSessions=void 0,n(35666);var i=function(e){return JSON.parse(JSON.stringify(e))};function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,n){var r="".concat("","/auth/refresh_tokens/");var o=new XMLHttpRequest;o.open("POST",r,!0),o.setRequestHeader("Content-Type","application/json"),o.addEventListener("load",(function(){200===this.status?(a=JSON.parse(this.responseText),t(a)):400===this.status&&n("RefreshToken Payload Failed: ".concat(JSON.stringify(e)))})),o.send(JSON.stringify(e))}))}var c=function(){var e=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({domain:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.fetchSessions=c;var u=function(){var e=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({flush:!0});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t.flushSessions=u;var l=function(){var e=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s({remove_domain:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.removeSession=l;function p(){return(p=o(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){s({login_token:t}).then((function(){e(i(a[a.length-1]))})).catch(n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.getSessions=function(){return i(a)}},92119:(e,t,n)=>{n(82526),n(41817),n(32165),n(57327),n(69826),n(91038),n(82772),n(66992),n(69600),n(47042),n(68309),n(19601),n(41539),n(88674),n(74916),n(39714),n(70189),n(78783),n(4723),n(15306),n(64765),n(23123),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.calc_wpm=function(e,t){return parseInt(e/5/(t/6e4)+.5)},t.calc_accuracy=function(e,t){return 0==t?100:Math.round(100*e/t)},t.preload=function(e){if(e){var t=(0,o.default)("<div>").hide();(0,o.default)(e).each((function(e,n){t.append((0,o.default)("<img>").attr("src","//static.typingclub.com/m/"+n))})),(0,o.default)("body").append(t)}},t.detect_os=l,t.get2dict=function(){var e,t={},n=/\+/g,r=/([^&=]+)=?([^&]*)/g,o=function(e){return decodeURIComponent(e.replace(n," "))},a=window.location.search.substring(1);for(;e=r.exec(a);)t[o(e[1])]=o(e[2]);return t},t.add_get_param=function(e,t,n){if(e.indexOf(t+"=")>=0){var r=e.substring(0,e.indexOf(t)),o=e.substring(e.indexOf(t));o=(o=o.substring(o.indexOf("=")+1)).indexOf("&")>=0?o.substring(o.indexOf("&")):"",e=r+t+"="+n+o}else e.indexOf("?")<0?e+="?"+t+"="+n:e+="&"+t+"="+n;return e},t.px2int=function(e){return parseFloat(e.replace(/\D\./g,""))},t.intcomma=function e(t){var n=String(t),r=n.replace(/^(-?\d+)(\d{3})/,"$1,$2");return n==r?r:e(r)},t.isUpperCase=function(e){return!!e&&e!=e.toLocaleLowerCase()},t.filterString=function(e,t,n){var r=e.split(t),o=new Set(r.filter(n));return r.filter((function(e){return!o.has(e)})).join(t)},t.setTimeout=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=setTimeout(e,t);return p.push(n),n},t.setInterval=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=setInterval(e,t);return f.push(n),n},t.flush_timeouts=function(){var e,t=a(f);try{for(t.s();!(e=t.n()).done;){var n=e.value;clearInterval(n)}}catch(e){t.e(e)}finally{t.f()}var r,o=a(p);try{for(o.s();!(r=o.n()).done;){var i=r.value;clearTimeout(i)}}catch(e){o.e(e)}finally{o.f()}f=[],p=[]},t.validateEmail=function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)},t.get_voice=function(e){var t=speechSynthesis.getVoices();if(!t||!t.length)return;var n,r=a(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.voiceURI==e)return o}}catch(e){r.e(e)}finally{r.f()}var i,s=a(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;if(c.lang==navigator.language)return c}}catch(e){s.e(e)}finally{s.f()}var u,l=a(t);try{for(l.s();!(u=l.n()).done;){var p=u.value;if("en-US"==p.lang)return p}}catch(e){l.e(e)}finally{l.f()}return t[0]},t.cn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join(" ")},t.cx=function(e){var t=[];for(var n in e)e[n]&&t.push(n);return t.join(" ")},t.get_practice_time_goals=function(e){var t;t=e;return t?{typing_goal_daily:t.typing_goal_daily||15,typing_goal_weekly:t.typing_goal_weekly||60,weekday_start:t.weekday_start||0}:{typing_goal_daily:15,typing_goal_weekly:60,weekday_start:0}},t.show_ios_focus_popup=function(e,t){var n=(0,o.default)("<div />").html(e);function r(){t&&t[0].focus(),setTimeout((function(){return n.remove()}),100)}if(n.append((0,o.default)("<img />").attr("src","//static.typingclub.com/m/engine/img/touch-here.png").css({paddingLeft:40,height:140,width:137})),n.css({position:"absolute",left:0,right:0,top:"30%",background:"rgba(0, 0, 0, .9)",fontSize:"50px",boxShadow:"0 0 200px #444",color:"white",textAlign:"center",padding:50,zIndex:7}),t)n.click(r);else{var a=(0,o.default)("<input/>").css({position:"absolute",top:0,bottom:0,left:0,width:"100%",opacity:0});n.append(a),a.focus(r)}return(0,o.default)("body").prepend(n),n},t.get_language_country=function(e){var t=m.find((function(t){return t[0]==e}));return t?t[2]:e||m[0][2]},t.get_language_name=function(e){var t=m.find((function(t){return t[0]==e}));return t?t[1]:e||m[0][1]},t.sticky_key_instruction_link=function(){return{Windows:"http://disability.illinois.edu/academic-support/assistive-technology/windows-7-sticky-keys",iOS:"http://www.apple.com/accessibility/ios/#motor-skills",Mac:"https://support.apple.com/kb/PH18386?locale=en_US",Chromebook:"https://support.google.com/chromebook/answer/177893"}[l()]||"https://en.wikipedia.org/wiki/Sticky_keys"},t.choose_random_field=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n){var r,o=[],i=a(t);try{for(i.s();!(r=i.n()).done;){var s=r.value;e[s]&&o.push(s)}}catch(e){i.e(e)}finally{i.f()}t=o}var c=t[Math.floor(Math.random()*t.length)];return e[c]},t.dangerous_thread_blocking_sleep=function(e){for(var t=(new Date).getTime(),n=0;n<1e7&&!((new Date).getTime()-t>e);n++);},t.tracing_proxy=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Proxy(t,Object.assign({},n,{get:function(t,n){if(console.log(e,n),n in t)return t[n]},set:function(t,n,r){console.log("".concat(e,"<---"),n,r),t[n]=r}}))},t.pinyin_input_punctuation_map=function(){return{"、":"\\","｜":"|","·":"`","～":"~","！":"!","¥":"$","（":"(","）":")","；":";","：":":","“":'"',"‘":"'","，":",","。":".","《":"<","》":">","？":"?","【":"[","】":"]","「":"{","」":"}"}},t.jp_input_punctuation_map=function(){return{"＝":"=","・":"."}},t.sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.LANGUAGE_CHOICES=t.speech_support=t.isFirefox=t.isIOS=t.isSafari=void 0;var r,o=(r=n(9479))&&r.__esModule?r:{default:r};function a(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return s=e.done,e},e:function(e){c=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(c)throw a}}}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}window.wait_preload=function(e){var t,n,r,a,i=0;t=(0,o.default)("<div />").css({position:"absolute",top:-500,"font-family":"'Droid Sans Mono', 'Lucida Console', Monaco, monospace","font-size":"100px"}),r=(0,o.default)("<span>i</span>"),a=(0,o.default)("<span>W</span>"),n=(0,o.default)("<span>W</span>").css({"font-family":"Arial"}),t.append(r).append(a).append(n),(0,o.default)("body").prepend(t),function s(){var c=r.width(),u=a.width(),l=a.height(),p=n.height();c!=u||l==p?++i>5?(console.warn('Font defaulted back to "courier"'),t.remove(),(0,o.default)("#arena-text").css("font-family","courier"),e()):setTimeout(s,500):(t.remove(),e())}()},o.default.fn.extend({animateCss:function(e,t){setTimeout(function(){(0,o.default)(this).show().addClass("animated "+e).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){(0,o.default)(this).removeClass("animated "+e),t&&t()}.bind(this))}.bind(this),3)}});var s=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);t.isSafari=s;var c=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)||navigator.platform.match(/(iPad|iPhone|iPod)/g)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1;t.isIOS=c;var u=navigator.userAgent.match(/firefox/gi);function l(){for(var e=navigator.userAgent,t=0,n=[{s:"Windows",r:/Windows/},{s:"Android",r:/Android/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac",r:/Mac OS X/},{s:"Chromebook",r:/\bCrOS\b/}];t<n.length;t++){var r=n[t];if(r.r.test(e))return r.s}return"unknown"}t.isFirefox=u;var p=[],f=[];var d=!!window.speechSynthesis;t.speech_support=d;var m=[["en","English","us"],["en_GB","English (United Kingdom)","gb"],["es_MX","Español (América Latina)","mx"],["es_ES","Español (España)","es"],["ar_SA","عربي","_Arab_League"],["bg_BG","български","bg"],["de_DE","Deutsch","de"],["nl_NL","Dutch","nl"],["fa_IR","فارسی","ir"],["fr_FR","Français (France)","fr"],["fr_CA","Français (Canada)","ca"],["he_IL","Hebrew","il"],["hu_HU","Magyar","hu"],["it_IT","Italiano","it"],["ja_JP","日本語","jp"],["pl_PL","Polski","pl"],["pt_PT","Português","pt"],["ru_RU","русский","ru"],["sk_SK","Slovenčina","sk"],["sv_SE","Svenska","se"],["zh_CN","中文","cn"]];t.LANGUAGE_CHOICES=m},90164:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(82526),n(41817),n(32165),n(92222),n(43290),n(57327),n(89554),n(91038),n(82772),n(66992),n(69600),n(21249),n(65069),n(47042),n(2707),n(40561),n(68309),n(47941),n(41539),n(26833),n(24603),n(74916),n(39714),n(70189),n(78783),n(15306),n(23123),n(73210),n(54747),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.generate_lessons=function(e,t){A((function(){var n,r=e.learned?e.learned.left.concat(e.learned.right):[],o=[],i=[],s=y((0,a.get_section_templates)(e));try{for(s.s();!(n=s.n()).done;){var c=n.value;c.meta&&"keys"==c.meta.type&&(r=r.concat(c.meta.keys));var u=L(c,r,!1,i.slice(Math.max(0,i.length-4),i.length).join(" "));!u.activity||"normal"!=u.activity.render_engine&&"abjad"!=u.activity.render_engine||"travel"==u.meta.type||i.push(u.activity.text1),o.push(u)}}catch(e){s.e(e)}finally{s.f()}t(o)}))},t.compute_learned_keys=function(e,t){for(var n={left:e.learned_before.left.slice(),right:e.learned_before.right.slice()},r=0;r<t;r++){var o=e.lessons[r];"keys"==o.meta.type&&(n.left.push(o.meta.keys[0]),n.right.push(o.meta.keys[1]))}return n},t.compute_needed_keys=function(e,t,n){if(!e.activity)return[];if("keys"==e.meta.type||"review"==e.meta.type)return e.meta.keys;var r=[],o=e.activity.render_engine;r="left-anchor"==o?t.learned_before.right.slice():"right-anchor"==o?t.learned_before.left.slice():t.learned_before.left.concat(t.learned_before.right);for(var a=0;a<n;a++){var i=t.lessons[a];"keys"==i.meta.type&&("left-anchor"==o?r.push(i.meta.keys[1]):"right-anchor"==o?r.push(i.meta.keys[0]):r=r.concat(i.meta.keys))}return r},t.regenerate_lesson_text=function(e,t,n,r){A((function(){n(L(e,t,!0,r).activity.text1)}))},t.generate_dynamic_lesson=function(e,t,r){var a=function(e){return e[Math.floor(Math.random()*e.length)]};o.default.getJSON("//static.typingclub.com/m/lpeditor/corpora/"+j[t.language||"en"],(function(o){api.getSubjectStats((function(t){var n,i=e.activity.text5,s=i.type||"progressive",c=o[i.glossary||"lowercase"],u=c.duals,l=c.words;if(t.length)n=t[0].duals;else{n={};for(var p=Object.keys(u),f=new Set;f.size<=10;)f.add(p[Math.floor(Math.random()*p.length)]);var m,h=y(f);try{for(h.s();!(m=h.n()).done;){var g=m.value;n[g[1]]||(n[g[1]]=[]),n[g[1]][g[0]]="20|1"}}catch(e){h.e(e)}finally{h.f()}}var v=Object.values(u).map((function(e){return e.length})),b=Math.max.apply(Math,d(v)),_=Math.min.apply(Math,d(v)),w={};for(var k in u){var x=(b-u[k].length)/(b-_)*.2+1,j=0;n[k[1]]&&n[k[1]][k[0]]&&(j=z(n[k[1]][k[0]])/x),j&&(w[k]=j)}var S=Object.keys(w).sort((function(e,t){return w[e]<w[t]?-1:1})),O=new Set;if(S.length>10)for(S=S.slice(0,10);O.size<4;)O.add(a(S));else O=new Set(Object.keys(u).slice(0,5));var E,P=["ass","cum","dic","fag","fat","fuc","fuk","jap","jiz","pus","wop"],R="",N=y(O);try{for(N.s();!(E=N.n()).done;){var C=E.value,M=[],T=u[C].map((function(e){return l[e]}));if(T=(T=T.sort((function(e,t){return I(n,e.toLowerCase())<I(n,t.toLowerCase())?-1:1}))).splice(0,6),"duals"==s){for(var A=0;A<3;A++)M.push(C);for(var L=0;L<3;L++)M.push(a(T))}else if("words"==s)for(var D=0;D<4;D++)M.push(a(T));else{M.push(C+" "+C);for(var U=[],q=0;q<3;q++)U.push(a(T));for(var Y=new Set,B=0,H=U;B<H.length;B++){var F=H[B].toLowerCase(),K=F.indexOf(C);if(K>0){var W=F.substr(K-1,3);~P.indexOf(W)||Y.add(W)}}if(Y.size<2){var J,G=y(U.reverse());try{for(G.s();!(J=G.n()).done;){var $=J.value.toLowerCase(),V=$.indexOf(C);if(V<$.length-2){var X=$.substr(V,3);~P.indexOf(X)||Y.add(X)}}}catch(e){G.e(e)}finally{G.f()}}var Z=Array.from(Y).slice(0,2);Z&&Z.length<2&&Z.push(Z[0]);var Q,ee=y(Z);try{for(ee.s();!(Q=ee.n()).done;){var te=Q.value;M.push(te)}}catch(e){ee.e(e)}finally{ee.f()}for(var ne=0,re=U;ne<re.length;ne++){var oe=re[ne];M.push(oe)}}R+=M.join(" ")+"\n"}}catch(e){N.e(e)}finally{N.f()}e.activity.text1=R,e.activity.dynamic_text_generated=!0,r()}),n.g.profile,t.subject_id)}))},t.corpora=void 0;var o=f(n(9479)),a=n(70239),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=p();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(62724)),s=f(n(57043)),c=f(n(19873)),u=f(n(93220)),l=f(n(96026));f(n(63105)),f(n(35161)),f(n(49995));function p(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return p=function(){return e},e}function f(e){return e&&e.__esModule?e:{default:e}}function d(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function h(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v="!\"#$%&'()*+,-./:;<=>?@[\\]^_`{|}~",b="0123456789",_=(0,s.default)("abcdefghijklmnopqrstuvwxyz","ABCDEFGHIJKLMNOPQRSTUVWXYZ"),w={english:["wiki/en.txt","andersen-books"],arabic:["wiki/ar.txt"],bulgarian:["wiki/bg.txt"],greek:["wiki/el.txt"],farsi:["wiki/fa.txt"],french:["wiki/fr.txt"],hebrew:["wiki/he.txt"],hungarian:["wiki/hu.txt"],italian:["wiki/it.txt"],korean:["wiki/ko.txt"],dutch:["wiki/nl.txt"],polish:["wiki/pl.txt"],portuguese:["wiki/pt.txt"],romanian:["wiki/ro.txt"],russian:["wiki/ru.txt"],slovak:["wiki/sk.txt"],swedish:["wiki/sv.txt"],turkish:["wiki/tr.txt"],ukrainian:["wiki/uk.txt"],vietnamese:["wiki/vi.txt"],german:["wiki/de.txt"],spanish:["manual-de-economia-politica"]};t.corpora=w;var k,x,j={en:"wiki/en-duals.json"};function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";n&&n.length||(n=(0,s.default)(_,b,v).join("")),n=new Set(n);var a,i={},p=(0,c.default)(new Array(20),0),f={},d=y(n);try{for(d.s();!(a=d.n()).done;){f[E=a.value]=0}}catch(e){d.e(e)}finally{d.f()}var m="",h=!0,g=0,w="",k=0;for(var x in e){if((E=e[x])==w){if(3==k)continue;k++}else w=E,k=0;if(/\s/.test(E)){if(h||g<20&&p[g]++,m){var j=h||".!?".indexOf(E)>=0,S=m.length>Math.min(t,80)||N(m,o)<.15;(m>t/5&&j||S)&&(C(i,m,o),m="")}h=!0,g=0}else r.indexOf(E)>=0||(E in f&&f[E]++,(m||h)&&(m=M(i,m,E,f,h,o)),h=!1,g++)}i=(0,u.default)(i),p=(0,u.default)(p);var O=[];for(var E in f)O.push([E,Math.log(f[E])]);f=O;for(var P,R=Math.min(1,i.length/20),A=[],z=-1;z<t;){if(Math.random()<R){if(P=T(i),o)for(var I=o[Math.floor(Math.random()*o.length)],L=0;L<100&&!(P.indexOf(I)>=0);L++)P=T(i)}else{P="";var D=Math.min(T(p),7);for(var x in(0,l.default)(D))P+=T(f)}A.push(P),z+=P.length+1}return A.join(" ")}function O(e){return e.replace(/([.*+?^=!:${}()\-|\[\]\/\\])/g,"\\$1")}function E(e,t){var n,r=(t=Array.from(new Set(t)).join("")).replace(/[^a-z]/g,""),o=t.replace(/[^A-Z]/g,""),a=y(r);try{for(a.s();!(n=a.n()).done;){var i=n.value,s=i.toUpperCase();-1==o.indexOf(s)&&(e=e.replace(new RegExp(s,"g"),i))}}catch(e){a.e(e)}finally{a.f()}return t=O(t),e.replace(new RegExp("[^"+t+"\\s]","g"),"")}function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,a=arguments.length>5?arguments[5]:void 0,i=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0;o&&(e=E(e,o));for(var c,u,l=new RegExp(t,"g"+(i?"":"i")),p=new Set;c=l.exec(e);)if(u=c[0].length,!(a&&(a[0]>u||a[1]<u)||u<s&&/\s/.test(e.substr(l.lastIndex,s-u)))){var f=n-Math.max(u,s),d=l.lastIndex-u;if(f>10){for(var m=-1;d>=0&&f>0&&"\n"!=e[d];)" "==e[d]&&m!=d+1&&(m=d),d--,f--;0==f?d=m+1:"\n"==e[d]&&d++}var y=Math.max(n,u);if(/\s/.test(e.substr(d,y))&&/\S/.test(e[d+y]))for(;y>u&&/\S/.test(e[d+y]);)y--;var h=e.substr(d,y).split(/\s/).join(" ").trim();s<=h.length&&p.add(h)}for(var g=Array.from(p),v=[];v.length<r&&g.length>0;){var b=Math.floor(Math.random()*g.length);v.push(g[b]),g.splice(b,1)}return v}function R(e,t){var n="\\b"+e+"\\b";return P(x.text(),n,30,2,t)}function N(e,t){if(!t)return 1;var n=0;e.length;for(var r in t){var o=t[r];n+=e.split(o).length-1}return n/t.length}function C(e,t,n){if(t.length)if(n){var r=N(t,n);r&&(e[t]=r*t.length)}else e[t]=Math.log(t.length)}function M(e,t,n,r,o,a){if(n in r)o&&t.length&&(t+=" "),t+=n;else{for(;t.length&&!/\s/.test(n)&&v.indexOf(n)<0;)n=t[t.length-1],t=t.substr(0,t.length-1);(t=t.trim()).length>0&&(C(e,t,a),t="")}return t}function T(e){var t=0;for(var n in e)t+=e[n][1];var r=Math.random()*t,o=0;for(n in e){var a=e[n][1];if(o+a>=r)return e[n][0];o+=a}throw"Should't get here"}function A(e){var t=window.corpusName;k!=t?(x=(0,o.default)("<div/>")).load("//static.typingclub.com/m/lpeditor/corpora/"+t,(function(){k=t,e()})):setTimeout(e,0)}function z(e){if(!e)return 0;var t=m(e.split("|"),2),n=t[0],r=t[1];return parseInt(n)+50*parseFloat(r)}function I(e,t){for(var n=0,r=0,o=0;o<t.length-1;o++)e[t[o]]&&e[t[o]][t[o+1]]&&(n+=z(e[t[o]][t[o+1]]),r++);return n/r}function L(e,t,n,r){var o={description:"",lesson_type:e.lesson_type||"typing",meta:e.meta,key:e.icon||"e-cmn cmn-practice",objective_completion:!0,slug:null,name:e.name||"",score:null,activity:null};"video"==o.lesson_type?(o.score=1e3,o.activity={app:"student.videoplayer",video_id:e.video_uri.split("/").pop(),start_muted:!1,show_subtitles:!1,can_skip:!1,auto_start:!0}):"typing"==o.lesson_type&&(o.objective_completion=!1,o.score=e.score||2e3,o.activity={app:"typing.classic_typing_app",deletable:!0,min_wpm:e.min_wpm||3,render_engine:e.meta.engine||"normal",goal_wpm:e.goal_wpm||10,max_secs:600,text2:"",text3:"",text4:"",text5:null,on_error:"continue",font_size:"med",show_live_extras:!0,min_accuracy:80});var a,s,c,u=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=arguments.length>2?arguments[2]:void 0,r=Array.from({length:8*e},(function(){return Math.floor(Math.random()*t)})).join(""),o=!0;o;){var a=r.replace("11111",["111","11"][Math.floor(2*Math.random())]).replace("00000",["000","00"][Math.floor(2*Math.random())]).replace("101010","1010").replace("010101","0101");a.length==r.length&&(o=!1),r=a}if(n>1)for(o=!0;o;){var i=r.replace(Array(n).fill(1).join(""),Array(n-1).fill(1).join(""));(i=i.replace(Array(n).fill(0).join(""),Array(n-1).fill(0).join(""))).length==r.length&&(o=!1),r=i}return r.substr(0,e).split("")},l=o.activity,p=e.meta||{};!function(){switch(p.type){case"keys":if(l.render_engine="boxed",l.deletable=!1,l.on_error="block",o.objective_completion=!0,o.score=1e3,s=(s=!n&&p.pattern||"")?s.split(""):u(p.size||32,p.keys.length),l.text1=s.map((function(e){return p.keys[e]})).join(""),!p.fingers)break;l.instruction=[{title:i.map_content("new-key-title"),body:i.map_content("new-key-body",{KEY:p.keys[0],FINGER:p.fingers[0]})+(p.finger_instruction?" "+p.finger_instruction[0]:""),chr:p.keys[0],id:"slide-0",image_url:""},{title:i.map_content("new-key-title"),body:i.map_content("new-key-body",{KEY:p.keys[1],FINGER:p.fingers[1]})+(p.finger_instruction?" "+p.finger_instruction[1]:""),chr:p.keys[1],id:"slide-1",image_url:""},{title:i.map_content("new-key-good-job"),line1:i.map_content("new-key-practice"),line2:"[".concat(p.keys[0],"][").concat(p.keys[1],"]"),line3:i.map_content("new-key-take-time"),id:"slide-2",type:"success"}];break;case"space":o.objective_completion=!0,l.render_engine="boxed",l.deletable=!1,l.on_error="block",o.score=1e3;case"review":!n&&p.pattern?l.text1=p.pattern.split("").map((function(e){return" "==e?e:p.keys[e]})).join(""):l.text1=S(x.text(),p.size,p.keys);break;case"practice":o.key=e.icon||"e-cmn cmn-practice",l.text1=p.text||S(x.text(),p.size,p.needed||t,"",p.focus);break;case"shift-review":var f=function(e){var t=P(x.text(),"\\s"+O(e),6,100,null,null,!1,5),n=0;t.length||(t=P(x.text(),"\\s."+O(e),6,100,null,null,!1,5),n=1);var r,o={},a=y(t);try{for(a.s();!(r=a.n()).done;){var i=r.value,s=n?i[0]+i[1].toUpperCase()+i[2]:i[0].toUpperCase()+i.slice(1,3);if(!s)return;s in o?o[s]+=1:o[s]=1}}catch(e){a.e(e)}finally{a.f()}return Object.keys(o).sort((function(e,t){return o[e]<o[t]?1:-1}))},d=f(p.keys[0]),m=f(p.keys[1]),h=u(12,2);l.text1=[u(6,2).map((function(e){return d[e]})).join(" "),u(6,2).map((function(e){return m[e]})).join(" "),u(6,10).map((function(e,t){return"0"==h[t]?d[e]:m[e]})).join(" "),u(6,10).map((function(e,t){return"0"==h[t]?d[e]:m[e]})).join(" ")].join("\n");break;case"numbered-review":for(var g=(V=p.indexes,X=p.home_row,V.map((function(e){return X[e]}))),v="",b=!1,_=function(){v.length&&(v+=" ");var e=Math.floor(2*Math.random()+.5)+3,t=0+b;v+=u(e,2,3).map((function(e){return[p.chars[t],g[t]][e]})).join(""),b=!b};v.length<p.size;)_();l.text1=v;break;case"symbol-practice":a=(a=function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6,a=[];a.length<n;){for(var i=Math.floor(Math.random()*e.length)-100;i<e.length&&" "!=e[i];)i++;for(i++;i<e.length;){for(var s=i,c=!0;" "!=e[s];)t.indexOf(e[s])<0&&(c=!1),s++;var u=s-i;if(c&&r<=u&&u<=o){a.push(e.substr(i,u));break}i=s+1}}return a}(x.text(),t,20)).map((function(e){return(Math.random()<.33?p.chars[0]:"")+e+(Math.random()>.33?p.chars[1]:"")})),l.text1=a.join(" ");break;case"shift-practice":a=(a=P(x.text(),"\\s["+O(p.capitals)+"]",8,50,t,null,!1,4)).map((function(e){return p.capitals.indexOf(e[0].toUpperCase())>=0?e[0].toUpperCase()+e.slice(1).toLowerCase():e}));var w=P(x.text(),"\\s["+O(p.focus_caps)+"]",8,50,t,null,!1,4);if(w=w.map((function(e){return p.capitals.indexOf(e[0].toUpperCase())>=0?e[0].toUpperCase()+e.slice(1).toLowerCase():e})),a.length){var k=1;for(l.text1=a[0];l.text1.length<(p.size||165)&&k<a.length;){var j=Math.random()<.8?w[k++]:a[k++];j&&(l.text1+=" "+j)}}else l.text1=S(x.text(),p.size,p.needed||t,"",p.focus);break;case"game1":case"game2":case"game3":case"game4":case"game5":var E={game1:{engine:"balloon-valley",app:"typing.games.BalloonValley",noSpace:!0},game2:{engine:"monster-attack",app:"typing.games.MonsterAttack",icon:"G3"},game3:{engine:"temple-bash",app:"typing.games.TempleBash",noSpace:!0},game4:{engine:"floating-bubbles",app:"typing.games.FloatingBubbles"},game5:{engine:"apple-thieves",app:"typing.games.AppleThieves"}}[p.type];if(o.key="e-cmn cmn-"+(E.icon||p.type),l.min_wpm=1,l.render_engine=E.engine,l.app=E.app,c=p.size+(E.noSpace?Math.floor(p.size/5):0),p.use_prev){for(var N=0,C=r.split(/\s/).filter((function(e){return e.length>5})),M=[];N<c;){var T=C[Math.floor(Math.random()*C.length)];if(M.push(T),!T)break;N+=T.length+(E.noSpace?0:1)}l.text1=M.join(" ")}else l.text1=p.text||S(x.text(),c,p.needed||t,"",p.focus);E.noSpace&&(l.text1=l.text1.replace(/ /g,""));break;case"travel":o.key=e.icon||"e-cmn cmn-travel1";var A,z=[],I=y(p.travel_index);try{for(I.s();!(A=I.n()).done;){var L=A.value;z.push(p.top_row[L]+p.home_row[L]+p.bottom_row[L])}}catch(e){I.e(e)}finally{I.f()}for(var D="",U=["012","021","102","120","201","210"],q="",Y=function(){var e=U[Math.floor(6*Math.random())],t=Math.random();if(t>.5){var n=e.split(Math.floor(3*Math.random()));e=n[0]+U[Math.floor(6*Math.random())]+n[1],t>.75&&(e=e.substr(0,4))}for(var r=Math.floor(Math.random()*z.length);q.indexOf(r)>=0;)r=Math.floor(Math.random()*z.length);z.length>1&&(q=r+q.substr(0,z.length-2));var o=z[r];D.length&&(D+=" "),D+=e.split("").map((function(e){return!p.learned||p.learned.indexOf(o[e])>=0?o[e]+(p.travel_extra?p.travel_extra[r]:""):""})).join("")};D.length<p.size;)Y();l.text1=D;break;case"tricky":var B,H=[],F=[],K=y(a=p.words.split(" ",3));try{for(K.s();!(B=K.n()).done;){var W=B.value,J=R(W,t);H.push(Array(5).fill(W).join(" ")),H.push(J[0]),F.push(J[1])}}catch(e){K.e(e)}finally{K.f()}H.push(Array(2==a.length?3:2).fill(a.join(" ")).join(" ")),H.push(F.join(" ")),l.text1=H.join("\n");break;case"drum":var G=p.drum,$=function(e,t){var n="\\b\\S*"+e+"\\S*\\b";return P(x.text(),n,0,6,t,[1.1*e.length,2.5*e.length])}(G,t);l.text1=[Array(6).fill(G).join(" "),Array(3).fill($[0]+" "+$[1]).join(" "),Array(6).fill(G).join(" "),Array(3).fill($[2]+" "+$[3]).join(" "),Array(6).fill(G).join(" "),Array(3).fill($[4]+" "+$[5]).join(" ")].join("\n")}var V,X}();for(var f=!1,d=0,m=["farsi","arabic","hebrew"];d<m.length;d++)lang=m[d],w[lang].indexOf(window.corpusName)>-1&&(f=!0);return f&&o.activity&&"normal"==o.activity.render_engine&&(o.activity.render_engine="abjad"),o}window.gen_words=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(k==window.corpusName)return P.apply(void 0,[x.text()].concat(t));(x=(0,o.default)("<div/>")).load("//static.typingclub.com/m/lpeditor/corpora/"+window.corpusName,(function(){return console.log(P.apply(void 0,[x.text()].concat(t)))})),window.corpusName=k},window.gen_text=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(k==window.corpusName)return S.apply(void 0,[x.text()].concat(t));(x=(0,o.default)("<div/>")).load("//static.typingclub.com/m/lpeditor/corpora/"+window.corpusName,(function(){return console.log(S.apply(void 0,[x.text()].concat(t)))})),window.corpusName=k}},62724:(e,t,n)=>{n(69600),n(74916),n(23123),Object.defineProperty(t,"__esModule",{value:!0}),t.map_content=function(e,t){var n=PROGRAM_CONTENT[e]||r[e],o=t||{};for(var a in o)n=n.split("{{"+a+"}}").join(o[a]);return n},t.NEW_KEY_EXTRA=t.NEW_KEY_LABELS=t.FINGER_LABELS=t.CONTENT=t.RENDER_ENGINES=t.LESSON_TYPES=void 0;t.LESSON_TYPES={typing:"Typing",header:"Header",video:"Video","video typing":"VideoTyping"};t.RENDER_ENGINES={normal:"Classic Typing",boxed:"Boxed Typing","right-anchor":"Right Anchor","left-anchor":"Left Anchor",code:"Code Typing","balloon-valley":"Baloon Valley","monster-attack":"Monster Attack","temple-bash":"Temple Bash","floating-bubbles":"Floating Bubbles","apple-thieves":"Apple Thieves",abjad:"Abjad Typing"};var r={keys:"Keys",review:"Review",practice:"Practice",travel:"Travel","key1-and-key2":"{{KEY1}} and {{KEY2}}","new-key-title":"New Key Introduction","new-key-body":"Type the [{{KEY}}] key using your {{FINGER}}.","new-key-move-finger-back":"Move your finger back to the home-row position right after.","new-key-good-job":"GOOD JOB!","new-key-practice":"Next we will practice","new-key-take-time":"Take your time and make sure you get it right.","new-key-press-space":"Press [space] to begin.","left-index-finger":"left index finger","right-index-finger":"right index finger","left-middle-finger":"left middle finger","right-middle-finger":"right middle finger","left-ring-finger":"left ring finger","right-ring-finger":"right ring finger","left-pinky-finger":"left pinky finger","right-pinky-finger":"right pinky finger","great-work":"great work so far. we will now move on to learn about the tab and enter key, and then work on your speed.","white-space":"\tone tab\n    four spaces\n\t\ttwo tabs\n\t\t\tthree tabs\n\tone tab usually takes as much\n\tspace as four spaces.\n\tmany computer programmers\n\tin fact convert your tab into spaces.","basic-1":"now that you know how to type with all ten fingers, lets work on your speed and then move on to other keys.","basic-2":"if you want your typing speed to increase, you must first focus on your accuracy.","basic-3":"practice makes perfect. every time you repeat this lesson, your speed will increase.","basic-4":"remember the first and only rule of typing, never ever look at the keyboard while typing.","basic-5":"when we stare at a screen we tend to blink less. that is bad for the eyes because they can get dry.","basic-6":"make sure to look away from the computer every fifteen minutes, and take a five minute break every hour.","basic-7":"once you have finished typing this lesson, look away from the computer for a few short seconds before looking at the results.","basic-8":"because sitting at a computer is the exact opposite of exercise, you should take a more active break every hour or so.","basic-9":"one two three four five six seven eight nine ten eleven twelve thirteen fourteen fifteen sixteen","basic-10":"it usually takes a few weeks of practice to build the muscle memory needed to type fast.","basic-11":"good posture helps improve our concentration, letting you work longer and harder. it also prevents sore muscles.","basic-12":"look straight ahead. make sure your eyes look directly into your monitor the same way you would look at someone across the table from you.","basic-13":"once you are more comfortable with the keyboard, you may turn off the virtual hand guides by using the settings at the top of the page.","basic-14":"as you type, your brain remembers each word as a pattern of keystrokes. this allows you to type the same words without thinking about how to type each character.","basic-15":"to see how it works lets type the next sentence five times. i am glad. i am glad. i am glad. i am glad. i am glad.","basic-16":"to make sure you do not go back to typing with two or four fingers, make sure to revisit these lessons a few times during the coming week.","basic-17":"if you learn to never look at your keyboard when typing, the computer will feel like a part of your body with your mind in full control.","basic-18":"placing your fingers on the home row will help you learn to type faster and build the correct muscle memory. now try doing it with your eyes closed or while you look at the screen.","basic-19":"from the home row all other keys are just a short distance away. as you practice, you will build speed because you hardly have to move your fingers from one key to the next.","basic-20":"while it may feel easier at first, hunting and pecking at letters makes it harder to concentrate when you type. you also type slower and build the wrong muscle memory.","basic-21":"just like a basketball player trains their muscles so they focus on the game, you can train your muscles to type without much thinking about it.","basic-22":"whenever you are unsure which finger you should use to type a certain letter, take a look down at the virtual hands. they will guide you.","basic-23":"your index fingers should always find their way back to f and j by feeling for those bumps. it takes some practice but it will help you get better.","basic-24":"fast typists forget about the keyboard and do not even realize their fingers are at work. once you practice more you will feel the same way too.","basic-25":"next, we will move on to practice tricky words and then focus on learning how to type capital characters. great work so far.","numbers-1":"44 cats 74 men 44 doors in the room 74 trees more than 47 is the number 7 is a great choice 4 is a better one 4 by 7 is you guessed right 44 more days give me 4 and a 7 then 47 then 44777","numbers-2":"88 little dogs 3 big cows 33 more likes 83 is greater 38 is not 88 cars 3 shoes 33 bags now 88 sounds good 33 not so good 3 is a little less 8 is more than that 333 and 888 now 338 and 883","numbers-3":"29 bat 92 boats 99 cents with 22 more 2 short plants and 92 stones 2 white cars travel 9 hundred miles 29 times to the zoo 2 is a number and 9 is too but 2 is the smaller one you must know","numbers-4":"1 is the only one 0 is none 11 is more and 10 is less 100 is a lot but 1000 is even more learn the numbers and you should know more 1010101 type the key 1 and next type the key 0","numbers-5":"5 cute dolphins, 6 big whales, and 55 balloons are floating in the air. 56 reversed is 65 but 56 is smaller than 65. Five pounds of sand in 6 little jars. 5 is my favorite number and 6 is yours.","numbers-6":"15cars 6bears 4ducks 9chairs 1bus 20trees 9cents 3boats 7trains 18homes 23bikes 76planes 63vans 2men","symbols-0":"2*2 is 4 & 4! is 24 & 2^3 is 8. $dollar @at gmail (open)close percent%","symbols-1":"some` symbols~ are` kind~ of` difficult~ to master`","symbols-2":'we don\'t always use "special symbols" in normal text',"symbols-3":"minus- and equal= symbols are- typed with= the -same- finger=","symbols-4":"_ and + are _more_ examples +of+ symbols_ on +the keyboard+","symbols-5":"open[ and closed] square[] brackets are [symbols] used ]in[ coding","symbols-6":"open{ and closed} curly{} brackets are {also} used frequently {in} coding","symbols-7":"some|more|examples \\of\\symbols\\ are the |pipe| and \\back\\slash symbols","symbols-8":"there are <two> more symbols >to< learn. The less<than and greater>than signs.","symbols-all-1":'{it} is -equally+ [important] to \\learn\\ "how" to\' type _all_ the symbols+ =on _your` keyboard~',"symbols-all-2":"\\Typing` {symbols~ can\" 'be] =tricky_ [so+ \\keep- =practicing| =until~ 'you{ }fully[ 'master~ \\it\\","symbols-all-3":"_at_ this+point- you\\ should- be' able| to type~ all\" the{ letters] and symbols{ on} [your] |keyboard\\"};t.CONTENT=r;t.FINGER_LABELS=["left-index-finger","right-index-finger","left-middle-finger","right-middle-finger","left-ring-finger","right-ring-finger","left-pinky-finger","right-pinky-finger"];t.NEW_KEY_LABELS=["keys","review","practice","travel","new-key-title","new-key-body","new-key-move-finger-back","new-key-good-job","new-key-practice","new-key-take-time"];t.NEW_KEY_EXTRA=["keys","review","practice","key1-and-key2"],window.PROGRAM_CONTENT={}},70239:(e,t,n)=>{n(82526),n(41817),n(32165),n(92222),n(43290),n(57327),n(91038),n(82772),n(66992),n(69600),n(21249),n(47042),n(40561),n(68309),n(47941),n(41539),n(74916),n(39714),n(78783),n(23123),n(73210),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.get_available_sections=function(e,t){if(!e)return p;if(!t)return Object.keys(e).filter((function(t){return 0==e[t].length}));var n={};for(var r in e)if(r!=t){var o=e[r].slice();o.indexOf(t)>=0&&o.splice(o.indexOf(t),1),n[r]=o}return n},t.get_section_templates=function(e){var t,n,r,i,u,p,f,d,m,y,h,g,v,b,_,w,k,x,j,S,O,E,P,R,N,C,M,T,A,z,I,L,D,U,q,Y,B=function(){switch(e.type){case"home-row":var s=c(e.keys,10);return n=s[0],r=s[1],i=s[2],u=s[3],p=s[4],f=s[5],d=s[6],m=s[7],y=s[8],h=s[9],{v:[{name:"Home Row",lesson_type:"header",meta:{section:e.type}},{name:"Introduction to Typing",lesson_type:"video",video_uri:"/videos/196638853",icon:"e-cmn cmn-intro"},{name:o.map_content("keys")+" "+u+" & "+d,icon:"e-qwerty qwerty-"+u+d,meta:{type:"keys",keys:[u,d],fingers:[o.map_content("left-index-finger"),o.map_content("right-index-finger")],pattern:"00001111000011110011001101011010"}},{name:"Space Bar",icon:"e-qwerty qwerty-"+u+d,meta:{type:"space",keys:[u,d],pattern:"0 0 1 1 00 00 11 11 01 10 00 11"}},{name:o.map_content("review")+": "+u+" & "+d,icon:"e-qwerty qwerty-R-"+u+d,meta:{type:"review",keys:[u,d],size:84}},{name:o.map_content("keys")+" "+i+" & "+m,icon:"e-qwerty qwerty-R-"+i+m,meta:{type:"keys",keys:[i,m],fingers:[o.map_content("left-middle-finger"),o.map_content("right-middle-finger")],pattern:"00001111000011110011001101011010"}},{name:o.map_content("review")+": "+i+" & "+m,icon:"e-qwerty qwerty-"+i+m,meta:{type:"review",keys:[i,m],size:78}},{name:o.map_content("practice")+": "+i+" & "+m,meta:{type:"practice",size:118}},{name:"Play: "+u+d+m+i,meta:{type:"game1",size:40}},{name:o.map_content("keys")+" "+r+" & "+y,icon:"e-qwerty qwerty-"+r+y,meta:{type:"keys",keys:[r,y],fingers:[o.map_content("left-ring-finger"),o.map_content("right-ring-finger")],pattern:"00001111000011110011001101011010"}},{name:o.map_content("review")+": "+r+" & "+y,icon:"e-qwerty qwerty-R-"+r+y,meta:{type:"review",keys:[r,y],size:82}},{name:o.map_content("practice")+": "+r+" & "+y,meta:{type:"practice",size:83}},{name:o.map_content("keys")+" "+n+" & "+h,icon:"e-qwerty qwerty-"+n,meta:{type:"keys",keys:[n,h],fingers:[o.map_content("left-pinky-finger"),o.map_content("right-pinky-finger")],pattern:"00001111000011110011001101011010"}},{name:o.map_content("review")+": "+n+" & "+h,icon:"e-qwerty qwerty-R-"+n,meta:{type:"review",keys:[n,h],size:72}},{name:"First 8 Keys",meta:{type:"practice",size:101}},{name:"Play: First 8 Keys",score:3e3,meta:{type:"game1",size:60}},{name:"Home, Sweet Home!",lesson_type:"video",video_uri:"/videos/162132766",icon:"e-cmn cmn-home2"},{name:"Home Row: L Hand",icon:"e-cmn cmn-Hand-l2",score:3e3,meta:{type:"practice",engine:"right-anchor",size:78,needed:n+r+i+u}},{name:"Home Row: R Hand",icon:"e-cmn cmn-Hand-r2",score:3e3,meta:{type:"practice",engine:"left-anchor",size:116,needed:d+m+y+h}},{name:o.map_content("keys")+" "+p+" & "+f,icon:"e-qwerty qwerty-"+p+f,meta:{type:"keys",keys:[p,f],fingers:[o.map_content("left-index-finger"),o.map_content("right-index-finger")],finger_instruction:["",o.map_content("new-key-move-finger-back")],pattern:"00001111000011110011001101011010"}},{name:o.map_content("review")+": "+p+" & "+f,icon:"e-qwerty qwerty-R-"+p+f,meta:{type:"review",keys:[p,f,u,d],pattern:"02 002 02 002 13 113 13 113 0202 1313 0002 1113 2013 202 313 20202 31313 002 113 0011 0101 0123 002 113",size:104}},{name:o.map_content("practice")+": "+p+" & "+f,meta:{type:"practice",size:78}},{name:"Home Row Review",score:3e3,meta:{type:"practice",size:102}},{name:"Play Home Row",meta:{type:"game3",size:56}}]};case"top-row":var B=c(e.keys,10);return g=B[0],v=B[1],b=B[2],_=B[3],w=B[4],k=B[5],x=B[6],j=B[7],S=B[8],O=B[9],{v:[{name:"Top Row",lesson_type:"header",meta:{section:e.type}},{name:o.map_content("keys")+" "+_+" & "+x,icon:"e-qwerty qwerty-"+_+x,meta:{type:"keys",keys:[_,x],fingers:[o.map_content("left-index-finger"),o.map_content("right-index-finger")],finger_instruction:["",o.map_content("new-key-move-finger-back")],pattern:"0001101111011001011000010111011"}},{name:o.map_content("review")+": "+_+" & "+x,icon:"e-qwerty qwerty-R-"+_+x,meta:{type:"review",keys:[_,x,e.home_keys[3],e.home_keys[6]],pattern:"02 002 02 002 13 113 13 113 0202 1313 0002 1113 2013 202 313 20202 31313 002 113 0011 0101 0123 002 113",size:104}},{name:o.map_content("practice")+": "+_+" & "+x,meta:{type:"practice",size:95,focus:_+x}},{name:o.map_content("keys")+" "+b+" & "+j,icon:"e-qwerty qwerty-"+b+j,meta:{type:"keys",keys:[b,j],fingers:[o.map_content("left-middle-finger"),o.map_content("right-middle-finger")],pattern:"01110000110100110101110011010100"}},{name:o.map_content("review")+": "+b+" & "+j,icon:"e-qwerty qwerty-R-"+b+j,meta:{type:"review",keys:[b,j,e.home_keys[2],e.home_keys[7]],pattern:"02 002 02 002 13 113 13 113 0202 1313 0002 1113 2013 202 313 20202 31313 002 113 0011 0101 0123 002 113",size:104}},{name:o.map_content("practice")+": "+b+" & "+j,meta:{type:"practice",size:142,focus:b+j}},{name:"Sit Straight, Be Healthy!",lesson_type:"video",video_uri:"/videos/162132769",icon:"e-cmn cmn-sit-straight2"},{name:"Review: Home + ruei",meta:{type:"practice",size:156}},{name:"Top Row: L Hand",icon:"e-cmn cmn-Hand-l2",score:3e3,meta:{type:"practice",engine:"right-anchor",size:121,needed:e.learned.left.join("")+b+_}},{name:"Top Row: R Hand",icon:"e-cmn cmn-Hand-r2",score:3e3,meta:{type:"practice",engine:"left-anchor",size:96,needed:e.learned.right.join("")+x+j}},{name:"Play: ruei",meta:{type:"game2",size:169}},{name:o.map_content("keys")+" "+v+" & "+S,icon:"e-qwerty qwerty-"+v+S,meta:{type:"keys",keys:[v,S],fingers:[o.map_content("left-ring-finger"),o.map_content("right-ring-finger")],pattern:"00110011001110011000110010110001"}},{name:o.map_content("review")+": "+v+" & "+S,icon:"e-qwerty qwerty-R-"+v+S,meta:{type:"review",keys:[v,S,e.home_keys[1],e.home_keys[8]],pattern:"02 002 02 002 13 113 13 113 0202 1313 0002 1113 2013 202 313 20202 31313 002 113 0011 0101 0123 002 113",size:104}},{name:o.map_content("practice")+": "+v+" & "+S,meta:{type:"practice",size:132,focus:v+S}},{name:"Play: Top 6 Keys",meta:{type:"game1",size:53}},{name:o.map_content("keys")+" "+g+" & "+k,icon:"e-qwerty qwerty-"+g+k,meta:{type:"keys",keys:[g,k],fingers:[o.map_content("left-pinky-finger"),o.map_content("right-index-finger")],pattern:"01101110100011101011011100011010"}},{name:o.map_content("review")+": "+g+" & "+k,icon:"e-qwerty qwerty-R-"+g+k,meta:{type:"review",keys:[g,k,e.home_keys[0],e.home_keys[5]],pattern:"02 002 02 002 13 113 13 113 0202 1313 0002 1113 2013 202 313 20202 31313 002 113 0011 0101 0123 002 113",size:104}},{name:o.map_content("practice")+": "+g+" & "+k,meta:{type:"practice",size:131,focus:g+k}},{name:o.map_content("keys")+" "+O+" & "+w,icon:"e-qwerty qwerty-"+w+O,meta:{type:"keys",keys:[w,O],fingers:[o.map_content("left-index-finger"),o.map_content("right-pinky-finger")],pattern:"11010100110001011010111010010110"}},{name:o.map_content("review")+": "+O+" & "+w,icon:"e-qwerty qwerty-R-"+w+O,meta:{type:"review",keys:[w,O,e.home_keys[4],e.home_keys[9]],pattern:"02 002 02 002 13 113 13 113 0202 1313 0002 1113 2013 202 313 20202 31313 002 113 0011 0101 0123 002 113",size:104}},{name:o.map_content("practice")+": "+O+" & "+w,meta:{type:"practice",size:127,focus:O+w}},{name:"Play: Top Row",meta:{type:"game1",size:60}},{name:"Think Ideas, Not Fingers!",lesson_type:"video",video_uri:"/videos/162132763",icon:"e-cmn cmn-think-ideas2"},{name:"Review: Home + Top",meta:{type:"practice",size:142}},{name:"Top Row: L Hand",icon:"e-cmn cmn-Hand-l2",score:3e3,meta:{type:"practice",engine:"right-anchor",size:133,needed:e.learned.left.join("")+g+v+b+_+w}},{name:"Top Row: R Hand",icon:"e-cmn cmn-Hand-r2",score:3e3,meta:{type:"practice",engine:"left-anchor",size:105,needed:e.learned.right.join("")+k+x+j+S+O}},{name:"Play: Top Row",score:3e3,meta:{type:"game3",size:42,needed:e.keys}},{name:"Play: Top Row",meta:{type:"game2",size:144}}]};case"bottom-row":var H=c(e.keys,10);return E=H[0],P=H[1],R=H[2],N=H[3],C=H[4],M=H[5],T=H[6],A=H[7],z=H[8],I=H[9],{v:[{name:"Bottom Row",lesson_type:"header",meta:{section:e.type}},{name:o.map_content("keys")+" "+N+" & "+T,icon:"e-qwerty qwerty-"+N+T,meta:{type:"keys",keys:[N,T],fingers:[o.map_content("left-index-finger"),o.map_content("right-index-finger")],pattern:"1010010001111010101001010011100"}},{name:o.map_content("review")+": "+N+" & "+T,icon:"e-qwerty qwerty-R-"+N+T,score:2500,meta:{type:"review",keys:[N,T,e.home_keys[3],e.home_keys[6]],pattern:"02 002 02 002 13 113 13 113 0202 1313 0002 1113 2013 202 313 20202 31313 002 113 0011 0101 0123 002 113",size:104}},{name:o.map_content("practice")+": "+N+" & "+T,score:2500,meta:{type:"practice",size:103,focus:N+T}},{name:o.map_content("travel")+" R Index",score:2500,meta:{type:"travel",size:55,travel_index:[6],home_row:e.home_keys,top_row:e.top_keys,bottom_row:e.keys}},{name:o.map_content("travel")+" L Index",score:2500,meta:{type:"travel",size:55,travel_index:[3],home_row:e.home_keys,top_row:e.top_keys,bottom_row:e.keys}},{name:o.map_content("keys")+" "+R+" & "+A,icon:"e-qwerty qwerty-"+R,meta:{type:"keys",keys:[R,A],fingers:[o.map_content("left-middle-finger"),o.map_content("right-middle-finger")],pattern:"01010011010000101110101000101010"}},{name:o.map_content("review")+": "+R+" & "+A,icon:"e-qwerty qwerty-R-"+R,score:2500,meta:{type:"review",keys:[R,A,e.home_keys[2],e.home_keys[7]],pattern:"02 002 02 002 13 113 13 113 0202 1313 0002 1113 2013 202 313 20202 31313 002 113 0011 0101 0123 002 113",size:104}},{name:o.map_content("practice")+": "+R+" & "+A,score:2500,meta:{type:"practice",size:135,focus:R+A}},{name:o.map_content("travel")+" R Middle",score:2500,meta:{type:"travel",size:55,travel_index:[7],home_row:e.home_keys,top_row:e.top_keys,bottom_row:e.keys}},{name:o.map_content("travel")+" L Middle",score:2500,meta:{type:"travel",size:55,travel_index:[2],home_row:e.home_keys,top_row:e.top_keys,bottom_row:e.keys}},{name:"Play: "+N+T+R+A,score:2500,meta:{type:"game1",size:59,focus:[N,T,R,A]}},{name:"History of QWERTY",lesson_type:"video",video_uri:"/videos/154452279",icon:"e-cmn cmn-qwerty-history"},{name:o.map_content("keys")+" "+P+" & "+z,icon:"e-qwerty qwerty-"+P,meta:{type:"keys",keys:[P,z],fingers:[o.map_content("left-ring-finger"),o.map_content("right-ring-finger")],pattern:"01010011010000101110101000101010"}},{name:o.map_content("review")+": "+P+" & "+z,icon:"e-qwerty qwerty-R-"+P,score:2500,meta:{type:"review",keys:[P,z,e.home_keys[1],e.home_keys[8]],pattern:"02 002 02 002 13 113 13 113 0202 1313 0002 1113 2013 202 313 20202 31313 002 113 0011 0101 0123 002 113",size:104}},{name:o.map_content("practice")+": "+P+" & "+z,score:2500,meta:{type:"practice",size:133,focus:P+z}},{name:o.map_content("travel")+" R Ring",score:2500,meta:{type:"travel",size:55,travel_index:[8],home_row:e.home_keys,top_row:e.top_keys,bottom_row:e.keys}},{name:o.map_content("travel")+" L Ring",score:2500,meta:{type:"travel",size:55,travel_index:[1],home_row:e.home_keys,top_row:e.top_keys,bottom_row:e.keys}},{name:o.map_content("keys")+" "+E+" & "+I,icon:"e-dvorak dvorak-"+E,meta:{type:"keys",keys:[E,I],fingers:[o.map_content("left-pinky-finger"),o.map_content("right-pinky-finger")],pattern:"01010011010000101110101000101010"}},{name:o.map_content("review")+": "+E+" & "+I,icon:"e-qwerty qwerty-R-"+E,score:2500,meta:{type:"review",keys:[E,I,e.home_keys[0],e.home_keys[9]],pattern:"02 002 02 002 13 113 13 113 0202 1313 0002 1113 2013 202 313 20202 31313 002 113 0011 0101 0123 002 113",size:104}},{name:o.map_content("practice")+": "+E+" & "+I,score:2500,meta:{type:"practice",size:153,focus:E+I}},{name:o.map_content("travel")+" R Pinky",score:2500,meta:{type:"travel",size:55,travel_index:[9],home_row:e.home_keys,top_row:e.top_keys,bottom_row:e.keys}},{name:o.map_content("travel")+" L Pinky",score:2500,meta:{type:"travel",size:55,travel_index:[0],home_row:e.home_keys,top_row:e.top_keys,bottom_row:e.keys}},{name:"Play: Bottom Row",score:2500,meta:{type:"game1",size:44,needed:E+P+R+N+T+A+z+I}},{name:o.map_content("keys")+" "+C+" & "+M,icon:"e-qwerty qwerty-"+C+M,meta:{type:"keys",keys:[C,M],fingers:[o.map_content("left-index-finger"),o.map_content("right-index-finger")],pattern:"01010011000111011101101010101011"}},{name:o.map_content("review")+": "+C+" & "+M,icon:"e-qwerty qwerty-R-"+C+M,score:2500,meta:{type:"review",keys:[C,M,e.home_keys[4],e.home_keys[5]],pattern:"02 002 02 002 13 113 13 113 0202 1313 0002 1113 2013 202 313 20202 31313 002 113 0011 0101 0123 002 113",size:104}},{name:o.map_content("practice")+": "+C+" & "+M,score:2500,meta:{type:"practice",size:122,focus:C+M}},{name:"Take a Brek Get Active",lesson_type:"video",video_uri:"/videos/190581249",icon:"e-cmn cmn-take-break"},{name:"Bottom Row: L Hand",icon:"e-cmn cmn-Hand-l2",score:3e3,meta:{type:"practice",engine:"right-anchor",size:126,needed:e.learned.left.join("")+E+P+R+N+C}},{name:"Bottom Row: R Hand",icon:"e-cmn cmn-Hand-r2",score:3e3,meta:{type:"practice",engine:"left-anchor",size:131,needed:e.learned.right.join("")+M+T+A+z+I}},{name:"Practice Bottom Row",score:2500,meta:{type:"practice",text:o.map_content("great-work")}},{name:"Play: Bottom Row",score:2500,meta:{type:"game3",size:52,needed:e.keys}},{name:"Play: Bottom Row",score:2500,meta:{type:"game2",size:183}},{name:o.map_content("travel")+" R All",score:2500,meta:{type:"travel",size:63,travel_index:[5,6,7,8,9],home_row:e.home_keys,top_row:e.top_keys,bottom_row:e.keys}},{name:o.map_content("travel")+" L All",score:2500,meta:{type:"travel",size:63,travel_index:[0,1,2,3,4],home_row:e.home_keys,top_row:e.top_keys,bottom_row:e.keys}},{name:"One Small Space, One Giant Tab",lesson_type:"video",video_uri:"/videos/154451199",icon:"e-cmn cmn-space-tab3"},{name:"Practice: Tab",score:2500,meta:{type:"practice",text:o.map_content("white-space")}}]};case"basic-level-1":return{v:[{name:"Basic Level 1",lesson_type:"header",meta:{section:e.type}},{name:"Using Ten Fingers",icon:"e-cmn cmn-speed1",score:3e3,meta:{type:"practice",text:o.map_content("basic-1")}},{name:"Increase Speed",icon:"e-cmn cmn-speed1",score:3e3,meta:{type:"practice",text:o.map_content("basic-2")}},{name:"Practice",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:4,goal_wpm:11,meta:{type:"practice",text:o.map_content("basic-3")}},{name:"Don't Look Down",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:4,goal_wpm:11,meta:{type:"practice",text:o.map_content("basic-4")}},{name:"Practice R Hand",icon:"e-cmn cmn-Hand-r2",score:3e3,min_wpm:4,goal_wpm:11,meta:{type:"practice",size:46,engine:"left-anchor",needed:e.learned.right.join("")}},{name:"Play: Words",score:3e3,goal_wpm:11,meta:{type:"game2",from_prev:!0,size:73}},{name:"Staring at Screen",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:4,goal_wpm:12,meta:{type:"practice",text:o.map_content("basic-5")}},{name:"Take Breaks",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:4,goal_wpm:12,meta:{type:"practice",text:o.map_content("basic-6")}},{name:"Look Away",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:5,goal_wpm:13,meta:{type:"practice",text:o.map_content("basic-7")}},{name:"Active Breaks",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:5,goal_wpm:13,meta:{type:"practice",text:o.map_content("basic-8")}},{name:"Practice L Hand",icon:"e-cmn cmn-Hand-l2",score:3e3,min_wpm:5,goal_wpm:13,meta:{type:"practice",size:58,engine:"right-anchor",needed:e.learned.left.join("")}},{name:"Play: Numbers",score:3e3,goal_wpm:13,meta:{type:"game2",text:o.map_content("basic-9")}},{name:"Muscle Memory",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:6,goal_wpm:14,meta:{type:"practice",text:o.map_content("basic-10")}},{name:"Good Posture",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:6,goal_wpm:14,meta:{type:"practice",text:o.map_content("basic-11")}},{name:"Adjust Your Screen",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:7,goal_wpm:15,meta:{type:"practice",text:o.map_content("basic-12")}},{name:"Trust Yourself",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:7,goal_wpm:15,meta:{type:"practice",text:o.map_content("basic-13")}},{name:"Practice R Hand",icon:"e-cmn cmn-Hand-r2",score:3e3,min_wpm:7,goal_wpm:15,meta:{type:"practice",size:48,engine:"left-anchor",needed:e.learned.right.join("")}},{name:"Play: Words",score:3e3,goal_wpm:15,meta:{type:"game4",from_prev:!0,size:109}},{name:"Brain Power",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:8,goal_wpm:16,meta:{type:"practice",text:o.map_content("basic-14")}},{name:"Repeat Lessons",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:8,goal_wpm:16,meta:{type:"practice",text:o.map_content("basic-15")}},{name:"Never Stop",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:9,goal_wpm:17,meta:{type:"practice",text:o.map_content("basic-16")}},{name:"No Peeking",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:9,goal_wpm:17,meta:{type:"practice",text:o.map_content("basic-17")}},{name:"Practice L Hand",icon:"e-cmn cmn-Hand-l2",score:3e3,min_wpm:9,goal_wpm:17,meta:{type:"practice",size:48,engine:"right-anchor",needed:e.learned.left.join("")}},{name:"Play: Words",score:3e3,goal_wpm:15,meta:{type:"game2",from_prev:!0,size:116}},{name:"Home Row",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:10,goal_wpm:18,meta:{type:"practice",text:o.map_content("basic-18")}},{name:"Moving Forward",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:10,goal_wpm:18,meta:{type:"practice",text:o.map_content("basic-19")}},{name:"Type Correctly",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:11,goal_wpm:19,meta:{type:"practice",text:o.map_content("basic-20")}},{name:"Train Your Muscles",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:11,goal_wpm:19,meta:{type:"practice",text:o.map_content("basic-21")}},{name:"Practice R Hand",icon:"e-cmn cmn-Hand-r2",score:3e3,min_wpm:11,goal_wpm:19,meta:{type:"practice",size:51,engine:"left-anchor",needed:e.learned.right.join("")}},{name:"Play: Words",score:3e3,goal_wpm:15,meta:{type:"game2",from_prev:!0,size:95}},{name:"Virtual Guide",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:12,goal_wpm:20,meta:{type:"practice",text:o.map_content("basic-22")}},{name:"Bumps on J & F",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:12,goal_wpm:20,meta:{type:"practice",text:o.map_content("basic-23")}},{name:"Become a Pro",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:13,goal_wpm:21,meta:{type:"practice",text:o.map_content("basic-24")}},{name:"The Shift Key",icon:"e-cmn cmn-speed1",score:3e3,min_wpm:13,goal_wpm:21,meta:{type:"practice",text:o.map_content("basic-25")}},{name:"Practice L Hand",icon:"e-cmn cmn-Hand-l2",score:3e3,min_wpm:13,goal_wpm:21,meta:{type:"practice",size:60,engine:"right-anchor",needed:e.learned.left.join("")}},{name:"Play: Words",score:3e3,goal_wpm:15,meta:{type:"game4",from_prev:!0,size:139}},{name:"Fastest Typist in the World!",lesson_type:"video",video_uri:"/videos/162132768",icon:"e-cmn cmn-fastest-typist4"}]};case"tricky-words":for(var F in t=[{name:"Tricky Words",lesson_type:"header"}],e.words){var K=e.words[F];!K.trim().length&&K.split(" ").length<2||t.push({name:K.split(" ").map((function(e){return(0,a.default)(e)})).join("/"),goal_wpm:e.goal_wpm,min_wpm:e.min_wpm,icon:"e-cmn cmn-"+e.icons[F],score:1500,meta:{type:"tricky",words:K}})}return{v:t};case"common-patterns":for(var W in t=[{name:"Common Patterns",lesson_type:"header"}],e.drums){var J=e.drums[W];t.push({name:J,goal_wpm:e.goal_wpm,min_wpm:e.min_wpm,icon:"e-cmn cmn-drum",score:1500,meta:{type:"drum",drum:J}})}return{v:t};case"shift-key":t=[{name:"Shift Key",lesson_type:"header",meta:{section:e.type}}];var G=[null,"game1",null,"game3",null,"game1",null,"game3",null,"game1","index","game1",null],$=function(t,n,r){var o,a;if("home"==t){var i=[e.home_row,e.shift_home_row];a=i[0],o=i[1]}if("top"==t){var s=[e.top_row,e.shift_top_row];a=s[0],o=s[1]}if("bottom"==t){var c=[e.bottom_row,e.shift_bottom_row];a=c[0],o=c[1]}return[o[n],o[r],a[n],a[r]].join("")},V=[$("home",3,6),$("home",2,7),$("home",1,8),$("home",0,9),$("home",4,5),$("top",4,5),$("top",3,6),$("top",2,7),$("top",1,8),$("top",0,9),$("bottom",3,6),$("bottom",2,7),$("bottom",1,8),$("bottom",0,9),$("bottom",4,5)],X="";for(var Z in V){var Q=V[Z];X+=Q[0]+Q[1],t.push({name:"Capital "+Q[0]+" & "+Q[1],icon:"e-qwerty qwerty-C-"+Q[0]+(Q[1].toLowerCase()!=Q[1]?Q[1]:""),score:1e3,meta:{type:"keys",keys:Q.split("")}}),t.push({name:o.map_content("review")+": "+Q[0]+" & "+Q[1],icon:"e-qwerty qwerty-R-caps",score:2e3,meta:{type:"shift-review",keys:Q.split("")}}),t.push({name:o.map_content("practice")+": "+Q[0]+" & "+Q[1],icon:"e-cmn cmn-practice",score:2500,meta:{type:"shift-practice",capitals:X,focus_caps:Q[0]+Q[1],size:165}}),"game1"==G[Z]||"game3"==G[Z]?t.push({name:"Play: ",score:2500,meta:{type:G[Z],size:60,use_prev:!0}}):"index"==G[Z]&&t.push({name:o.map_content("travel")+" Index",score:2e3,meta:{type:"travel",size:32,travel_index:[3,6],home_row:e.shift_home_row,top_row:e.shift_top_row,bottom_row:e.shift_bottom_row}})}return t.push({name:o.map_content("travel")+" Middle",score:2e3,meta:{type:"travel",size:32,travel_index:[2,7],home_row:e.shift_home_row,top_row:e.shift_top_row,bottom_row:e.shift_bottom_row,learned:e.shift_home_row+e.shift_top_row+e.shift_bottom_row[2]}}),t.push({name:o.map_content("travel")+" Ring",score:2e3,meta:{type:"travel",size:32,travel_index:[1,8],home_row:e.shift_home_row,top_row:e.shift_top_row,bottom_row:e.shift_bottom_row,learned:e.shift_home_row+e.shift_top_row+e.shift_bottom_row[1]}}),t.push({name:o.map_content("travel")+" Pinky",score:2e3,meta:{type:"travel",size:32,travel_index:[0,9],home_row:e.shift_home_row,top_row:e.shift_top_row,bottom_row:e.shift_bottom_row}}),t.push({name:"Play: ZXBN",score:2500,meta:{type:"game3",size:60,use_prev:!0}}),{v:t};case"basic-level-2":case"basic-level-3":var ee="basic-level-3"==e.type?1:0;t=[{name:"Basic Level "+(2+ee),lesson_type:"header",meta:{section:e.type}}];for(var te=11+10*ee,ne=21+10*ee,re=0;re<24;re++){var oe="Practice",ae={type:"practice",size:160};if(e.lessons[re]&&e.lessons[re].length){var ie=e.lessons[re].split("\n");oe=ie[0].trim(),ie.shift(),ae.text=ie.join("\n").trim()}if(t.push({name:oe,icon:"e-cmn cmn-speed2",score:3500,min_wpm:te+Math.round(.4*re),goal_wpm:ne+Math.round(.4*re),meta:ae}),(re+1)%4==0){U=ee?(re+1)%12==0?"game5":(re+1)%12==4?"game2":"game4":(re+1)%8==0?"game4":"game2",t.push({name:"Play: Words",goal_wpm:20,score:3500,icon:"e-cmn cmn-"+({game2:"G3"}[U]||U),meta:{type:U,size:100,use_prev:!0}})}}return{v:t};case"advanced-levels":var se=[[26,41,4500,"speed4"],[31,46,5e3,"speed5"],[36,51,5500,"speed7"],[41,56,6e3,"speed8"],[41,61,6500,"speed9"],[44,64,7e3,"speed10"],[47,67,7500,"speed11"],[50,70,8e3,"speed12"],[50,74,8500,"speed14"]],ce=e.level,ue=c(se[ce-1],4);te=ue[0],ne=ue[1],D=ue[2],L=ue[3];var le=se[ce];le||(le=[te,te+3]);var pe=le[0]-te,fe=le[1]-ne,de=ce>3?30:24;t=[{name:"Advanced Level "+ce,lesson_type:"header",meta:{advanced:ce}}];for(var me=0;me<de;me++){var ye="Practice",he={type:"practice",size:320};if(e.lessons[me]&&e.lessons[me].length){var ge=e.lessons[me].split("\n");ye=ge[0].trim(),ge.shift(),he.text=ge.join("\n").trim()}var ve=ne+Math.round(fe/de*me);t.push({name:ye,icon:"e-cmn cmn-"+("speed12"==L&&ve>71?"speed13":L),score:D,min_wpm:te+Math.round(pe/de*me),goal_wpm:ve,meta:he});U=null,ce<=3?(me+1)%4==0&&(U=(me+1)%12==0?"game5":(me+1)%12==4?"game2":"game4"):ce<=6&&(14==me?U="game4":29==me&&(U="game5")),U&&t.push({name:"Play: Words",goal_wpm:1==ce?25:2==ce?30:35,score:D,icon:"e-cmn cmn-"+({game2:"G3"}[U]||U),meta:{type:U,size:120,use_prev:!0}})}return{v:t};case"numbers":t=[{name:"Numbers",lesson_type:"header",meta:{section:e.type}}];for(var be=1,_e=[9,0,1,2,3,4,5,6,7,8],we=0,ke=[[4,7],[3,8],[2,9],[1,0],[5,6]];we<ke.length;we++){var xe=c(ke[we],2),je=xe[0],Se=xe[1];t.push({name:o.map_content("keys")+" "+o.map_content("key1-and-key2",{KEY1:je,KEY2:Se}),icon:"e-qwerty qwerty-numbers",meta:{type:"keys",keys:[je+"",Se+""],size:20}}),t.push({name:o.map_content("review")+": "+o.map_content("key1-and-key2",{KEY1:je,KEY2:Se}),icon:"e-qwerty qwerty-R-numbers",score:2e3,meta:{type:"numbered-review",indexes:[_e[je],_e[Se]],chars:[je+"",Se+""],home_row:e.home_keys,size:75}}),t.push({name:o.map_content("practice")+": "+o.map_content("key1-and-key2",{KEY1:je,KEY2:Se}),score:2500,min_wpm:15,goal_wpm:25,meta:{type:"practice",text:o.map_content("numbers-"+be)}}),be++}t.push({name:"Play: All Numbers",score:3e3,goal_wpm:10,meta:{type:"game1",text:Array(40).fill(0).map((function(e){return Math.floor(10*Math.random())})).join("")}});for(var Oe=0,Ee=[[4,5],[3,2],[1,5],[6,7],[8,9],[0,6]];Oe<Ee.length;Oe++){var Pe=c(Ee[Oe],2),Re=Pe[0],Ne=Pe[1];t.push({name:o.map_content("travel")+" "+Re+" and "+Ne,score:2e3,min_wpm:3,goal_wpm:10,meta:{type:"travel",travel_index:[_e[Re],_e[Ne]],travel_extra:[Re,Ne],home_row:e.home_keys,top_row:e.top_keys,bottom_row:e.bottom_keys,size:75}})}t.push({name:"Keys 1 to 5",icon:"e-cmn cmn-Hand-l2",score:3e3,goal_wpm:10,meta:{type:"practice",engine:"right-anchor",text:l(75,"12345")}}),t.push({name:"Keys 6 to 0",icon:"e-cmn cmn-Hand-r2",score:3e3,goal_wpm:10,meta:{type:"practice",engine:"left-anchor",text:l(75,"67890")}}),t.push({name:o.map_content("travel")+" Left",score:2e3,min_wpm:3,goal_wpm:10,meta:{type:"travel",travel_index:[0,1,2,3,4],travel_extra:[1,2,3,4,5],home_row:e.home_keys,top_row:e.top_keys,bottom_row:e.bottom_keys,size:75}}),t.push({name:o.map_content("travel")+" Right",score:2e3,min_wpm:3,goal_wpm:10,meta:{type:"travel",travel_index:[5,6,7,8,9],travel_extra:[6,7,8,9,0],home_row:e.home_keys,top_row:e.top_keys,bottom_row:e.bottom_keys,size:75}});var Ce=[e.home_keys,e.top_keys,e.bottom_keys].join("");return t.push({name:"Left Hand Numbers",icon:"e-cmn cmn-Hand-l2",score:3e3,goal_wpm:10,meta:{type:"practice",engine:"right-anchor",text:l(75,"12345",e.learned.left.filter((function(e){return Ce.indexOf(e)>=0})))}}),t.push({name:"Right Hand Numbers",icon:"e-cmn cmn-Hand-r2",score:3e3,goal_wpm:10,meta:{type:"practice",engine:"left-anchor",text:l(75,"67890",e.learned.right.filter((function(e){return Ce.indexOf(e)>=0})))}}),t.push({name:"Play: Numbers",score:3e3,min_wpm:1,goal_wpm:20,meta:{type:"game2",text:o.map_content("numbers-6")}}),{v:t};case"numbered-symbols":t=[{name:"Symbols",lesson_type:"header",meta:{section:e.type}}];for(var Me=0,Te=[[3,6],[2,7],[1,8],[0,9],[4,5]];Me<Te.length;Me++){var Ae=c(Te[Me],2),ze=Ae[0],Ie=Ae[1],Le=[e.symbols[ze],e.symbols[Ie]],De=Le[0],Ue=Le[1];t.push({name:o.map_content("keys")+" "+o.map_content("key1-and-key2",{KEY1:De,KEY2:Ue}),icon:"e-cmn cmn-symbols",meta:{type:"keys",keys:[De,Ue],size:20}}),t.push({name:o.map_content("review")+": "+o.map_content("key1-and-key2",{KEY1:De,KEY2:Ue}),icon:"e-qwerty qwerty-r-symbols",score:2e3,meta:{type:"numbered-review",indexes:[ze,Ie],chars:[De,Ue],home_row:e.home_keys,size:75}}),t.push({name:o.map_content("practice")+": "+o.map_content("key1-and-key2",{KEY1:De,KEY2:Ue}),score:2500,min_wpm:15,goal_wpm:25,meta:{type:"symbol-practice",chars:[De,Ue]}})}t.push({name:"Play: All Symbols",score:3e3,goal_wpm:10,meta:{type:"game1",text:Array(40).fill(0).map((function(t){return e.symbols[Math.floor(10*Math.random())]})).join("")}});for(var qe=0,Ye=[3,2,1,0,4,6,7,8,9,5];qe<Ye.length;qe++){var Be=Ye[qe],He=e.symbols[Be];t.push({name:o.map_content("travel")+" "+He,score:2e3,min_wpm:3,goal_wpm:10,meta:{type:"travel",travel_index:[Be],travel_extra:[He],learned:e.learned.left.concat(e.learned.right),home_row:e.shift_home_keys,top_row:e.shift_top_keys,bottom_row:e.shift_bottom_keys,size:60}})}return t.push({name:o.map_content("travel")+" Left",score:2e3,min_wpm:3,goal_wpm:10,meta:{type:"travel",travel_index:[0,1,2,3,4],travel_extra:e.symbols.substring(0,5),learned:e.learned.left.concat(e.learned.right),home_row:e.shift_home_keys,top_row:e.shift_top_keys,bottom_row:e.shift_bottom_keys,size:75}}),t.push({name:o.map_content("travel")+" Right",score:2e3,min_wpm:3,goal_wpm:10,meta:{type:"travel",travel_index:[5,6,7,8,9],travel_extra:e.symbols.substring(5,10),learned:e.learned.left.concat(e.learned.right),home_row:e.shift_home_keys,top_row:e.shift_top_keys,bottom_row:e.shift_bottom_keys,size:75}}),t.push({name:"Review: Symbols",icon:"e-qwerty qwerty-r-symbols",score:2e3,min_wpm:3,goal_wpm:10,meta:{type:"practice",text:l(60,e.symbols,e.home_keys+e.top_keys+e.bottom_keys)}}),t.push({name:"Practice: Symbols",score:3e3,min_wpm:10,goal_wpm:20,meta:{type:"practice",text:o.map_content("symbols-0")}}),{v:t};case"other-symbols":t=[{name:"More Symbols",lesson_type:"header"}];for(var Fe=e.home_keys+e.top_keys+e.bottom_keys,Ke=function(n){var r=[e.symbols[n],e.symbols[n+1]],a=r[0],i=r[1];t.push({name:o.map_content("keys")+" "+o.map_content("key1-and-key2",{KEY1:a,KEY2:i}),icon:"e-cmn cmn-symbols2",meta:{type:"keys",keys:[a,i],size:20}}),t.push({name:o.map_content("review")+": "+o.map_content("key1-and-key2",{KEY1:a,KEY2:i}),icon:"e-qwerty qwerty-R-symbols2",score:2e3,min_wpm:3,goal_wpm:10,meta:{type:"practice",text:Array(6).fill("").map((function(e){return t=a,n=i,((r=Math.random()<5)?t:n)+Fe[Math.floor(Math.random()*Fe.length)]+(r?n:t)+Fe[Math.floor(Math.random()*Fe.length)];var t,n,r})).join(" ")}}),t.push({name:o.map_content("practice")+": "+o.map_content("key1-and-key2",{KEY1:a,KEY2:i}),score:2500,min_wpm:10,goal_wpm:20,meta:{type:"practice",text:o.map_content("symbols-"+(Math.floor(n/2)+1))}})},We=0;We<e.symbols.length;We+=2)Ke(We);t.push({name:"Play: Symbols",score:2e3,goal_wpm:10,meta:{type:"game1",text:Array(40).fill(0).map((function(t){return e.symbols[Math.floor(16*Math.random())]})).join("")}}),t.push({name:"Review: no shift",icon:"e-qwerty qwerty-R-symbols3",score:2500,min_wpm:5,goal_wpm:15,meta:{type:"practice",text:l(46,e.symbols.split("").filter((function(t){return e.shift_symbols.indexOf(t)<0})))}}),t.push({name:"Review: with shift",icon:"e-qwerty qwerty-R-symbols2",score:2500,min_wpm:5,goal_wpm:15,meta:{type:"practice",text:l(46,e.symbols.split("").filter((function(t){return e.shift_symbols.indexOf(t)>=0})))}});for(var Je=0,Ge=[1,2,3];Je<Ge.length;Je++){var $e=Ge[Je];t.push({name:"Practice: Symbols "+$e,score:3e3,min_wpm:5,goal_wpm:15,meta:{type:"practice",text:o.map_content("symbols-all-"+$e)}})}return{v:t};case"new-key-pair":var Ve=c(e.keys,2);return q=Ve[0],Y=Ve[1],{v:[{name:o.map_content("keys")+" "+q+" & "+Y,icon:"e-qwerty qwerty-"+q+Y,meta:{type:"keys",keys:[q,Y],fingers:e.fingers,size:32}},{name:o.map_content("review")+": "+q+" & "+Y,icon:"e-qwerty qwerty-R-"+q+Y,score:2e3,meta:{type:"review",keys:[q,Y],size:81}},{name:o.map_content("practice")+": "+q+" & "+Y,score:2500,meta:{type:"practice",size:125,focus:q+Y}}]}}}();if("object"===s(B))return B.v};var r,o=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(62724)),a=(r=n(48403))&&r.__esModule?r:{default:r};function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r="";r.length<e;){r.length&&(r+=" ");var o=Math.floor(2*Math.random()+.5)+3;r+=Array(o).fill(0).map((function(){var e=n.length&&Math.random()>.5?n:t;return e[Math.floor(Math.random()*e.length)]})).join("")}return r},p={"home-row":[],"top-row":["home-row"],"bottom-row":["top-row"],"basic-level-1":["bottom-row"],"tricky-words":["bottom-row"],"common-patterns":["bottom-row"],"shift-key":["bottom-row"],numbers:["bottom-row"],"numbered-symbols":["shift-key","numbers"],"more-symbols":["numbered-symbols"],"basic-level-2":["basic-level-1","shift-key"],"basic-level-3":["basic-level-2","shift-key","numbers"],"advanced-levels":["basic-level-3","numbered-symbols"]}},94871:(e,t,n)=>{n(82526),n(41817),n(32165),n(91038),n(66992),n(47042),n(68309),n(41539),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.validStatsSchema=function(e,t){switch(e){case"typing.classic_typing_app":case"typing.videotyping_app":case"typing.boxed_typing":case"typing.games.BalloonValley":case"typing.games.MonsterAttack":case"typing.games.TempleBash":case"typing.games.FloatingBubbles":case"typing.games.AppleThieves":case"student.placementtest_app":if(m("typing",t),!t.history)throw new p({history:"missing"});break;case"student.videoplayer":if(m("video",t),!t.watch_log)throw new p({watch_log:"missing"});break;case"spelling.cards":case"spelling.spellit":case"spelling.crossword":case"spelling.fillblank":case"spelling.multichoice":case"spelling.shuffle":case"spelling.dictation":case"spelling.dropquiz":case"spelling.story":case"spelling.proofreading":case"reading":case"spelling.quiz":case"decisionmaking":break;default:(0,i.default)(!1,"unknown app in stats schema validation")}};var r=c(n(65096)),o=c(n(98482)),a=c(n(97694)),i=c(n(48583)),s=n(52055);function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){s=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(s)throw a}}}}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e){var t=new Error("invalid");return t.errors=e,t}function f(e){return new Error("invalid schema: ".concat(e))}var d=new r.default;function m(e,t){return!!d.validate(e,t)||((0,s.withScope)((function(n){var r,o=0,a=u(d.errors);try{for(a.s();!(r=a.n()).done;){var i=r.value;n.setExtra("ajv error "+ ++o,i)}}catch(e){a.e(e)}finally{a.f()}n.setExtra("stats",t);try{throw new f(e)}catch(e){(0,s.captureException)(e)}})),!1)}d.addSchema(o.default,"typing").addSchema(a.default,"video")},55382:(e,t,n)=>{n(82526),n(41817),n(32165),n(66992),n(30489),n(41539),n(12419),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o,a){return r.default.createElement(i.default,{header:!1,darkBody:!0},r.default.createElement(m,{title:e,header:t,body:n,button_caption:o,button_callback:a}))};var r=s(n(67294)),o=s(n(94081)),a=s(n(19392)),i=s(n(68215));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(c,e);var t,n,i,s=p(c);function c(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),s.call(this,e)}return t=c,(n=[{key:"render",value:function(){var e=this.props;return r.default.createElement("div",null,r.default.createElement(a.default,{name:"",profile:profile}),r.default.createElement(o.default,{width:550},r.default.createElement("h6",null,e.title),r.default.createElement("h1",null,e.header),r.default.createElement("p",null,e.body),r.default.createElement("a",{onClick:e.button_callback,className:"btn btn-primary btn-large"},e.button_caption)))}}])&&u(t.prototype,n),i&&u(t,i),c}(r.default.Component)},93951:(e,t,n)=>{n(82526),n(41817),n(32165),n(92222),n(57327),n(66992),n(21249),n(47042),n(68309),n(19601),n(43371),n(30489),n(47941),n(41539),n(12419),n(74916),n(39714),n(78783),n(64765),n(23123),n(73210),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.login_app=K,t.signup_app=W,t.school_login_app=ie,t.school_signup_app=se,t.listInOauthOptions=t.TPLoginSignup=void 0;var r,o,a=n(72300),i=v(n(31349)),s=v(n(68215)),c=v(n(67294)),u=v(n(45697)),l=v(n(9479)),p=n(53896),f=v(n(75933)),d=g(n(92119)),m=n(42212),y=g(n(98912));v(n(36808));function h(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return h=function(){return e},e}function g(e){if(e&&e.__esModule)return e;if(null===e||"object"!==b(e)&&"function"!=typeof e)return{default:e};var t=h();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function v(e){return e&&e.__esModule?e:{default:e}}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){var e=S(["\n            font-size: 20px;\n            font-weight: 600;\n            margin-bottom: 10px;\n          "]);return _=function(){return e},e}function w(){var e=S(["\n          padding: 20px 30px 25px 30px;\n        "]);return w=function(){return e},e}function k(){var e=S(["\n          background-color: #6583a8;\n          height: 5px;\n          border-radius: 3px 3px 0 0;\n        "]);return k=function(){return e},e}function x(){var e=S(["\n          position: absolute;\n          width: 16px;\n          height: 16px;\n          transform: scaleX(0.9) rotate(45deg);\n          background-color: #3d526b;\n          top: 93px;\n          left: -8px;\n        "]);return x=function(){return e},e}function j(){var e=S(["\n        position: absolute;\n        background-color: #3d526b;\n        border-radius: 5px;\n        width: 340px;\n        font-family: 'Roboto', sans-serif;\n        font-size: 16px;\n        font-weight: 400;\n        line-height: 20px;\n        color: #fff;\n        z-index: 600;\n        top: -45px;\n        right: -360px;\n      "]);return j=function(){return e},e}function S(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t,n){return t&&P(e.prototype,t),n&&P(e,n),e}function N(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=z(e);if(t){var o=z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return T(this,n)}}function T(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var I=(0,p.withTranslation)(["common"])(r=function(e){N(n,e);var t=M(n);function n(e){var r;return E(this,n),(r=t.call(this,e)).state={},i.default.getSchoolAccount("www",(function(e){return r.setState({oauths:e.oauths})})),f.default.load({google:{families:["Indie+Flower","Roboto:100,300,400,700"]}}),r}return R(n,[{key:"showAccountSelection",value:function(e){this.setState({credentials:e})}},{key:"render",value:function(){var e,t,n=this,r=this.props,o=r.t,i=r.is_signup,s=this.state,c=s.oauths,u=s.credentials,l=s.loading;t=i?(0,a.jsx)("p",null,o("You are about to sign up for TypingClub's Individual Edition. If you are an instructor and wish to create a school account"),", ",(0,a.jsx)("a",{href:"https://s.typingclub.com/schools/signup.html"},o("use this form instead."))):window.cordova?(0,a.jsx)("div",null," "):(0,a.jsx)("p",{role:"heading"},o("For school accounts, please go to your school login page.")," ",(0,a.jsx)("a",{href:"https://s.typingclub.com/find-school-code.html"},o("Use this form to look up your school code.")));var p=function(e){return n.setState({loading:e})};return e=u?(0,a.jsx)(U,{t:o,credentials:u}):this.state.forgotPassword?(0,a.jsx)(D,{t:o,goBack:function(){return n.setState({forgotPassword:!1})}}):this.state.classSignupCode?(0,a.jsx)(L,{t:o,goBack:function(){return n.setState({classSignupCode:!1})}}):c?(0,a.jsx)("div",{className:"container"},(0,a.jsx)("div",{className:"row"},(0,a.jsx)("div",{className:"col-lg-4 col-lg-offset-1 col-md-4 col-sm-4 ed-log-in-logo"},(0,a.jsx)("a",{tabIndex:"-1",href:"https://www.typingclub.com"},(0,a.jsx)("img",{src:"//static.typingclub.com/m/corp2/img/typingclub_logo.png"})),(0,a.jsx)("div",{className:"ed-tpc-logo"},(0,a.jsx)("a",{tabIndex:"-1",href:"https://www.typingclub.com"},"Individual Edition")),t),(0,a.jsx)("div",{className:"col-lg-5 col-lg-offset-1 col-md-6 col-md-offset-1 col-sm-7 col-sm-offset-1"},l?(0,a.jsx)("div",{className:"ed-sign",style:{position:"relative"}},(0,a.jsx)("h3",{style:{textAlign:"center",padding:"100px 0 250px"}},"Checking profile..."),(0,a.jsx)("div",{className:"boxLoading boxLoading-dark"}),(0,a.jsx)("a",{onClick:function(){return p(!1)}},"« ",o("Back to "+(i?"Sign Up":"Log-in")+" Page"))):i?(0,a.jsx)(H,{t:o,handler:this,oauths:c,toggleLoading:p,classSignupCode:function(){return n.setState({classSignupCode:!0})}}):(0,a.jsx)(B,{t:o,handler:this,oauths:c,toggleLoading:p,forgotPassword:function(){return n.setState({forgotPassword:!0})}}),!l&&(0,a.jsx)("div",{className:"ed-account"},i?(0,a.jsx)("div",null,o("Already have an account?")," ",(0,a.jsx)("a",{onClick:approuter.login_page},o("Log-in"))):(0,a.jsx)("div",null,o("Don't have an account?")," ",(0,a.jsx)("a",{id:"signup-link",onClick:approuter.signup_page},o("Sign up"))))))):(0,a.jsx)("div",{className:"boxLoading"}),(0,a.jsx)("div",null,(0,a.jsx)("div",{className:"ed-log-in-container"},e),(0,a.jsx)("div",{className:"ed-footer-nav container"},(0,a.jsx)("a",{href:"https://www.typingclub.com"},"TypingClub"),(0,a.jsx)("a",{href:"https://www.typingclub.com/privacy.html"},o("Privacy Policy")),(0,a.jsx)("a",{href:"https://www.typingclub.com/terms.html"},o("Terms of Service"))))}}]),n}(c.default.Component))||r;t.TPLoginSignup=I;var L=function(e){N(n,e);var t=M(n);function n(){var e;E(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return O(A(e=t.call.apply(t,[this].concat(o))),"state",{}),e}return R(n,[{key:"componentDidMount",value:function(){this.refs.classCode.focus()}},{key:"checkClassCode",value:function(e){var t=this;this.setState({error:null}),e&&i.default.checkClassCode("",e,(function(n){n?window.location="".concat("https://s.typingclub.com","/signup/").concat(e):t.setState({error:"This code is incorrect. Ask your teacher for the correct class code."})}))}},{key:"render",value:function(){var e=this,t=this.props.t,n=this.state.error;return(0,a.jsx)("div",{className:"container"},(0,a.jsx)("div",{className:"row"},(0,a.jsx)("div",{className:"col-lg-4 col-lg-offset-1 col-md-4 col-sm-4 ed-log-in-logo"},(0,a.jsx)("a",{href:"https://www.typingclub.com"},(0,a.jsx)("img",{src:"//static.typingclub.com/m/corp2/img/typingclub_logo.png"})),(0,a.jsx)("div",{className:"ed-tpc-logo"},(0,a.jsx)("a",{href:"https://www.typingclub.com"},"Individual Edition")),(0,a.jsx)("p",{style:{textAlign:"center"}},t("Use this page to sign up with a class code."))),(0,a.jsx)("div",{className:"col-lg-5 col-lg-offset-1 col-md-6 col-md-offset-1 col-sm-7 col-sm-offset-1"},(0,a.jsx)("div",{className:"ed-sign"},(0,a.jsx)("p",null,t("Enter your class code here:")),(0,a.jsx)("div",{className:"form-group"},(0,a.jsx)("input",{ref:"classCode",className:"inpt ed-input-log-in",placeholder:"Your class code",onKeyPress:function(t){return 13===t.charCode&&e.checkClassCode(e.refs.classCode.value)}})),(0,a.jsx)("div",{className:"errorlist",role:"alert"},n&&(0,a.jsx)("div",{id:"error-container",className:"error"},n)),(0,a.jsx)("button",{className:"btn log-in-with",style:{textAlign:"center"},onClick:function(){return e.checkClassCode(e.refs.classCode.value)}},t("Sign Up")),(0,a.jsx)("br",null),(0,a.jsx)("br",null),(0,a.jsx)("a",{onClick:this.props.goBack},"« ",t("Back to Sign Up Page"))))))}}]),n}(c.default.Component),D=function(e){N(n,e);var t=M(n);function n(){var e;E(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return O(A(e=t.call.apply(t,[this].concat(o))),"state",{}),e}return R(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.t,r=t.goBack,o=this.state,s=o.email_sent,c=o.email_not_found;return(0,a.jsx)("div",{className:"container"},(0,a.jsx)("div",{className:"row"},(0,a.jsx)("div",{className:"col-lg-4 col-lg-offset-1 col-md-4 col-sm-4 ed-log-in-logo"},(0,a.jsx)("a",{href:"https://www.typingclub.com"},(0,a.jsx)("img",{src:"//static.typingclub.com/m/corp2/img/typingclub_logo.png"})),(0,a.jsx)("div",{className:"ed-tpc-logo"},(0,a.jsx)("a",{href:"https://www.typingclub.com"},"Individual Edition")),(0,a.jsx)("p",{style:{textAlign:"center"}},n("Use this page to reset your password."))),(0,a.jsx)("div",{className:"col-lg-5 col-lg-offset-1 col-md-6 col-md-offset-1 col-sm-7 col-sm-offset-1"},(0,a.jsx)("div",{className:"ed-sign"},s?(0,a.jsx)("div",null,(0,a.jsx)("b",{style:{fontSize:18}},n("Email Sent"),"!"),(0,a.jsx)("br",null),(0,a.jsx)("br",null),(0,a.jsx)("p",null,n("Please check your email for further instructions to reset your password."))):(0,a.jsx)("div",null,(0,a.jsx)("div",{className:"errorlist",role:"alert"},c&&(0,a.jsx)("div",{id:"error-container",className:"error"},(0,a.jsx)("p",null,n("The email address ({{email}}) did not match any records. Please make sure that it is typed correctly.",{email:this.state.email}),"If you believe that this is an error please"," ",(0,a.jsx)("em",null,(0,a.jsx)("a",{href:"mailto:support@typingclub.com"},"contact support."))))),(0,a.jsx)("p",null,n("Please provide your email address:")),(0,a.jsx)("div",{className:"form-group"},(0,a.jsx)("input",{className:"inpt ed-input-log-in",type:"text",ref:"email","aria-label":"Email",placeholder:"Your email address"})),(0,a.jsx)("button",{className:"btn log-in-with",onClick:function(){var t=e.refs.email.value;e.setState({email_sent:!1,email_not_found:!1,email:t}),t&&i.default.forgotPassword("www",t,(function(t){return e.setState(t)}))}},n("Reset Password"))),(0,a.jsx)("br",null),(0,a.jsx)("a",{onClick:r},"« ",n("Back to Login Page"))))))}}]),n}(c.default.Component),U=function(e){e.t;var t=e.credentials;return(0,a.jsx)("div",{className:"container"},(0,a.jsx)("div",{className:"row"},(0,a.jsx)("div",{className:"col-lg-6 col-lg-offset-3 col-md-8 col-md-offset-2 col-sm-8 col-sm-offset-2 ed-log-in-logo"},(0,a.jsx)("a",{href:"https://www.typingclub.com",className:"tpc-logo-center"},(0,a.jsx)("img",{src:"//static.typingclub.com/m/pub/images/tpc-logo.svg"})),(0,a.jsx)("a",{className:"ed-tpc-logo-center",href:"https://www.typingclub.com"},"TypingClub"),(0,a.jsx)("div",{className:"ed-sign ed-sign-center"},(0,a.jsx)("h4",null,"Choose Your Account:"),(0,a.jsx)("p",null,"You seem to have more than one account with TypingClub."),t.user&&(0,a.jsx)("div",null,(0,a.jsx)("div",{className:"ed-gray-line"}),(0,a.jsx)("div",{className:"row"},(0,a.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6"},(0,a.jsx)("h5",null,"Individual Edition"),(0,a.jsx)("h6",null,t.user.student_name),(0,a.jsx)("h6",{style:{color:"gray",textAlign:"left"}},(0,a.jsx)("b",null,"www"),".typingclub.com")),(0,a.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6"},(0,a.jsx)("button",{onClick:function(){return y.signUserIn(t.user.login_token).then(y.takeMeHomeOrNext)},className:"btn log-in-with"},"Sign in")))),(0,a.jsx)("div",null,t.tpc_users.map((function(e){return(0,a.jsx)("div",{key:e.domain},(0,a.jsx)("div",{className:"ed-gray-line"}),(0,a.jsx)("div",{className:"row"},(0,a.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6"},(0,a.jsx)("h5",null,"School Edition"),(0,a.jsx)("h6",null,e.name),(0,a.jsx)("h6",{style:{color:"gray",textAlign:"left"}},(0,a.jsx)("b",null,e.domain),".typingclub.com")),(0,a.jsx)("div",{className:"col-lg-6 col-md-6 col-sm-6"},(0,a.jsx)("button",{onClick:function(){return y.signUserIn(e.login_token).then(y.takeMeHomeOrNext)},className:"btn log-in-with"},"Sign in"))))})),(0,a.jsx)("div",{className:"ed-gray-line"}))))))},q={google:{name:"Google",icon:"google-icon",background:"white"},office365:{name:"Office 365",icon:"office-365-white"},clever:{name:"Clever",icon:"clever-icon-white"}},Y=function(e,t,n,r,o){return(0,a.jsx)("div",null,Object.keys(q).map((function(i){return e[i]&&(0,a.jsx)("a",{key:i,className:"btn log-in-with",onClick:function(){if("clever"===i){var a=e.clever,s=Object.assign({response_type:"code",redirect_uri:e.BASE_DOMAIN+"/cleverOauth"},a.PARAMS);window.location=a.AUTHORIZE_URL+"?"+l.default.param(s)}else(0,m.oauthWithPopup)(i,t,e,o).then(n).catch(r)},"aria-label":(t?"Login":"Signup")+" with your "+q[i].name+" account"},(0,a.jsx)("img",{style:{background:q[i].background||"inherit"},src:"//static.typingclub.com/m/pub/images/"+q[i].icon+".svg"}),"Sign ",t?"up":"in"," with ",q[i].name)})))};t.listInOauthOptions=Y;var B=function(e){var t=e.t,n=e.handler,r=e.oauths,o=e.forgotPassword,s=e.toggleLoading;return(0,a.jsx)("div",{className:"ed-sign"},Y(r,!1,(function(e){e?n.showAccountSelection(e):approuter.dashboard()}),(function(e){var n;n=e?e.responseJSON:t("You do not have an account with us yet.")+" <a onclick=\"document.getElementById('signup-link').click()\">"+t("Do you want to create an account now?")+"</a>",setTimeout((function(){return(0,l.default)("#error-container").html(n)}))}),s),(0,a.jsx)("div",{className:"ed-blue-line-left"}),(0,a.jsx)("div",{className:"ed-or"},t("OR")),(0,a.jsx)("div",{className:"ed-blue-line-right"}),(0,a.jsx)("div",{className:"form-group"},(0,a.jsx)("input",{className:"inpt ed-input-log-in",type:"text",id:"username","aria-label":"Username or email",autoFocus:!0,placeholder:t("Username or Email"),onKeyPress:function(e){if(13===e.charCode){var t=(0,l.default)("#password");t.val()?(0,l.default)("#login-with-password").click():t.focus()}}}),(0,a.jsx)("input",{className:"inpt ed-input-log-in",type:"password",id:"password","aria-label":"Enter password",placeholder:t("Password"),onKeyPress:function(e){return 13===e.charCode&&(0,l.default)("#login-with-password").click()}})),(0,a.jsx)("div",{className:"errorlist",role:"alert"},(0,a.jsx)("div",{id:"error-container",className:"error"})),(0,a.jsx)("div",{style:{marginTop:25}},(0,a.jsx)("button",{id:"login-with-password",className:"btn log-in-with",style:{textAlign:"center"},onClick:function(){var e=(0,l.default)("#username").val(),n=(0,l.default)("#password").val();e&&n?((0,l.default)("#error-container").html(""),s&&s(!0),i.default.getUserToken("www",e,n,(function(e){return y.signUserIn(e.login_token).then(y.takeMeHomeOrNext)}),(function(e){s&&s(!1),(0,l.default)("#password").val(""),500==e.status?(0,l.default)("#error-container").html(G(t).ServerError):(0,l.default)("#error-container").html(t("The username and password you entered did not match our records. Please double-check and try again."))}))):(0,l.default)("#error-container").html(t("Please enter both username and password"))}},t("Sign in"))),(0,a.jsx)("div",{className:"row"},(0,a.jsx)("div",{className:"col-md-6"}),(0,a.jsx)("div",{className:"col-md-6"},(0,a.jsx)("div",{className:"ed-forget-password"},(0,a.jsx)("a",{onClick:o},t("Forgot your password?"))))))},H=function(e){var t=e.t,n=(e.handler,e.oauths),r=e.classSignupCode,o=e.toggleLoading;return(0,a.jsx)("div",{className:"ed-sign"},(0,a.jsx)("p",{style:{textAlign:"right",fontSize:18,marginBottom:15}},(0,a.jsx)("a",{onClick:r},t("I have a class signup code"))),Y(n,!0,(function(e){return approuter.dashboard()}),(function(){return(0,l.default)("#error-container").html("You already have an account with us. Do you want to signin instead?")}),o),(0,a.jsx)("div",{className:"ed-blue-line-left"}),(0,a.jsx)("div",{className:"ed-or"},t("OR")),(0,a.jsx)("div",{className:"ed-blue-line-right"}),(0,a.jsx)("div",{className:"form-group"},(0,a.jsx)("input",{className:"inpt ed-input-log-in",type:"text",id:"fname","aria-label":"First Name",autoFocus:!0,placeholder:t("First Name"),onKeyPress:function(e){return 13===e.charCode&&(0,l.default)("#lname").focus()}}),(0,a.jsx)("input",{className:"inpt ed-input-log-in",type:"text",id:"lname","aria-label":"Last Name",placeholder:t("Last Name"),onKeyPress:function(e){return 13===e.charCode&&(0,l.default)("#username").focus()}}),(0,a.jsx)("input",{className:"inpt ed-input-log-in",type:"text",id:"username_or_email","aria-label":"Username or email",placeholder:t("Username or Email"),onKeyPress:function(e){return 13===e.charCode&&(0,l.default)("#password").focus()}}),(0,a.jsx)("input",{className:"inpt ed-input-log-in",type:"password",id:"password","aria-label":"Enter password",placeholder:t("Password"),onKeyPress:function(e){return 13===e.charCode&&(0,l.default)("#sign-up-with-password").click()}})),(0,a.jsx)("div",{className:"errorlist",role:"alert"},(0,a.jsx)("div",{id:"error-container",className:"error"})),(0,a.jsx)("div",{style:{marginTop:25}},(0,a.jsx)("button",{id:"sign-up-with-password",className:"btn log-in-with",style:{textAlign:"center"},onClick:function(){var e=(0,l.default)("#fname").val(),n=(0,l.default)("#lname").val(),r=(0,l.default)("#password").val(),a=(0,l.default)("#username_or_email").val();if(e)if(a&&r){var i={fname:e,lname:n,password:r};d.validateEmail(a)?i.email=a:i.username=a,(0,l.default)("#error-container").html(""),o&&o(!0),approuter.update_profile(i).then(approuter.dashboard).catch((function(r){o&&o(!1),setTimeout((function(){(0,l.default)("#fname").val(e),(0,l.default)("#lname").val(n);var o=r.responseJSON;o&&o.student?o.student.email?(0,l.default)("#error-container").html(t('Email "{{email}}" is already taken',{email:a})):(0,l.default)("#error-container").html(t('Username "{{username}}" is already taken',{username:a})):(0,l.default)("#error-container").html(t("Some unexpected error occurred. Please try again later."))}))}))}else(0,l.default)("#error-container").html(t("Please enter both username and password"));else(0,l.default)("#error-container").html(t("Please enter your first name"))}},t("Sign Up"))))};function F(e){return(0,a.jsx)(s.default,{style:"ENTRY",cloudBody:!0,header:null},(0,a.jsx)("img",{src:"/m/pub/images/tpc-clouds-background.svg",className:"tpc-cloud"}),(0,a.jsx)(I,{is_signup:e}))}function K(e,t){if(!t||"blank"===t.type||t.is_anonymous)return y.isLoggedIn(),F(!1);y.takeMeHome(y.getSession())}function W(e,t){if(!t||"blank"===t.type||t.is_anonymous)return F(!0);approuter.dashboard()}K.authorization=function(){return!0},W.authorization=function(){return!0};var J={google:{name:"Google",icon:"google-icon",background:"white"},clever:{name:"Clever",icon:"clever-icon-white"},classlink:{name:"Classlink",icon:"classlink-icon-white"},office365:{name:"Office 365",icon:"office-365-white"}},G=function(e){return{InactiveUser:e("Your account is no longer active. Please speak to your instructor to have your account reactivated."),TeacherLoginNotSupported:e("Teachers, please sign in using a browser."),UserPass:e("Username and/or Password is wrong."),UserNotFound:e("User not found."),SchoolCode:e("School code does not exist."),BlockedIP:e("Your IP address has been blocked due to too many requests."),LoginBlockedUntil:e("Your district/school has not yet opened access to students."),ServerError:e("There was an error during the login. Please wait a bit and try again.")}},$=(0,p.withTranslation)(["common"])(o=function(e){N(n,e);var t=M(n);function n(e){var r;E(this,n),(r=t.call(this,e)).state={tab:"change-domain"},r.url_domain=!window.cordova&&location.hostname.split(".")[0];var o=window.cordova?localStorage.getItem("domain-key"):r.url_domain;return o&&"s"!==o&&(r.domain=o),y.isLoggedIn()?(r.state.tab="checking-profile",oe(),y.takeMeHomeOrNext(y.getSession())):r.domain&&(r.state.tab="login",r.setSchool(o,(function(e){return r.setState({tab:"change-domain",error:e})}))),r}return R(n,[{key:"getErrorText",value:function(e){var t;return t="string"==typeof e?e:e.auth_error_code,G(this.props.t)[t]||t}}]),R(n,[{key:"setSchool",value:function(e,t){var n=this;i.default.getSchoolAccount(e,(function(t){n.url_domain&&e!=n.url_domain?window.location="//"+e+location.host.substr(n.url_domain.length)+location.search:(window.cordova&&localStorage.setItem("domain-key",e),t.oauths&&t.oauths.google&&t.oauths.google.force_google_logout&&localStorage.setItem("force_google_logout",!0),n.setState({tab:"login",acc:t}))}),(function(e){return t(n.getErrorText(e.responseJSON))}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.tab,r=t.acc;if("checking-profile"===n)return(0,a.jsx)(V,null);var o="";if("change-domain"===n)o=(0,a.jsx)(ee,{domain:!r&&this.domain,goBack:r&&function(){return e.setState({tab:"login"})},setSchool:this.setSchool.bind(this)});else{if(!r)return null;"signup"===n?o=(0,a.jsx)(ne,{acc:r}):"reset-password"===n&&(o=(0,a.jsx)(te,{acc:r}))}var i=window.cordova?(0,a.jsx)("p",null):(0,a.jsx)("a",{href:"https://s.typingclub.com/find-school-code.html"},"Find Your School Code");if(o)return(0,a.jsx)("div",{className:"page",style:"signup"===n?{width:450}:{}},(0,a.jsx)("div",{style:{position:"relative"}},(0,a.jsx)("div",{className:"logo"}),(0,a.jsx)("div",{className:"school-name"},"School Edition"),o,r?(0,a.jsx)("a",{onClick:function(){e.setState({tab:"login"})}},(0,a.jsx)("i",{className:"edicon-arrow-down"})," Back to Login Page"):i,!window.cordova&&(0,a.jsx)("a",{style:{float:"right"},href:"https://s.typingclub.com/schools/signup.html"},"Sign Up New Account")));return(0,a.jsx)(Q,{changeDomain:function(){this.setState({tab:"change-domain"})}.bind(this),resetPassword:function(){return e.setState({tab:"reset-password"})},signup:function(){return e.setState({tab:"signup"})},acc:r,schoolOauths:J,getErrorText:this.getErrorText.bind(this)})}}]),n}(c.default.Component))||o,V=function(){return(0,a.jsx)("div",{className:"page"},(0,a.jsx)("div",{style:{position:"relative"}},(0,a.jsx)("div",{className:"logo"}),(0,a.jsx)("h3",{style:{padding:"20px 0 140px",textAlign:"center"}},"Checking profile..."),(0,a.jsx)("div",{className:"boxLoading boxLoading-dark"})),(0,a.jsx)("a",{id:"change-school",className:"change-btn",onClick:function(){return location.reload()}},"×"))},X=function(e){var t=e.title,n=e.body;return(0,a.jsx)("div",{css:(0,a.css)(j())},(0,a.jsx)("div",{css:(0,a.css)(x())}),(0,a.jsx)("div",{css:(0,a.css)(k())}),(0,a.jsx)("div",{css:(0,a.css)(w())},(0,a.jsx)("div",{css:(0,a.css)(_())},t),(0,a.jsx)("div",null,n)))};X.propTypes={title:u.default.string.isRequired,body:u.default.oneOfType([u.default.arrayOf(u.default.node),u.default.node,u.default.func]).isRequired};var Z=function(){var e=window.localStorage?window.localStorage.getItem("guide.admin_onboarding"):null,t=e?JSON.parse(e):null,n=window.localStorage.getItem("guide._already_logged_in_as_student")||!1,r=9===t&&n;return 9===t&&!n?(0,a.jsx)(X,{title:"Log into your student account",body:(0,a.jsx)(c.default.Fragment,null,"Enter the login credentials set in the previous step.",(0,a.jsx)("br",null),"Once logged in, practice a few lessons to get a feel of the student experience with the program, and then log back into your teacher portal.")}):r?(0,a.jsx)(X,{title:"Log into your teacher account",body:(0,a.jsx)(c.default.Fragment,null,"Enter the login credentials for your teacher account.",(0,a.jsx)("br",null),"Once logged in, find the student record you just experimented with and view their activity.")}):null},Q=function(e){N(n,e);var t=M(n);function n(){var e;E(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return O(A(e=t.call.apply(t,[this].concat(o))),"state",{}),e}return R(n,[{key:"componentDidMount",value:function(){this.state.acc&&this.state.acc.is_email_password_login_enabled&&this.refs.username.focus()}},{key:"render",value:function(){var e=this;if(this.state.loading)return(0,a.jsx)(V,null);var t=this.props,n=t.acc,r=t.getErrorText,o=t.schoolOauths,s=Object.keys(o).filter((function(e){return e in n.oauths})),c=n.is_email_password_login_enabled||this.state.show_username_password,u=s.length>2&&c,l=(0,a.jsx)("div",{className:"oauth-buttons"},s.map((function(t){return(0,a.jsx)("button",{key:t,onClick:function(){return(0,m.oauthWithPopup)(t,!1,n.oauths,(function(t){return e.setState({loading:t})})).then((function(){oe(),approuter.dashboard()})).catch((function(t){return e.setState({error:r(t&&t.responseJSON||"UserNotFound")})}))}},(0,a.jsx)("img",{style:{background:o[t].background||"inherit"},src:"//static.typingclub.com/m/tpc-login/"+o[t].icon+".svg"}),!u&&"Sign in with "," ",o[t].name)})));return(0,a.jsx)("div",{className:"page",style:u?{width:650,paddingLeft:290}:{}},(0,a.jsx)("a",{id:"change-school",className:"change-btn",onClick:this.props.changeDomain},"×"),u&&(0,a.jsx)("div",{className:"left-side-page",style:{paddingTop:s.length<5?110:50}},(0,a.jsx)("h4",null,"Sign In with:"),l,(0,a.jsx)("div",{className:"or",style:{position:"absolute",top:"51%",right:-20}},"OR")),(0,a.jsx)("div",{style:{position:"relative"}},(0,a.jsx)("div",{className:"logo"}),(0,a.jsx)("div",{className:"school-name"},n.name),s.length>0&&!u&&(0,a.jsx)("div",null,l,c&&(0,a.jsx)("div",{className:"or-cnt"},(0,a.jsx)("span",{className:"line line-l"}," "),(0,a.jsx)("span",{className:"or"},"OR"),(0,a.jsx)("span",{className:"line line-r"}," "))),(0,a.jsx)("div",{style:{textAlign:"center"}},(0,a.jsx)("div",{className:"errors",style:u?{height:0,margin:0,whiteSpace:"pre-wrap"}:{}},this.state.error||" ")),c&&(0,a.jsx)("div",null,(0,a.jsx)("div",{style:{marginTop:u?70:10,position:"relative"}},(0,a.jsx)(Z,null),(0,a.jsx)("input",{type:"text",placeholder:"Username or Email",id:"username",ref:"username",autoCapitalize:"off",onKeyPress:function(t){return 13===t.charCode&&e.refs.login_button.click()},autoCorrect:"off",autoComplete:"off",autoFocus:"autofocus"}),(0,a.jsx)("input",{type:"password",placeholder:"Password",id:"password",ref:"password",autoCapitalize:"off",onKeyPress:function(t){return 13===t.charCode&&e.refs.login_button.click()},autoCorrect:"off",autoComplete:"off"})),(0,a.jsx)("div",{style:{textAlign:"right",fontSize:16}},(0,a.jsx)("button",{ref:"login_button",onClick:function(){var t=e.refs.username.value,o=e.refs.password.value;if(!t)return e.setState({error:"Need a valid username/email."});e.setState({error:null,loading:!0}),i.default.getUserToken(n.domain,t,o,(function(e){return y.signUserIn(e.login_token).then(y.takeMeHomeOrNext)}),(function(t){e.setState({loading:!1,error:r(t.responseJSON||"ServerError")})}))},id:"login-btn",className:"login-btn"},"Login"))),(0,a.jsx)("div",{style:{marginTop:5,height:30}},c?(0,a.jsx)("a",{onClick:this.props.resetPassword},"Forgot your password?"):(0,a.jsx)("a",{onClick:function(){return e.setState({show_username_password:!0})}},"Login with password"),n.joinable&&(0,a.jsx)("a",{onClick:this.props.signup,style:{float:"right"}},"Enter a Class Code"))))}}]),n}(c.default.Component),ee=function(e){N(n,e);var t=M(n);function n(e){var r;return E(this,n),O(A(r=t.call(this,e)),"state",{}),r}return R(n,[{key:"getSchool",value:function(e){var t=this;this.props.setSchool(e,(function(e){return t.setState({error:e})}))}},{key:"componentDidMount",value:function(){this.refs.domain.focus()}},{key:"render",value:function(){var e=this;return(0,a.jsx)("div",null,(0,a.jsx)("h3",null,"Enter Your School Code"),"Your school code is the first part of your TypingClub School Edition’s portal URL.",window.cordova?" Please ask your teacher or instructor if you don't know what your school code is.":" For example, if your account’s login URL is: https://yourschool.typingclub.com your school code would be yourschool.",(0,a.jsx)("input",{type:"text",ref:"domain",autoCapitalize:"off",autoCorrect:"off",autoComplete:"off",placeholder:"Your School Code",onKeyPress:function(t){return 13===t.charCode&&e.getSchool(e.refs.domain.value)}}),this.state.error&&(0,a.jsx)("div",{className:"errors"},this.state.error),(0,a.jsx)("div",{style:{margin:"15px 0"}},(0,a.jsx)("button",{onClick:function(){return e.getSchool(e.refs.domain.value)}},"Set School")))}}]),n}(c.default.Component),te=function(e){N(n,e);var t=M(n);function n(){var e;E(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return O(A(e=t.call.apply(t,[this].concat(o))),"state",{}),e}return R(n,[{key:"componentDidMount",value:function(){this.refs.resetEmail.focus()}},{key:"resetPassword",value:function(e){var t=this;this.setState({email_not_found:!1,email:e}),e&&i.default.forgotPassword(this.props.acc.domain,e,(function(e){return t.setState(e)}))}},{key:"render",value:function(){var e=this,t=this.state.email_not_found;return this.state.email_sent?(0,a.jsx)("div",{style:{marginBottom:15}},(0,a.jsx)("h3",null,"Email Sent!"),"Please check your email for further instructions to reset your password."):(0,a.jsx)("div",null,(0,a.jsx)("h3",null,"Students:"),"Please ask your teacher for help if you've forgotten your password or are having trouble logging in.",(0,a.jsx)("h3",null,"Instructors"),"Please enter your email address below:",(0,a.jsx)("input",{ref:"resetEmail",type:"email",style:{fontWeight:"normal",marginTop:15},placeholder:"Your email address",onKeyPress:function(t){return 13===t.charCode&&e.resetPassword(e.refs.resetEmail.value)}}),t&&(0,a.jsx)("div",{className:"errors"},"The email address (",this.state.email,") did not match any records. Please make sure that it is typed correctly. If you believe that this is an error, please"," ",(0,a.jsx)("em",null,(0,a.jsx)("a",{href:"mailto: support@typingclub.com"},"contact support"))),(0,a.jsx)("button",{style:{margin:"15px 0"},onClick:function(){return e.resetPassword(e.refs.resetEmail.value)}},"Reset Password"))}}]),n}(c.default.Component),ne=function(e){N(n,e);var t=M(n);function n(){var e;E(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return O(A(e=t.call.apply(t,[this].concat(o))),"state",{}),e}return R(n,[{key:"componentDidMount",value:function(){this.refs.classCode.focus()}},{key:"checkClassCode",value:function(e){var t=this;this.setState({error:null}),e&&i.default.checkClassCode(this.props.acc.domain,e,(function(n){n?approuter.goto_app("shared.school_signup_app",{class_code:e}):t.setState({error:"This code is incorrect. Ask your teacher for the correct class code."})}))}},{key:"render",value:function(){var e=this;this.props.acc;return(0,a.jsx)("div",null,"Enter your class code below. If you don't have one, ask your instructor.",(0,a.jsx)("input",{ref:"classCode",style:{fontWeight:"normal",marginTop:15},placeholder:"Your class code",onKeyPress:function(t){return 13===t.charCode&&e.checkClassCode(e.refs.classCode.value)}}),this.state.error&&(0,a.jsx)("div",{className:"errors"},this.state.error),(0,a.jsx)("button",{style:{margin:"15px 0"},onClick:function(){return e.checkClassCode(e.refs.classCode.value)}},"Sign Up"))}}]),n}(c.default.Component),re=function(e){N(n,e);var t=M(n);function n(e){var r;return E(this,n),O(A(r=t.call(this,e)),"state",{lock_button:!1}),i.default.checkClassCode("",e.code,(function(t){t?r.setState(t):r.setState({error:(0,a.jsx)("h4",null,"Class code ",(0,a.jsx)("b",null,e.code)," is no longer valid. Please ask your teacher for the new class code.")})})),r}return R(n,[{key:"componentDidUpdate",value:function(){this.state.password_enabled&&!this.state.loading&&this.refs.fname.focus()}},{key:"oauthSignup",value:function(e,t){var n=this;i.default.signup2Class({code:this.props.code,sign:e.sign},(function(e){return y.signUserIn(e.login_token).then(y.takeMeHomeOrNext)}),(function(e){t.disabled=!1,n.setState({loading:!1,signup_error:e.responseJSON})}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.school_name,r=t.class_name,o=t.password_enabled,s=t.oauths,c=t.error;t.loading;if(!c&&!n)return null;if(this.state.loading)return(0,a.jsx)(V,null);var u=[];s&&(u=s?Object.keys(J).filter((function(e){return e in s})):[]);var l=u.length>0&&o,p=(0,a.jsx)("div",{className:"oauth-buttons"},u.map((function(t){return(0,a.jsx)("button",{key:t,onClick:function(n){var r=n.target;r.disabled=!0,(0,m.oauthWithPopup)(t,!0,s,(function(t){r.disabled=t,e.setState({loading:t})})).then((function(t){return e.oauthSignup(t,r)})).catch((function(t){return e.setState({signup_error:t.responseJSON})}))}},(0,a.jsx)("img",{style:{background:J[t].background||"inherit"},src:"//static.typingclub.com/m/tpc-login/"+J[t].icon+".svg"}),!l&&"Sign up with "," ",J[t].name)})));return(0,a.jsx)("div",{className:"page",style:l?{width:650,paddingLeft:290}:{}},(0,a.jsx)("a",{id:"change-school",className:"change-btn",onClick:function(){return approuter.goto_app("shared.login_page")}},"×"),l&&(0,a.jsx)("div",{className:"left-side-page",style:{paddingTop:120}},(0,a.jsx)("h4",null,"Sign up with:"),p,(0,a.jsx)("div",{className:"or",style:{position:"absolute",top:"45%",right:-20}},"OR")),(0,a.jsx)("div",{style:{position:"relative"}},(0,a.jsx)("div",{className:"logo"}),(0,a.jsx)("div",{className:"school-name"},(0,a.jsx)("div",null,n),r&&(0,a.jsx)("div",{style:{fontSize:16,marginTop:5}},r)),c&&(0,a.jsx)("div",{className:"errors"},c),u.length>0&&!l&&(0,a.jsx)("div",null,p,o&&(0,a.jsx)("div",{className:"or-cnt"},(0,a.jsx)("span",{className:"line line-l"}," "),(0,a.jsx)("span",{className:"or"},"Or"),(0,a.jsx)("span",{className:"line line-r"}," "))),o&&(0,a.jsx)("div",null,(0,a.jsx)("input",{ref:"fname",placeholder:"First Name",onKeyPress:function(t){return 13===t.charCode&&e.refs.lname.focus()}}),(0,a.jsx)("input",{ref:"lname",placeholder:"Last Name (optional)",onKeyPress:function(t){return 13===t.charCode&&e.refs.username.focus()}}),(0,a.jsx)("input",{ref:"username",placeholder:"Username or Email",onKeyPress:function(t){return 13===t.charCode&&e.refs.password.focus()}}),(0,a.jsx)("input",{ref:"password",placeholder:"Password",onKeyPress:function(t){return 13===t.charCode&&e.refs.login_button.click()}}),this.state.signup_error&&(0,a.jsx)("div",{className:"errors"},this.state.signup_error),(0,a.jsx)("button",{ref:"login_button",disabled:!this.state.value&&this.state.lock_button,onClick:function(){var t=e.refs.username.value.trim(),n=e.refs.password.value,r=n,o=e.refs.fname.value,a=e.refs.lname.value;if(!t||!n)return e.setState({signup_error:"Need a valid username/email and password."});if(n!=r)return e.setState({signup_error:"Confirm Password does not match Password."});var s={fname:o,lname:a,username:t,password:n,code:e.props.code};e.setState({signup_error:null,lock_button:!0}),i.default.signup2Class(s,(function(e){return y.signUserIn(e.login_token).then(y.takeMeHomeOrNext)}),(function(t){return e.setState({signup_error:t.responseJSON,lock_button:!1})}))},id:"login-btn",className:"login-btn"},"Sign Up")),(0,a.jsx)("a",{onClick:function(){return approuter.goto_app("shared.login_app")}},(0,a.jsx)("i",{className:"edicon-arrow-down"})," Back to Login Page")))}}]),n}(c.default.Component);function oe(){window.cordova&&d.show_ios_focus_popup("Welcome. Tap here to start.")}var ae=(0,a.jsx)("div",{className:"footer-links"},(0,a.jsx)("a",{href:"https://www.typingclub.com"},"About TypingClub"),(0,a.jsx)("a",{href:"/schools.html"},"Schools"),(0,a.jsx)("a",{href:"https://www.typingclub.com/privacy.html"},"Privacy"),(0,a.jsx)("a",{href:"https://www.typingclub.com/terms.html"},"Terms"),(0,a.jsx)("a",{href:"/docs/"},"Help"));function ie(e){return(0,a.jsx)(s.default,{style:"SCHOOL-ENTRY",header:null,skyBody:!0},(0,a.jsx)($,null),!window.cordova&&ae)}function se(e){return(0,a.jsx)(s.default,{style:"SCHOOL-ENTRY",header:null,skyBody:!0},(0,a.jsx)(re,{code:e.class_code}),!window.cordova&&ae)}ie.authorization=function(e){return!0},se.authorization=function(e){return!0}},11418:(e,t,n)=>{n(82526),n(41817),n(32165),n(66992),n(21249),n(68309),n(30489),n(41539),n(12419),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,a=(r=n(67294))&&r.__esModule?r:{default:r},i=n(53896),s=l(n(92119)),c=l(n(98912));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(e){if(e&&e.__esModule)return e;if(null===e||"object"!==p(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?h(e):t}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=(0,i.withTranslation)(["common"])(o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(i,e);var t,n,r,o=m(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(h(t=o.call(this,e)),"state",{active_dropdown:null}),approuter.events.on("unload",(function(){t.refs.navbarCollapseMain&&t.refs.navbarCollapseMain.classList.remove("in")})),t}return t=i,(n=[{key:"set_language",value:function(e){approuter.update_profile({language:e}).then((function(){return document.location.reload()}))}},{key:"toggle_active_dropdown",value:function(e,t){if(e.preventDefault(),e.stopPropagation(),null==this.state.active_dropdown){var n=function(e){window.removeEventListener("click",n),this.state.active_dropdown&&this.setState({active_dropdown:null})}.bind(this);window.addEventListener("click",n)}t==this.state.active_dropdown&&(t=null),this.setState({active_dropdown:t})}},{key:"componentWillUnmount",value:function(){this.state.active_dropdown=null}},{key:"render",value:function(){var e=this,t=this.props.t,n=approuter.profile;if(!n)return null;var r=approuter.profile.is_anonymous,o=n.fname?n.fname:t("Me"),i=s.LANGUAGE_CHOICES.length,u=n.programs.length,l=a.default.createElement("li",{className:"dropdown"},a.default.createElement("a",{href:"#",onClick:function(t){return e.toggle_active_dropdown(t,"languages")},"aria-label":t("language menu. {{lang}} is selected",{lang:s.get_language_name(n.language)}),className:"dropdown-toggle",tabIndex:u+9,"data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"},a.default.createElement("div",{className:"flag-box"},a.default.createElement("i",{className:"flag "+s.get_language_country(n.language)})),a.default.createElement("span",{className:"caret"})),"languages"==this.state.active_dropdown?a.default.createElement("ul",{className:"dropdown-menu"},s.LANGUAGE_CHOICES.map(function(e,t){var n=this;return a.default.createElement("li",{key:e[0]},a.default.createElement("a",{href:"#","aria-label":e[1],tabIndex:u+10+t,style:{padding:"8px 10px"},onClick:function(){n.set_language(e[0])}},a.default.createElement("div",{className:"flag-box"},a.default.createElement("i",{className:"flag "+e[2]}))," ",e[1]))}.bind(this))):null),p=approuter.program&&approuter.program.subject_id>200&&approuter.current_app&&"student.lessonplan"==approuter.current_app.app;return a.default.createElement("div",{className:"edheader f32"},a.default.createElement("a",{className:"jumpNav",onKeyUp:this.OnFocus.bind(this),role:"navigation",tabIndex:"1","aria-label":"to Jump to Main Content, press Enter key","aria-labelledby":"article"},"Jump to Main Content"),a.default.createElement("nav",{className:"navbar navbar-inverse navbar-fixed-top app-navbar",role:"navigation"},a.default.createElement("div",{className:"container"},a.default.createElement("div",{className:"navbar-header"},a.default.createElement("button",{type:"button",className:"navbar-toggle collapsed",onClick:function(){return e.refs.navbarCollapseMain.classList.toggle("in")}},a.default.createElement("span",{className:"sr-only"},"Toggle navigation"),a.default.createElement("span",{className:"icon-bar"}),a.default.createElement("span",{className:"icon-bar"}),a.default.createElement("span",{className:"icon-bar"})),a.default.createElement("a",{className:"navbar-brand",onClick:approuter.dashboard,tabIndex:"2"},a.default.createElement("div",{className:"edlogo"},p?"EdClub | Spelling":"TypingClub"))),a.default.createElement("div",{ref:"navbarCollapseMain",className:"navbar-collapse collapse",onKeyUp:this.OnEsc.bind(this)},a.default.createElement("ul",{className:"nav navbar-nav hidden-xs",role:"menubar","aria-label":"Main Menu"},a.default.createElement("li",null,a.default.createElement("a",{tabIndex:"2",role:"menuitem",onKeyUp:function(e){13==e.keyCode&&approuter.dashboard()}.bind(this),onClick:approuter.dashboard},t("Home"))),a.default.createElement("li",null,a.default.createElement("a",{tabIndex:"3",role:"menuitem",onKeyUp:function(e){13==e.keyCode&&approuter.stats_page()}.bind(this),onClick:approuter.stats_page},t("Stats"))),a.default.createElement("li",null,a.default.createElement("a",{tabIndex:"4",role:"menuitem",onKeyUp:function(e){13==e.keyCode&&this.badges()}.bind(this),onClick:this.badges.bind(this)},t("Badges"))),a.default.createElement("li",{className:"dropdown",style:{maxWidth:300}},a.default.createElement("a",{onClick:function(t){return e.toggle_active_dropdown(t,"lesson-plan-list")},href:"#",className:"dropdown-toggle",tabIndex:"5","data-toggle":"dropdown",role:"button","aria-haspopup":"true","aria-expanded":"false"},approuter.program&&approuter.program.name||t("Lesson Plans")," ",a.default.createElement("span",{className:"caret"})),"lesson-plan-list"==this.state.active_dropdown?a.default.createElement("ul",{className:"dropdown-menu lesson-plan-list"},n.lessonplans().map((function(n,r){return a.default.createElement("li",{className:approuter.program&&approuter.program.id==n.id?"active":"",key:n.id,"aria-label":t("Lesson {{name}}",{name:n.name})},a.default.createElement("a",{tabIndex:6+r,href:"#",onKeyUp:function(e){13==e.keyCode&&approuter.lesson_plan(n.id)}.bind(e),onClick:function(){return approuter.lesson_plan(n.id)}},a.default.createElement("img",{className:"nav-dropdown-thumbnail",src:"//static.typingclub.com/m/"+(n.image||"corp2/lessonplan-icons/default.png")}),a.default.createElement("div",{className:"nav-dropdown-content"},a.default.createElement("div",null,n.name))))})),a.default.createElement("li",{"aria-label":t("More lesson plans")},a.default.createElement("a",{tabIndex:6+n.programs.length,onClick:approuter.catalog_page},a.default.createElement("div",{className:"nav-dropdown-content"},a.default.createElement("i",{className:"icon icon-plus"})," ",t("More Lesson Plans"))))):null),approuter.has_scoreboard()&&a.default.createElement("li",null,a.default.createElement("a",{tabIndex:u+6,role:"menuitem",onKeyUp:function(e){13==e.keyCode&&approuter.scoreboard()},onClick:approuter.scoreboard},approuter.is_leaderboard()?t("Leaderboard"):t("Scoreboard")))),r?a.default.createElement("ul",{className:"nav navbar-nav navbar-right m-r-0 hidden-xs",role:"menubar","aria-label":"Account Menu"},l,a.default.createElement("li",null,a.default.createElement("a",{tabIndex:u+7,role:"menuitem",onClick:approuter.signup_page,onKeyUp:function(e){return"Enter"===e.key&&e.target.click()}},t("Save Progress"))),a.default.createElement("li",null,a.default.createElement("a",{tabIndex:u+8,role:"menuitem",onClick:approuter.login_page,onKeyUp:function(e){return"Enter"===e.key&&e.target.click()}},t("Login")))):a.default.createElement("ul",{className:"nav navbar-nav navbar-right m-r-0 hidden-xs",role:"menubar","aria-label":"Account Menu","aria-haspopup":"true"},!1,l,a.default.createElement("li",{className:"dropdown"},a.default.createElement("a",{href:"#",onClick:function(t){return e.toggle_active_dropdown(t,"user-settings")},tabIndex:i+u+11+1,role:"menuitem",className:"dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},o," ",a.default.createElement("span",{className:"caret"})),"user-settings"==this.state.active_dropdown?a.default.createElement("ul",{className:"dropdown-menu"},!n.is_clever_lc&&a.default.createElement("li",null,a.default.createElement("a",{href:"#",tabIndex:i+u+11+2,role:"menuitem",onClick:this.profileDetails.bind(this)},t("Profile"))),!n.is_clever_lc&&n.can_change_password&&a.default.createElement("li",null,a.default.createElement("a",{href:"#",tabIndex:i+u+11+3,onClick:this.changePassword.bind(this)},t("Change Password"))),!n.is_clever_lc&&a.default.createElement("li",{onClick:approuter.student_billing},a.default.createElement("a",{tabIndex:i+u+11+4},t("Billing"))),a.default.createElement("li",null,a.default.createElement("a",{href:"#",tabIndex:i+u+11+6,role:"menuitem",onClick:function(){return c.signUserOut().then(c.redirectAfterLogout)}},t("Logout")))):null))))))}},{key:"OnEsc",value:function(e){27==e.keyCode&&this.state.active_dropdown&&this.setState({active_dropdown:null})}},{key:"OnFocus",value:function(e){if(13==e.keyCode){var t=document.getElementById("article");if(t)t.focus(),t.tabIndex=100;else{var n=document.querySelector('[tabIndex="100"]');n&&n.focus()}document.getElementsByClassName("jumpNav")[0].tabIndex=1}}},{key:"badges",value:function(){approuter.badges_page()}},{key:"profileDetails",value:function(){approuter.edit_profile()}},{key:"changePassword",value:function(){approuter.edit_password()}}])&&f(t.prototype,n),r&&f(t,r),i}(a.default.Component))||o;t.default=v},19392:(e,t,n)=>{n(82526),n(41817),n(32165),n(66992),n(68309),n(30489),n(41539),n(12419),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=i(n(67294)),a=i(n(94184));function i(e){return e&&e.__esModule?e:{default:e}}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=(0,n(53896).withTranslation)(["common"])(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(s,e);var t,n,r,i=p(s);function s(){return c(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this,t=this.props,n=t.profile,r=t.t,i=t.idkfa,s=o.default.createElement("div",null);n.is_anonymous||(s=o.default.createElement("div",{className:"htext profile-name"},n.fname));var c=(0,a.default)({hdrlt:!0,compact:this.props.compact,game:"game"==this.props.display,video:"video"==this.props.display,videotyping:"videotyping"==this.props.display,spelling:"spelling"==this.props.display});return o.default.createElement("div",{className:c+" "+(this.props.theme||"")},o.default.createElement("div",{className:"pull-left",style:{whiteSpace:"nowrap"}},o.default.createElement("div",{tabIndex:"1",role:"menuitem","aria-label":approuter.lesson?r("exit lesson"):r("go to dashboard"),className:"menu-btn",onClick:approuter.exit_lesson,onKeyDown:function(e){13==e.keyCode&&approuter.exit_lesson()}},o.default.createElement("div",{className:"nav-icon"},o.default.createElement("span",null),o.default.createElement("span",null),o.default.createElement("span",null))),o.default.createElement("div",{className:"htext lesson-title"},this.props.name)),o.default.createElement("div",{className:"pull-right",tabIndex:-1},s),o.default.createElement("div",{className:"container"},o.default.createElement("span",{className:"header-options"},i&&o.default.createElement("div",{className:"header-item",onClick:function(){e.wait_on_idkfa||(e.wait_on_idkfa=!0,i())}},o.default.createElement("span",{className:"edicon-flash"})),this.props.children)))}}])&&u(t.prototype,n),r&&u(t,r),s}(o.default.Component))||r;t.default=m},56435:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return a.default.load({google:{families:["Courgette::latin"]}}),r.default.createElement(o.default,{style:"NOT_FOUND_PAGE",header:null,title:"Page not found"},r.default.createElement("i",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"#daecee"}}),r.default.createElement("div",{id:"container"},r.default.createElement("img",{src:"//static.typingclub.com/m/corp2/img/cloud.png",id:"cloud",alt:""}),r.default.createElement("img",{src:"//static.typingclub.com/m/corp2/img/ground.png",id:"ground",alt:""}),r.default.createElement("img",{src:"//static.typingclub.com/m/corp2/img/buddy.png",id:"buddy",alt:""}),r.default.createElement("img",{src:"//static.typingclub.com/m/corp2/img/rain.png",id:"rain",alt:""}),r.default.createElement("div",{id:"ground_box",style:{height:window.outerHeight-490}}),r.default.createElement("div",{id:"text_cont"},r.default.createElement("p",{className:"head",style:{fontSize:"1.7em",margin:"20px 0 10px"}},"404. Page Not Found"),r.default.createElement("p",{className:"head",style:{marginBottom:18}},"This page does not exist. That's all we know."),r.default.createElement("p",{className:"cont"},"Consider going back to the",r.default.createElement("a",{href:"javascript:history.back()",className:"go_back"}," ","previous page")," ","or ",r.default.createElement("a",{href:"http://www.typingclub.com"},"TypingClub's home page")))))};var r=i(n(67294)),o=(i(n(94081)),i(n(68215))),a=i(n(75933));function i(e){return e&&e.__esModule?e:{default:e}}},87723:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CURRENCY=t.stripe_settings=void 0;t.stripe_settings={logo:"https://s3.amazonaws.com/stripe-uploads/acct_0JXUFO1w3ddkg89GMUEXmerchant-icon-1472074894921-Logo.jpg",stripe_account_name:"EdClub, Inc.",stripe_currency:"USD",getStripeKey:function(){return"pk_0JXUTMAQR2Zlnm5PN56Bbel5Vq9Ht"},instruction:"You won't be charged until trial ends."};t.CURRENCY={USD:"$",EUR:"€",JPY:"¥",MXN:"MX$",CNY:"CN¥"}},58967:(e,t,n)=>{function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}n(41539),n(88674),n(35666),n(13259);var o=n(76343),a=l(n(31349)),i=n(11440),s=l(n(60905)),c=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=u();if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=o?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}n.default=e,t&&t.set(e,n);return n}(n(98912));function u(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return u=function(){return e},e}function l(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n,r,o,a,i){try{var s=e[a](i),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,o)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){p(a,r,o,i,s,"next",e)}function s(e){p(a,r,o,i,s,"throw",e)}i(void 0)}))}}c.registerSignOutHandler((function(){approuter.events.fire_event("logout"),approuter.team=null,approuter.program=null,approuter.lesson=null,approuter.profile=null})),c.registerStudentLoginHandler(function(){var e=f(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:approuter.dashboard();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),c.registerOnLogin(function(){var e=f(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return approuter.profile=null,e.next=3,approuter.refresh_profile();case 3:return e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),(0,s.default)(window)?(window.api=a.default,window.start=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.document.location.pathname,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c.getFreshSession().then((function(){(0,o.start)(document.getElementById("main"),i.resolveAppRoute,i.url_routes,t?null:function(t){return t.goto_window_url(e)})}))}):window.start=function(){}},74829:(e,t,n)=>{n(82526),n(41817),n(32165),n(66992),n(21249),n(56977),n(30489),n(41539),n(12419),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,a=n(53896),i=(r=n(67294))&&r.__esModule?r:{default:r},s=n(87723);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var o=m(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=(0,a.withTranslation)(["common"])(o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(a,e);var t,n,r,o=f(a);function a(){return u(this,a),o.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props.t,t=this.props.payments,n=t.map((function(e,t){var n;n=1==e.paid?i.default.createElement("i",{className:"icon icon-check"}):e.failure_code+" - "+e.failure_message,1==e.refunded&&(n=i.default.createElement("strong",null,"Refunded - $",e.refunded_amount/100));var r=s.CURRENCY[e.currency?e.currency:"USD"];return i.default.createElement("tr",{key:t},i.default.createElement("th",{scope:"row"},t+1),i.default.createElement("td",null,r+(e.amount/100).toFixed(2)),i.default.createElement("td",null,"Free Edition"==e.plan?"Premium Edition":e.plan),i.default.createElement("td",null,n),i.default.createElement("td",null,i.default.createElement("div",null,"**********",e.card_last4),i.default.createElement("div",null,"Exp: ",e.card_exp_month,"/",e.card_exp_year)),i.default.createElement("td",null,e.created),i.default.createElement("td",null,e.stripe_reference))}));return i.default.createElement("div",null,i.default.createElement("h2",{className:"payment-head"},e("Payments")),t.length>0?i.default.createElement("table",{className:"table table-sm"},i.default.createElement("thead",null,i.default.createElement("tr",null,i.default.createElement("th",null,"#"),i.default.createElement("th",null,e("Amount")),i.default.createElement("th",null,e("Description")),i.default.createElement("th",null,e("Status")),i.default.createElement("th",null,e("Card")),i.default.createElement("th",null,e("Date")),i.default.createElement("th",null,e("Reference")))),i.default.createElement("tbody",null,n)):i.default.createElement("div",{className:"well"},e("There are no payment records.")))}}])&&l(t.prototype,n),r&&l(t,r),a}(i.default.Component))||o;t.default=y},71443:(e,t,n)=>{n(82526),n(41817),n(32165),n(66992),n(30489),n(41539),n(12419),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o,a=(r=n(67294))&&r.__esModule?r:{default:r};function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=(0,n(53896).withTranslation)(["common"])(o=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,e);var t,n,r,o=l(i);function i(){return s(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props.t,t=this.props.active;return a.default.createElement("div",{className:"ed-paper"},a.default.createElement("h4",null,profile.fname?profile.fname:"Me"),a.default.createElement("ul",{className:"nav nav-pills nav-stacked"},a.default.createElement("li",{onClick:this.profileDetails.bind(this),className:"profile"==t?"active":""},a.default.createElement("a",{href:"#"},e("Profile"))),profile.can_change_password&&a.default.createElement("li",{onClick:this.changePassword.bind(this),className:"change_password"==t?"active":""},a.default.createElement("a",{href:"#"},e("Change Password"))),a.default.createElement("li",{onClick:this.billing.bind(this),className:"billing"==t?"active":""},a.default.createElement("a",null,e("Billing")))))}},{key:"profileDetails",value:function(){approuter.edit_profile()}},{key:"changePassword",value:function(){approuter.edit_password()}},{key:"billing",value:function(){approuter.student_billing()}},{key:"plans",value:function(){approuter.student_plans()}},{key:"deleteAccount",value:function(){}}])&&c(t.prototype,n),r&&c(t,r),i}(a.default.Component))||o;t.default=d},82329:(e,t,n)=>{n(82526),n(41817),n(32165),n(92222),n(57327),n(69826),n(89554),n(66992),n(21249),n(19601),n(38880),n(49337),n(30489),n(47941),n(41539),n(12419),n(39714),n(78783),n(54747),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.LaunchStudentPlansModal=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"dialogView";0;var r=approuter.profile;n=r.email?n:n+"-signup",r.email?approuter.show_modal(s.default.createElement(f.default,{id:"upsell-modal",width:450,onClose:function(){return t&&t()}},s.default.createElement(B,{where:n,profile:r,type:"modal",onSubscribe:e}))):approuter.show_modal(s.default.createElement(f.default,{show_x:!0,id:"billing-signup-modal",width:650,onClose:function(){return t&&t()}},s.default.createElement(H,{profile:r,onSuccess:function(){approuter.hide_modal("billing-signup-modal",!0),approuter.show_modal(s.default.createElement(f.default,{id:"upsell-modal",width:450,onClose:function(){return t&&t()}},s.default.createElement(B,{profile:approuter.profile,where:n,type:"modal",onSubscribe:e})))}})))},t.SignupWithValidEmailView=t.StudentPlansPage=void 0;var r,o,a=v(n(31349)),i=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==b(e)&&"function"!=typeof e)return{default:e};var t=g();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(n,o,a):n[o]=e[o]}n.default=e,t&&t.set(e,n);return n}(n(92119)),s=v(n(67294)),c=v(n(72052)),u=v(n(71443)),l=v(n(74829)),p=n(87723),f=v(n(89357)),d=v(n(94184)),m=n(53896),y=n(93951),h=v(n(41609));function g(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return g=function(){return e},e}function v(e){return e&&e.__esModule?e:{default:e}}function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t&&j(e.prototype,t),n&&j(e,n),e}function O(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return R(this,n)}}function R(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T={greencheck:{width:50,marginRight:15,marginTop:15},i:{color:"white",fontSize:"94px"}},A={iconTitle:{textAlign:"center",margin:"5px 0 5px",fontSize:14}},z=1,I=2,L=4,D=0,U={padding:"10px 0px",width:350,fontSize:18},q={modal:{cl1:" ",cl2:" ",cl3:"  ",cl4:"col-md-10 col-md-offset-1"},body:{cl1:"container content-top",cl2:"row",cl3:"col-md-8",cl4:"col-md-6 col-md-offset-3"}},Y={backgroundColor:"#e44626",color:"white",padding:"0px 13px",marginLeft:"5px",fontWeight:"bold",backgroundImage:"url(//static.typingclub.com/m//corp2/img/tp_paid/sale_left.png), url(//static.typingclub.com/m//corp2/img/tp_paid/sale_right.png)",backgroundPosition:"left, right",backgroundRepeat:"no-repeat, no-repeat",backgroundSize:"contain, contain"},B=(0,m.withTranslation)(["common"])(r=function(e){O(n,e);var t=P(n);function n(e){var r;return x(this,n),M(N(r=t.call(this,e)),"state",{active_plan:0,is_upgraded:!1,is_changed:!1,is_canceled:!1,is_payment_updated:!1,old_subscription:null,show_cancel:!1,show_change:!1,action:D,selected:0,available_plans:[],exp:null}),r.onToken=r.onToken.bind(N(r)),r.onChangePlanRadio=r.onChangePlanRadio.bind(N(r)),r}return S(n,[{key:"componentWillMount",value:function(){var e=this;void 0!==this.props.upgraded&&this.setState({is_upgraded:!0}),a.default.getTpPlans().then((function(t){e.setState({available_plans:t.objects}),a.default.getUserSubscription((function(n){n?e.setState({selected:n.plan,active_plan:n.plan,old_subscription:n,exp:n.plan_expiration}):t.objects[1]&&t.objects[1].id&&e.setState({selected:t.objects[1].id})}))}))}},{key:"checkEmail",value:function(){var e=this;this.props.profile.email||approuter.show_modal(s.default.createElement(f.default,{show_x:!0,id:"billing-signup-modal-p",width:650,onClose:function(){e.forceUpdate()}},s.default.createElement(H,{profile:this.props.profile,onSuccess:function(){approuter.hide_modal("billing-signup-modal-p",!0),approuter.refresh()}.bind(this)})))}},{key:"onToken",value:function(e){e=e||{},this.state.show_change?this.setState({show_change:!1,action:I}):this.setState({show_change:!1,action:L}),this.createUserSubscription(this.state.selected,e),approuter.profile.is_basic&&(approuter.profile.is_basic=!1),this.props.onSubscribe&&this.props.onSubscribe(this.state.selected)}},{key:"createUserSubscription",value:function(e,t){this.setState({is_loading:!0}),a.default.createUserSubscription({plan:e,token:t},function(e){var t={subscription:e.subscription_id,did_upgrade:e.upgraded_subscription,is_loading:!1};switch(this.state.action){case L:try{_hsq.push(["trackEvent",{id:"000007472369",value:35}]),_hsq.push(["identify",{is_paid:!0,ever_paid:!0}]),_hsq.push(["trackPageView"])}catch(e){}t.is_upgraded=!0;break;case z:try{_hsq.push(["identify",{is_paid:!1}]),_hsq.push(["trackPageView"])}catch(e){}t.is_canceled=!0;break;case I:t.is_changed=!0}this.setState(t)}.bind(this),(function(e){setTimeout(approuter.refresh,1e3)}))}},{key:"render_success",value:function(){var e=this.props.t,t=s.default.createElement("div",null,s.default.createElement("h1",{style:{fontSize:36,color:"#555",marginTop:30}},e("Successful")),s.default.createElement("div",{className:"text-success",role:"alert",style:{marginBottom:15}},e("Your Premium subscription is now active.")),s.default.createElement("p",null,"Thank you for subscribing to TypingClub Premium Edition. You can now enjoy your favorite typing program with the Premium features & completely ad-free."));return this.render_message(t)}},{key:"render_cancel",value:function(){var e=this.props.t,t=s.default.createElement("div",null,s.default.createElement("h1",{style:{fontSize:36,color:"#555",marginTop:30}},e("Successful")),s.default.createElement("div",{className:"text-success",role:"alert",style:{marginBottom:15}},e("Your subscription has been successfully canceled.")),s.default.createElement("p",null,e("We will miss you! You can activate your plan again from the billing section of your portal at anytime.")," ",s.default.createElement("a",{onClick:approuter.student_billing},e("Go to billing section"))));return this.render_message(t)}},{key:"render_change",value:function(){var e=this.props.t,t=this.findPlanById(this.state.selected).description,n=s.default.createElement("div",null,s.default.createElement("h1",{style:{fontSize:36,color:"#555",marginTop:30}},e("Successful")," "),s.default.createElement("div",{className:"text-success",role:"alert",style:{marginBottom:15}},e("Your plan has changed.")),s.default.createElement("p",null,e("Your plan successfully changed to {{desc}}. You can change or cancel your Premium subscription at anytime.",{desc:t})));return this.render_message(n)}},{key:"render_message",value:function(e){var t=this.props.t;return s.default.createElement("div",{className:q[this.props.type].cl1},s.default.createElement("div",{className:q[this.props.type].cl2},s.default.createElement("div",{className:q[this.props.type].cl3},s.default.createElement("div",{className:"body"==this.props.type?"ed-paper":""},s.default.createElement("div",{className:"row"},s.default.createElement("div",{className:"col-md-2"},s.default.createElement("div",{style:T.greencheck},s.default.createElement("img",{src:"//static.typingclub.com/m/corp2/img/tp_paid/checkmark.svg"}))),s.default.createElement("div",{className:"body"==this.props.type?"col-md-10":"col-md-8"},e,"modal"==this.props.type?s.default.createElement("button",{className:"btn btn-primary pull-right",onClick:function(){window.location.reload()}},"Close"):s.default.createElement("a",{className:"btn btn-primary pull-right",onClick:approuter.dashboard},t("Continue to TypingClub")))))),"modal"!=this.props.type?s.default.createElement("div",{className:"col-md-4"},s.default.createElement(u.default,{active:"billing"})):null))}},{key:"handleCloseCancel",value:function(){this.setState({show_cancel:!1})}},{key:"cancelSubscriptionAlert",value:function(){this.setState({show_cancel:!0})}},{key:"handleCloseUpgrade",value:function(){this.setState({show_change:!1})}},{key:"onChangeAlert",value:function(){0!=this.state.selected?this.setState({show_change:!0}):this.cancelSubscriptionAlert()}},{key:"handleDelete",value:function(){var e=this;a.default.cancelUserSubscription({action:z},(function(t){t.deleted&&(e.handleCloseCancel(),e.setState({is_canceled:!0}))}))}},{key:"onEmail",value:function(e){this.props.profile.email=e,this.forceUpdate()}},{key:"onChangePlanRadio",value:function(e){this.setState({selected:e.currentTarget.value})}},{key:"onLicenseKey",value:function(e){approuter.license_key_app()}},{key:"findPlanById",value:function(e){return this.state.available_plans.find((function(t){return t.id==e}))}},{key:"render",value:function(){var e=this;if(!this.state.available_plans.length)return null;if(this.state.is_upgraded)return this.render_success();if(this.state.is_changed)return this.render_change();if(this.state.is_canceled)return this.render_cancel();var t,n=this.state.old_subscription,r=this.props.profile,o="modal"==this.props.type,a=this.state.is_loading,i=!!(this.state.exp&&Date.parse(this.state.exp)<new Date),m=this.props.t,y={email:r.email,image:p.stripe_settings.logo,name:p.stripe_settings.stripe_account_name,currency:this.findPlanById(this.state.selected).currency,stripeKey:p.stripe_settings.getStripeKey()};r.email||o?null==n||!n.is_active&&"unpaid"!=n.status&&"past_due"!=n.status?t=s.default.createElement(c.default,_({token:this.onToken,description:p.stripe_settings.instruction,panelLabel:"Free Trial, then",amount:this.state.available_plans.length>0?this.findPlanById(this.state.selected).amount:0},y),s.default.createElement("button",{ref:function(t){return e.inputElement=t},disabled:0==this.state.selected,className:"btn btn-primary",style:k(k({},U),{},{fontSize:"1em"})},m("Start Your 3-Day Free Trial"))):(n.is_active||"unpaid"==n.status||"past_due"==n.status)&&(t=s.default.createElement("button",{disabled:this.state.selected==n.plan,className:"btn btn-primary",style:U,onClick:this.onChangeAlert.bind(this)},m("Change Plan"))):t=s.default.createElement("button",{onClick:function(){this.checkEmail()}.bind(this),disabled:0==this.state.selected,className:"btn btn-primary",style:U},m("Start Your 3-Day Free Trial"));this.findPlanById(0);return s.default.createElement("div",{className:q[this.props.type].cl1,ref:"modal_root","data-backdrop":"static"},s.default.createElement("div",{className:q[this.props.type].cl2},s.default.createElement("div",{className:q[this.props.type].cl3},s.default.createElement("div",{style:{width:o?420:"96%",height:o?"75%":"97%",position:"absolute",zIndex:1e3,display:a?"block":"none",background:" url('//static.typingclub.com/m//tp/loading.gif') no-repeat center center",backgroundColor:"rgba(255,255,255,0.5)"}}," "),"modal"==this.props.type&&s.default.createElement("div",null,s.default.createElement("h2",{style:{marginTop:0}},m("Premium Edition")),s.default.createElement("hr",null)),s.default.createElement("div",{className:"body"==this.props.type?"ed-paper":""},"body"==this.props.type&&s.default.createElement("h2",{style:{margin:"0 0 30px 0"}},"Premium Edition",n&&n.is_active?null:s.default.createElement("button",{className:"btn btn-default pull-right",onClick:this.onLicenseKey.bind(this)},m("Enter License Key"))),s.default.createElement("h4",{style:{margin:"0 0 30px 0",fontSize:16}},0!=this.state.active_plan&&n.is_active&&!i?s.default.createElement("span",null,m("You are currently using the {{plan_name}}",{plan_name:""}),s.default.createElement("strong",{className:"text-primary"}," ",this.findPlanById(parseInt(n.plan)).description,". ")):s.default.createElement("span",null,m("You are currently using the free edition.")+" "),n&&n.is_active?m(" You can change your current plan, or go back to basic right here."):m(" Upgrade your plan to take advantage of TypingClub Premium features. Start your 3-day free trial today, you can cancel anytime from your profile.")),s.default.createElement("div",{style:{marginLeft:50,fontSize:16,fontFamily:"Roboto"}},this.state.available_plans.map(function(e,t){return 0==this.state.active_plan&&0==e.id?null:s.default.createElement("label",{key:e.id,className:"radio",style:{marginTop:20,cursor:"pointer"}},s.default.createElement("input",{style:{margin:"2px 0 0 -25px"},type:"radio",name:"plan",checked:this.state.selected==e.id,onChange:this.onChangePlanRadio,value:e.id}),s.default.createElement("strong",null,0==e.id?m("Free Plan"):e.description),0==this.state.active_plan&&null!=e.formated_regular_price?s.default.createElement("span",null,s.default.createElement("span",{style:Y},null!=e.sale_tag?e.sale_tag:m("SALE"))):null,s.default.createElement("br",null),0==this.state.active_plan&&null!=e.formated_regular_price?s.default.createElement("span",{style:{marginRight:"10px"}},s.default.createElement("strike",{style:{fontSize:"0.9em"}},s.default.createElement("strong",null,e.formated_regular_price))):"","Annually"==e.period?s.default.createElement("span",null,s.default.createElement("strong",{className:"text-primary",style:null!=e.formated_regular_price?{color:Y.backgroundColor}:null},e.formated_price_per_month)," ",m("per month")," (",m("billed annually")," ",e.formated_price,")"):s.default.createElement("span",null,s.default.createElement("strong",{className:"text-primary",style:null!=e.formated_regular_price?{color:Y.backgroundColor}:null},e.formated_price)," ",m("per month")),0==this.state.active_plan&&null!=e.marketing_message_line1?s.default.createElement("span",null,s.default.createElement("br",null),s.default.createElement("span",{style:{fontSize:"0.9em"}},e.marketing_message_line1)):"",0==this.state.active_plan&&null!=e.marketing_message_line2?s.default.createElement("span",null,s.default.createElement("br",null),s.default.createElement("span",{style:{fontSize:"0.9em"}},e.marketing_message_line2)):"")}.bind(this))),s.default.createElement("div",{className:"clearfix",style:{margin:"30px 0",textAlign:"center"}},t,n&&n.is_active?null:s.default.createElement("div",{style:{marginTop:5}},m("Your credit card will not be charged during the trial"))),s.default.createElement("hr",null),!o&&s.default.createElement("h4",{style:{margin:"15px 0 15px 0",fontSize:16}},m("As a Premium subscriber you can enjoy TypingClub ad-free, and gain access to exclusive features including"),":"),s.default.createElement("div",{className:"row billing-sect"},s.default.createElement("div",{style:{padding:"5px 20px",boxSizing:"border-box"},className:(0,d.default)({"col-md-2":!o,"col-md-4":o,"hint--top-right":!0,"hint--yel":!0}),"aria-label":m("Use the program 100% ad-free. This will also increase the speed and performance of the program.")},s.default.createElement("div",{className:"img"},s.default.createElement("img",{src:"//static.typingclub.com/m/corp2/img/tp_paid/ad.svg"})),s.default.createElement("h5",{style:A.iconTitle},m("Ad Free"))),s.default.createElement("div",{style:{padding:"5px 20px",boxSizing:"border-box"},className:(0,d.default)({"col-md-2":!o,"col-md-4":o,"hint--top":!0,"hint--yel":!0}),"aria-label":m("Includes two additional engaging games in the lesson plan. Both games are fun and challenging.")},s.default.createElement("div",{className:"img"},s.default.createElement("img",{src:"//static.typingclub.com/m/corp2/img/tp_paid/game.svg"})),s.default.createElement("h5",{style:A.iconTitle},m("More Games"))),s.default.createElement("div",{style:{padding:"5px 20px",boxSizing:"border-box"},className:(0,d.default)({"col-md-2":!o,"col-md-4":o,"hint--top-left":!0,"hint--yel":!0}),"aria-label":m("This immersive experience guides you through a series of animated stories, while you are typing them.")},s.default.createElement("div",{className:"img"},s.default.createElement("img",{src:"//static.typingclub.com/m/corp2/img/tp_paid/videotyping.svg"})),s.default.createElement("h5",{style:A.iconTitle},m("Story Typing"))),s.default.createElement("div",{style:{padding:"5px 20px",boxSizing:"border-box"},className:(0,d.default)({"col-md-2":!o,"col-md-4":o,"hint--top-right":!0,"hint--yel":!0}),"aria-label":m("Get access to more advanced reports that will help identify problem areas, and give more visibility to your typing progress.")},s.default.createElement("div",{className:"img"},s.default.createElement("img",{src:"//static.typingclub.com/m/corp2/img/tp_paid/reports.svg"})),s.default.createElement("h5",{style:A.iconTitle},m("More Reports"))),s.default.createElement("div",{style:{padding:"5px 20px",boxSizing:"border-box"},className:(0,d.default)({"col-md-2":!o,"col-md-4":o,"hint--top":!0,"hint--yel":!0}),"aria-label":m("Your typing activities are recorded and can be played back at a later time to help assess the fluency of your typing.")},s.default.createElement("div",{className:"img"},s.default.createElement("img",{src:"//static.typingclub.com/m/corp2/img/tp_paid/playback.svg"})),s.default.createElement("h5",{style:A.iconTitle},m("Replay Attempts"))),s.default.createElement("div",{style:{padding:"5px 20px",boxSizing:"border-box"},className:(0,d.default)({"col-md-2":!o,"col-md-4":o,"hint--top-left":!0,"hint--yel":!0}),"aria-label":m("Get access to more exciting new themes in your typing interface.")},s.default.createElement("div",{className:"img"},s.default.createElement("img",{src:"//static.typingclub.com/m/corp2/img/tp_paid/skins.svg"})),s.default.createElement("h5",{style:A.iconTitle},m("More Themes")))),n&&n.payments&&"modal"!=this.props.type&&s.default.createElement("div",null,s.default.createElement("hr",null),s.default.createElement(l.default,{payments:n.payments})))),"modal"!=this.props.type?s.default.createElement("div",{className:"col-md-4"},s.default.createElement(u.default,{active:"billing"})):null),s.default.createElement("div",{style:{display:this.state.show_cancel?"block":"none"}},s.default.createElement(f.default,{id:"cnl_sub",show_x:"false",width:500,onClose:this.handleCloseCancel.bind(this)},s.default.createElement("h3",{style:{marginTop:11,marginBottom:22}},m("Cancel Subscription")),s.default.createElement("p",null,m("You are about to cancel your {{plan}} subscription. Your account will remain on the Premium Edition for the rest of your billing period, but you will not be charged again. Are you sure you want to continue?",{plan:this.findPlanById(this.state.active_plan).description})," "),s.default.createElement("button",{className:"btn btn-default col-md-5 pull-left",onClick:this.handleCloseCancel.bind(this)},m("No, Thanks")),s.default.createElement("button",{className:"btn btn-primary col-md-5 pull-right",style:{marginLeft:10},onClick:this.handleDelete.bind(this)},m("Yes")))),s.default.createElement("div",{style:{display:this.state.show_change?"block":"none"}},s.default.createElement(f.default,{style:{marginTop:11,marginBottom:22},id:"chg_sub",show_x:"false",width:500,onClose:this.handleCloseUpgrade.bind(this)},s.default.createElement("h3",null,m("Change Plan")),s.default.createElement("p",null,m("Would you like to change your subscription to {{plan}}?",{plan:this.findPlanById(this.state.selected).description})),s.default.createElement("button",{className:"btn btn-default col-md-5 pull-left",onClick:this.handleCloseUpgrade.bind(this)},m("No, Thanks")),s.default.createElement("button",{className:"btn btn-primary col-md-5 pull-right",style:{marginLeft:10},onClick:function(){return e.onToken()}},"Yes"))))}}]),n}(s.default.Component))||r;t.StudentPlansPage=B;var H=(0,m.withTranslation)(["common"])(o=function(e){O(n,e);var t=P(n);function n(){var e;x(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return M(N(e=t.call.apply(t,[this].concat(o))),"state",{notice:null,oauths:null}),e}return S(n,[{key:"componentDidMount",value:function(){var e=this;a.default.getSchoolAccount("www",(function(t){delete t.oauths.clever,e.setState({oauths:t.oauths})})),this.keyHandlerId=approuter.keymanager.register((function(e){return!0}))}},{key:"componentWillUnmount",value:function(){approuter.keymanager.unregister(this.keyHandlerId)}},{key:"form_submit",value:function(e){e.preventDefault(),this.update_profile()}},{key:"clearNotice",value:function(){this.setState({notice:{}})}},{key:"showNotice",value:function(e,t){this.setState({notice:{type:e,text:t}})}},{key:"update_profile",value:function(){var e=this.props.t,t=this.props.profile,n=Boolean(t.fname),r=this.refs.email.value;if(!i.validateEmail(r))return this.showNotice("danger",e("Please provide a valid email"));if(n)approuter.update_profile({email:r}).then(this.props.onSuccess).catch(this.handle_error.bind(this));else{var o=this.refs.fname.value,a=this.refs.lname.value,s=this.refs.password.value;if(!o)return this.showNotice("danger",e("Please provide a valid first name"));if(!a)return this.showNotice("danger",e("Please provide a valid last name"));if(!s)return this.showNotice("danger",e("Please provide a password"));approuter.update_profile({fname:o,lname:a,password:s,email:r}).then(this.props.onSuccess).catch(this.handle_error.bind(this))}this.setState({disable_action:!0})}},{key:"handle_error",value:function(e,t){var n=e.responseJSON.student;for(var r in n){this.showNotice("danger",n[r][0]);break}this.setState({disable_action:!1})}},{key:"handle_oauth",value:function(){approuter.apply_env(approuter.current_app),this.props.onSuccess()}},{key:"render",value:function(){var e,t=this,n=this.props.t,r=this.props.profile,o=this.state;if((0,h.default)(o.notice)||(e=s.default.createElement("div",{style:{margin:"auto -20px"},className:"alert alert-"+o.notice.type,role:"alert"},s.default.createElement("button",{type:"button",className:"close",onClick:this.clearNotice.bind(this)},"×"),o.notice.text)),o.loading)return s.default.createElement("div",{style:{textAlign:"center"}},s.default.createElement("h3",{style:{textAlign:"center",padding:"10px 0 150px"}},"Checking Profile..."),s.default.createElement("div",{className:"boxLoading boxLoading-dark"}));var a=Boolean(r.fname);return s.default.createElement("div",null,s.default.createElement("h2",{style:{marginTop:0}},n(a?"Update your profile email":"Create a profile to continue")),s.default.createElement("div",{style:{display:"inline-block",verticalAlign:"top",height:200,width:260,marginRight:55,position:"relative"}},o.oauths&&(0,y.listInOauthOptions)(o.oauths,!0,this.handle_oauth.bind(this),this.handle_error.bind(this),(function(e){return t.setState({loading:e})})),s.default.createElement("h3",{style:{position:"absolute",right:-80,top:"50%",color:"#aaa",background:"white",padding:10}},"OR")),s.default.createElement("form",{className:"form-horizontal",onSubmit:this.form_submit.bind(this),style:{width:250,paddingLeft:50,display:"inline-block",borderLeft:"solid 1px #ddd"}},e,!a&&s.default.createElement("div",{className:"form-group"},s.default.createElement("label",{htmlFor:"fname",className:"control-label"},n("First Name")),s.default.createElement("input",{type:"text",ref:"fname",className:"form-control",id:"fname",placeholder:n("First Name")})),!a&&s.default.createElement("div",{className:"form-group"},s.default.createElement("label",{htmlFor:"lname",className:"control-label"},n("Last Name")),s.default.createElement("input",{type:"text",ref:"lname",className:"form-control",id:"lname",placeholder:n("Last Name")})),s.default.createElement("div",{className:"form-group"},s.default.createElement("label",{htmlFor:"email",className:"control-label"},n("Email")),s.default.createElement("input",{type:"text",ref:"email",className:"form-control",id:"email",placeholder:n("email")})),!a&&s.default.createElement("div",{className:"form-group"},s.default.createElement("label",{htmlFor:"password"},n("Password")),s.default.createElement("input",{type:"password",ref:"password",className:"form-control",id:"password",placeholder:n("Password")})),s.default.createElement("div",{className:"form-group"},s.default.createElement("button",{type:"submit",disabled:o.disable_action,className:"btn btn-lg btn-primary"},n("Save & Proceed")))))}}]),n}(s.default.Component))||o;t.SignupWithValidEmailView=H},85788:(e,t,n)=>{n(58967)},94081:(e,t,n)=>{n(82526),n(41817),n(32165),n(92222),n(66992),n(30489),n(41539),n(12419),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(67294)),o=a(n(9479));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(p,e);var t,n,a,i=l(p);function p(){var e;s(this,p);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(f(e=i.call.apply(i,[this].concat(n))),"state",{}),e}return t=p,(n=[{key:"componentDidMount",value:function(){var e=(0,o.default)(this.refs.card);e.css({opacity:0,top:200,marginLeft:-1*this.props.width/2,width:this.props.width,transform:"scale(.8)"}),setTimeout((function(){return e.css({opacity:1,transform:"scale(1)"})}))}},{key:"render",value:function(){return r.default.createElement("div",{className:"ed-card",ref:"card"},this.props.children)}}])&&c(t.prototype,n),a&&c(t,a),p}(r.default.Component);t.default=y},89357:(e,t,n)=>{n(82526),n(41817),n(32165),n(92222),n(66992),n(19601),n(30489),n(41539),n(12419),n(39714),n(78783),n(33948),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,o=(r=n(67294))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}function l(e,t){return!t||"object"!==a(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(l,e);var t,n,r,a=u(l);function l(){var e;i(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return d(p(e=a.call.apply(a,[this].concat(n))),"close",(function(){e.props.close_outside&&approuter.hide_modal(e.props.id)})),e}return t=l,(n=[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){return e.modal_div&&e.modal_div.focus()}),10)}},{key:"render",value:function(){var e=this,t=Object.assign({},this.props.style,{width:this.props.width,padding:null==this.props.padding?30:this.props.padding});return this.props.height&&(t.height=this.props.height),o.default.createElement("div",{onClick:this.close,className:"edmodal"+(this.props.scrollable?" scrollable":"")},o.default.createElement("div",{ref:function(t){e.modal_div=t},role:"dialog",tabIndex:"0","aria-label":"dialog",style:t,onClick:function(e){return e.stopPropagation()},className:"edmodal-box ".concat(this.props.className||"")},1==this.props.show_x?o.default.createElement("div",{onClick:this.close.bind(this),className:"edmodal-x"},"×"):"",this.props.children))}}])&&s(t.prototype,n),r&&s(t,r),l}(o.default.Component);m.defaultProps={show_x:!0,close_outside:!0,esc_close:!0};var y=m;t.default=y},13259:(e,t,n)=>{"use strict";n.r(t)},30844:(e,t,n)=>{var r={"./es":55655};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=30844},60306:e=>{"use strict";e.exports=JSON.parse('{"name":"uix","version":"1.1.1-410","description":"TypingClub Frontend Build","repository":"https://github.com/EdClub/tpclub/tree/master/uix","scripts":{"clean":"make clean","build-svg":"make build-svg","watch":"npm-run-all build-svg --parallel watch:*","watch:student":"webpack --mode development --env app=student --config webpack.config.js --progress --color --watch","watch:student_tp":"webpack --mode development --env app=student_tp --config webpack.config.js --progress --color --watch","watch:student_authoring":"webpack --mode development --env app=student_authoring --config webpack.config.js --progress --color --watch","watch:student_cordova":"webpack --mode development --env app=student_cordova --config webpack.config.js --progress --color --watch","watch:teacher":"webpack --mode development --env app=teacher --config webpack.config.js --progress --color --watch","watch:adminportal":"webpack --mode development --env app=adminportal --config webpack.config.js --progress --color --watch","watch:playback":"webpack --mode development --env app=playback --config webpack.config.js --progress --color --watch","watch:website":"webpack --mode development --env app=website/website --config webpack.config.js --progress --color --watch","watch:school_entry":"webpack --mode development --env app=website/school_entry --config webpack.config.js --progress --color --watch","watch:auth_class_import":"webpack --mode development --env app=auth_class_import --config webpack.config.js --progress --color --watch","watch:auth":"webpack --mode development --env app=auth --config webpack.config.js --progress --color --watch","build:dev":"npm-run-all build-svg --parallel build:dev:*","build:dev:student":"webpack --mode development --env app=student --config webpack.config.js --progress --color","build:dev:student_tp":"webpack --mode development --env app=student_tp --config webpack.config.js --progress --color","build:dev:student_authoring":"webpack --mode development --env app=student_authoring --config webpack.config.js --progress --color","build:dev:student_cordova":"webpack --mode development --env app=student_cordova --config webpack.config.js --progress --color","build:dev:teacher":"webpack --mode development --env app=teacher --config webpack.config.js --progress --color","build:dev:adminportal":"webpack --mode development --env app=adminportal --config webpack.config.js --progress --color","build:dev:playback":"webpack --mode development --env app=playback --config webpack.config.js --progress --color","build:dev:website":"webpack --mode development --env app=website/website --config webpack.config.js --progress --color","build:dev:school_entry":"webpack --mode development --env app=website/school_entry --config webpack.config.js --progress --color","build:dev:auth_class_import":"webpack --mode development --env app=auth_class_import --config webpack.config.js --progress --color","build:dev:auth":"webpack --mode development --env app=auth --config webpack.config.js --progress --color","build:prod":"npm-run-all build-svg --parallel build:prod:*","build:prod:student":"webpack --mode production --env app=student --config webpack.config.js","build:prod:student_tp":"webpack --mode production --env app=student_tp --config webpack.config.js","build:prod:student_authoring":"webpack --mode production --env app=student_authoring --config webpack.config.js","build:prod:student_cordova":"webpack --mode production --env app=student_cordova --config webpack.config.js","build:prod:teacher":"webpack --mode production --env app=teacher --config webpack.config.js","build:prod:adminportal":"webpack --mode production --env app=adminportal --config webpack.config.js","build:prod:playback":"webpack --mode production --env app=playback --config webpack.config.js","build:prod:auth_class_import":"webpack --mode production --env app=auth_class_import --config webpack.config.js","build:prod:auth":"webpack --mode production --env app=auth --config webpack.config.js","build:prod:website":"webpack --mode production --env app=website/website --config webpack.config.js","build:prod:school_entry":"webpack --mode production --env app=website/school_entry --config webpack.config.js","build:deploy":"npm version prerelease && npm run build:prod","build:staging":"npm run build:prod","test":"jest","test:clear-cache":"jest --clearCache","test:verbose":"jest --verbose","test:coverage":"jest --coverage","test:watch":"jest --watch","lint:teacher":"eslint \'./js/teacher/**/*.{js,jsx,ts,tsx}\'","lint:teacher:fail-on-error":"eslint --max-warnings 0 \'./js/teacher/**/*.{js,jsx,ts,tsx}\'","lint:teacher:fix":"eslint --fix \'./js/teacher/**/*.{js,jsx,ts,tsx}\'","translate:student":"i18next-scanner --config i18n-scanner.config.js","translate:teacher":"i18next-scanner --config i18n-scanner.teacher.config.js","commit-checks:teacher":"npm-run-all lint:teacher:fail-on-error --parallel translate:teacher test","postinstall":"touch ./node_modules/.metadata_never_index"},"author":"","license":"ISC","devDependencies":{"@babel/core":"7.10.2","@babel/plugin-proposal-class-properties":"7.10.1","@babel/plugin-proposal-decorators":"7.10.1","@babel/plugin-proposal-export-default-from":"7.10.1","@babel/plugin-proposal-export-namespace-from":"7.10.1","@babel/plugin-syntax-dynamic-import":"7.8.3","@babel/plugin-syntax-export-default-from":"7.10.1","@babel/plugin-syntax-export-namespace-from":"7.8.3","@babel/plugin-transform-modules-commonjs":"7.10.1","@babel/preset-env":"7.10.2","@babel/preset-react":"7.10.1","@babel/preset-stage-0":"7.8.3","@sentry/cli":"^1.58.0","@testing-library/jest-dom":"5.14.1","@testing-library/react":"11.0.4","@types/dom-mediacapture-record":"1.0.9","@types/faker":"5.5.6","@types/highlightjs":"9.12.1","@types/jest":"26.0.23","@types/js-cookie":"2.2.6","@types/lodash":"4.14.170","@types/react":"16.9.52","@types/react-dom":"16.9.8","@types/react-router-dom":"5.1.7","@types/react-window":"1.8.3","@types/yup":"0.29.11","@typescript-eslint/eslint-plugin":"4.28.1","@typescript-eslint/eslint-plugin-tslint":"4.28.1","@typescript-eslint/parser":"4.28.1","acorn":"7.2.0","babel":"6.23.0","babel-cli":"6.26.0","babel-core":"7.0.0-bridge.0","babel-eslint":"10.1.0","babel-jest":"26.5.2","babel-loader":"^8.2.2","babel-plugin-espower":"3.0.1","babel-plugin-jsx-remove-data-test-id":"2.1.3","babel-plugin-transform-react-remove-prop-types":"0.4.24","babel-plugin-transform-remove-strict-mode":"0.0.2","babel-root-import":"4.1.8","browserify":"16.5.1","circular-dependency-plugin":"^5.2.2","clean-webpack-plugin":"^3.0.0","css-loader":"^5.1.2","envify":"4.1.0","eslint":"7.29.0","eslint-plugin-jsx-a11y":"6.4.1","eslint-plugin-prettier":"3.4.0","eslint-plugin-react":"7.24.0","eslint-plugin-react-hooks":"4.2.0","eslint-plugin-testing-library":"3.9.1","eslint-plugin-you-dont-need-lodash-underscore":"6.12.0","exorcist":"1.0.1","exports-loader":"0.7.0","expose-loader":"^2.0.0","file-replace-loader":"1.2.0","find-imports":"1.1.0","fork-ts-checker-webpack-plugin":"^6.1.1","html-webpack-plugin":"^5.3.1","i18next-scanner":"2.11.0","identity-obj-proxy":"3.0.0","imports-loader":"0.8.0","jest":"26.5.3","mini-css-extract-plugin":"^1.3.9","node-sass":"4.14.1","normalize.css":"8.0.1","npm-run-all":"4.1.5","parse-svg-path":"0.1.2","pbf":"3.2.1","pbf-loader":"1.1.0","prop-types":"15.7.2","react-test-renderer":"16.13.1","sass-loader":"^11.0.1","script-loader":"0.7.2","svg-sprite":"1.5.0","terser-webpack-plugin":"^5.1.1","ts-jest":"26.4.1","ts-loader":"9.2.3","tslint":"6.1.3","tslint-config-prettier":"1.18.0","tslint-react":"5.0.0","typescript":"4.3.5","webpack":"^5.24.4","webpack-cli":"^4.5.0","webpack-manifest-plugin":"^3.1.0","webpack-merge":"^5.7.3","webpack-strip-block":"^0.3.0","webpack-visualizer-plugin":"^0.1.11"},"dependencies":{"@babel/polyfill":"7.8.7","@babel/runtime":"^7.13.10","@emotion/react":"^11.1.5","@popperjs/core":"^2.9.2","@reach/rect":"0.15.2","@reach/skip-nav":"0.15.2","@reach/visually-hidden":"0.15.2","@sentry/browser":"5.27.0","@vimeo/player":"github:EdClub/player.js","ajv":"6.12.6","bootstrap":"4.4.1","classnames":"^2.3.1","core-js":"3.6.4","createjs":"1.0.1","dagre":"^0.8.5","date-fns":"2.15.0","downloadjs":"1.4.7","downshift":"5.4.7","draft-js":"^0.11.7","draft-js-plugins-editor":"^3.0.0","draft-js-static-toolbar-plugin":"^3.0.1","easing":"1.2.1","faker":"4.1.0","formik":"2.2.9","framer-motion":"4.1.17","fuse.js":"3.6.1","gsap":"^3.6.1","highcharts":"^6.2.0","highcharts-more":"0.1.7","highcharts-react-official":"2.2.2","highlightjs":"9.16.2","i18next":"17.3.1","i18next-browser-languagedetector":"4.0.2","i18next-xhr-backend":"3.2.2","immer":"^8.0.1","immutable":"3.8.2","interactjs":"^1.10.3","jquery":"2.2.3","jquery.transit":"0.9.12","js-cookie":"2.2.1","jstimezonedetect":"1.0.7","lity":"^2.4.1","lodash":"4.17.15","lottie-web":"5.6.6","moment":"2.24.0","moment-timezone":"0.5.28","named-urls":"2.0.0","path-to-regexp":"3.2.0","pdfmake":"0.1.65","phaser":"2.6.2","popper.js":"1.16.1","react":"16.13.1","react-bootstrap":"0.33.1","react-dom":"16.13.1","react-error-boundary":"2.3.0","react-focus-lock":"2.5.1","react-ga":"2.7.0","react-helmet":"^6.1.0","react-hook-form":"^7.1.1","react-hotkeys":"2.0.0","react-i18next":"10.13.2","react-popper":"^2.2.5","react-query":"^3.18.1","react-router":"5.2.0","react-router-dom":"5.2.0","react-sortable-hoc":"1.11.0","react-stripe-checkout":"2.6.3","react-transition-group":"4.3.0","react-window":"1.8.5","sbd":"^1.0.18","scrollmagic":"2.0.7","swagger-client":"3.10.5","url-search-params":"1.1.0","use-deep-compare-effect":"^1.6.1","use-immer":"^0.4.2","use-onclickoutside":"0.4.0","valtio":"1.0.6","webfontloader":"1.6.28","yup":"0.32.9"}}')}},e=>{"use strict";e.O(0,[839],(()=>[736,594,249,259,435,486,126,742,209,900,602,426,903].map(e.E)),5);e.O(0,[736],(()=>{return t=85788,e(e.s=t);var t}));var t=e.O();student_tp=t}]);
//# sourceMappingURL=student_tp.410.min.js.map